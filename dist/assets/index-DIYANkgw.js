(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var fp={exports:{}},Vs={},gp={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),cv=Symbol.for("react.portal"),lv=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),hv=Symbol.for("react.provider"),pv=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),mv=Symbol.for("react.memo"),yv=Symbol.for("react.lazy"),Td=Symbol.iterator;function vv(t){return t===null||typeof t!="object"?null:(t=Td&&t[Td]||t["@@iterator"],typeof t=="function"?t:null)}var mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yp=Object.assign,vp={};function Yr(t,e,n){this.props=t,this.context=e,this.refs=vp,this.updater=n||mp}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cp(){}Cp.prototype=Yr.prototype;function Al(t,e,n){this.props=t,this.context=e,this.refs=vp,this.updater=n||mp}var El=Al.prototype=new Cp;El.constructor=Al;yp(El,Yr.prototype);El.isPureReactComponent=!0;var Sd=Array.isArray,wp=Object.prototype.hasOwnProperty,Tl={current:null},Ap={key:!0,ref:!0,__self:!0,__source:!0};function Ep(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)wp.call(e,r)&&!Ap.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:so,type:t,key:o,ref:s,props:i,_owner:Tl.current}}function Cv(t,e){return{$$typeof:so,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sl(t){return typeof t=="object"&&t!==null&&t.$$typeof===so}function wv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Id=/\/+/g;function Ra(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wv(""+t.key):e.toString(36)}function jo(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case so:case cv:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ra(s,0):r,Sd(i)?(n="",t!=null&&(n=t.replace(Id,"$&/")+"/"),jo(i,e,n,"",function(u){return u})):i!=null&&(Sl(i)&&(i=Cv(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Id,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Sd(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+Ra(o,a);s+=jo(o,e,n,c,i)}else if(c=vv(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+Ra(o,a++),s+=jo(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fo(t,e,n){if(t==null)return t;var r=[],i=0;return jo(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Av(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $e={current:null},Ho={transition:null},Ev={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Ho,ReactCurrentOwner:Tl};function Tp(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:fo,forEach:function(t,e,n){fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fo(t,function(){e++}),e},toArray:function(t){return fo(t,function(e){return e})||[]},only:function(t){if(!Sl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Yr;K.Fragment=lv;K.Profiler=dv;K.PureComponent=Al;K.StrictMode=uv;K.Suspense=gv;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ev;K.act=Tp;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yp({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Tl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)wp.call(e,c)&&!Ap.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:so,type:t.type,key:i,ref:o,props:r,_owner:s}};K.createContext=function(t){return t={$$typeof:pv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hv,_context:t},t.Consumer=t};K.createElement=Ep;K.createFactory=function(t){var e=Ep.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:fv,render:t}};K.isValidElement=Sl;K.lazy=function(t){return{$$typeof:yv,_payload:{_status:-1,_result:t},_init:Av}};K.memo=function(t,e){return{$$typeof:mv,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Ho.transition;Ho.transition={};try{t()}finally{Ho.transition=e}};K.unstable_act=Tp;K.useCallback=function(t,e){return $e.current.useCallback(t,e)};K.useContext=function(t){return $e.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return $e.current.useDeferredValue(t)};K.useEffect=function(t,e){return $e.current.useEffect(t,e)};K.useId=function(){return $e.current.useId()};K.useImperativeHandle=function(t,e,n){return $e.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return $e.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return $e.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return $e.current.useMemo(t,e)};K.useReducer=function(t,e,n){return $e.current.useReducer(t,e,n)};K.useRef=function(t){return $e.current.useRef(t)};K.useState=function(t){return $e.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return $e.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return $e.current.useTransition()};K.version="18.3.1";gp.exports=K;var j=gp.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=j,Sv=Symbol.for("react.element"),Iv=Symbol.for("react.fragment"),kv=Object.prototype.hasOwnProperty,_v=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xv={key:!0,ref:!0,__self:!0,__source:!0};function Sp(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)kv.call(e,r)&&!xv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Sv,type:t,key:o,ref:s,props:i,_owner:_v.current}}Vs.Fragment=Iv;Vs.jsx=Sp;Vs.jsxs=Sp;fp.exports=Vs;var l=fp.exports,Ip={exports:{}},lt={},kp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,U){var F=N.length;N.push(U);e:for(;0<F;){var oe=F-1>>>1,me=N[oe];if(0<i(me,U))N[oe]=U,N[F]=me,F=oe;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var U=N[0],F=N.pop();if(F!==U){N[0]=F;e:for(var oe=0,me=N.length,Bn=me>>>1;oe<Bn;){var Ve=2*(oe+1)-1,fr=N[Ve],Dt=Ve+1,ln=N[Dt];if(0>i(fr,F))Dt<me&&0>i(ln,fr)?(N[oe]=ln,N[Dt]=F,oe=Dt):(N[oe]=fr,N[Ve]=F,oe=Ve);else if(Dt<me&&0>i(ln,F))N[oe]=ln,N[Dt]=F,oe=Dt;else break e}}return U}function i(N,U){var F=N.sortIndex-U.sortIndex;return F!==0?F:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,h=null,f=3,v=!1,w=!1,T=!1,L=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=N)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function E(N){if(T=!1,g(N),!w)if(n(c)!==null)w=!0,pr(_);else{var U=n(u);U!==null&&Fn(E,U.startTime-N)}}function _(N,U){w=!1,T&&(T=!1,m(O),O=-1),v=!0;var F=f;try{for(g(U),h=n(c);h!==null&&(!(h.expirationTime>U)||N&&!be());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var me=oe(h.expirationTime<=U);U=t.unstable_now(),typeof me=="function"?h.callback=me:h===n(c)&&r(c),g(U)}else r(c);h=n(c)}if(h!==null)var Bn=!0;else{var Ve=n(u);Ve!==null&&Fn(E,Ve.startTime-U),Bn=!1}return Bn}finally{h=null,f=F,v=!1}}var R=!1,b=null,O=-1,Y=5,H=-1;function be(){return!(t.unstable_now()-H<Y)}function cn(){if(b!==null){var N=t.unstable_now();H=N;var U=!0;try{U=b(!0,N)}finally{U?Mt():(R=!1,b=null)}}else R=!1}var Mt;if(typeof p=="function")Mt=function(){p(cn)};else if(typeof MessageChannel<"u"){var ri=new MessageChannel,hr=ri.port2;ri.port1.onmessage=cn,Mt=function(){hr.postMessage(null)}}else Mt=function(){L(cn,0)};function pr(N){b=N,R||(R=!0,Mt())}function Fn(N,U){O=L(function(){N(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,pr(_))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var F=f;f=U;try{return N()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=f;f=N;try{return U()}finally{f=F}},t.unstable_scheduleCallback=function(N,U,F){var oe=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?oe+F:oe):F=oe,N){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=F+me,N={id:d++,callback:U,priorityLevel:N,startTime:F,expirationTime:me,sortIndex:-1},F>oe?(N.sortIndex=F,e(u,N),n(c)===null&&N===n(u)&&(T?(m(O),O=-1):T=!0,Fn(E,F-oe))):(N.sortIndex=me,e(c,N),w||v||(w=!0,pr(_))),N},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(N){var U=f;return function(){var F=f;f=U;try{return N.apply(this,arguments)}finally{f=F}}}})(_p);kp.exports=_p;var Rv=kp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=j,ct=Rv;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp=new Set,Li={};function lr(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for(Li[t]=e,t=0;t<e.length;t++)xp.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=Object.prototype.hasOwnProperty,Pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kd={},_d={};function bv(t){return lc.call(_d,t)?!0:lc.call(kd,t)?!1:Pv.test(t)?_d[t]=!0:(kd[t]=!0,!1)}function Ov(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mv(t,e,n,r){if(e===null||typeof e>"u"||Ov(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pe[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pe[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pe[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pe[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pe[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pe[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pe[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pe[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pe[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var Il=/[\-:]([a-z])/g;function kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Il,kl);Pe[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Il,kl);Pe[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Il,kl);Pe[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pe[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pe[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function _l(t,e,n,r){var i=Pe.hasOwnProperty(e)?Pe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mv(e,n,i,r)&&(n=null),r||i===null?bv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=Nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),uc=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Np=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),dc=Symbol.for("react.suspense"),hc=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Pp=Symbol.for("react.offscreen"),xd=Symbol.iterator;function oi(t){return t===null||typeof t!="object"?null:(t=xd&&t[xd]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Na;function fi(t){if(Na===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Na=e&&e[1]||""}return`
`+Na+t}var Pa=!1;function ba(t,e){if(!t||Pa)return"";Pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{Pa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fi(t):""}function Dv(t){switch(t.tag){case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return t=ba(t.type,!1),t;case 11:return t=ba(t.type.render,!1),t;case 1:return t=ba(t.type,!0),t;default:return""}}function pc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wr:return"Fragment";case Cr:return"Portal";case uc:return"Profiler";case xl:return"StrictMode";case dc:return"Suspense";case hc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Np:return(t.displayName||"Context")+".Consumer";case Rp:return(t._context.displayName||"Context")+".Provider";case Rl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nl:return e=t.displayName||null,e!==null?e:pc(t.type)||"Memo";case dn:e=t._payload,t=t._init;try{return pc(t(e))}catch{}}return null}function Lv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pc(e);case 8:return e===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uv(t){var e=bp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mo(t){t._valueTracker||(t._valueTracker=Uv(t))}function Op(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fc(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mp(t,e){e=e.checked,e!=null&&_l(t,"checked",e,!1)}function gc(t,e){Mp(t,e);var n=bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mc(t,e.type,n):e.hasOwnProperty("defaultValue")&&mc(t,e.type,bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mc(t,e,n){(e!=="number"||Zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gi=Array.isArray;function Pr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(gi(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bn(n)}}function Dp(t,e){var n=bn(e.value),r=bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yo,Up=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ui(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jv=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){jv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wi[e]=wi[t]})});function jp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wi.hasOwnProperty(t)&&wi[t]?(""+e).trim():e+"px"}function Hp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Hv=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cc(t,e){if(e){if(Hv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function wc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=null;function Pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ec=null,br=null,Or=null;function Od(t){if(t=lo(t)){if(typeof Ec!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Js(e),Ec(t.stateNode,t.type,e))}}function Fp(t){br?Or?Or.push(t):Or=[t]:br=t}function Bp(){if(br){var t=br,e=Or;if(Or=br=null,Od(t),e)for(t=0;t<e.length;t++)Od(e[t])}}function zp(t,e){return t(e)}function Kp(){}var Oa=!1;function $p(t,e,n){if(Oa)return t(e,n);Oa=!0;try{return zp(t,e,n)}finally{Oa=!1,(br!==null||Or!==null)&&(Kp(),Bp())}}function ji(t,e){var n=t.stateNode;if(n===null)return null;var r=Js(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Tc=!1;if(tn)try{var si={};Object.defineProperty(si,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Tc=!1}function Fv(t,e,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ai=!1,es=null,ts=!1,Sc=null,Bv={onError:function(t){Ai=!0,es=t}};function zv(t,e,n,r,i,o,s,a,c){Ai=!1,es=null,Fv.apply(Bv,arguments)}function Kv(t,e,n,r,i,o,s,a,c){if(zv.apply(this,arguments),Ai){if(Ai){var u=es;Ai=!1,es=null}else throw Error(k(198));ts||(ts=!0,Sc=u)}}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Md(t){if(ur(t)!==t)throw Error(k(188))}function $v(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Md(i),t;if(o===r)return Md(i),e;o=o.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Vp(t){return t=$v(t),t!==null?Qp(t):null}function Qp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qp(t);if(e!==null)return e;t=t.sibling}return null}var qp=ct.unstable_scheduleCallback,Dd=ct.unstable_cancelCallback,Gv=ct.unstable_shouldYield,Vv=ct.unstable_requestPaint,ge=ct.unstable_now,Qv=ct.unstable_getCurrentPriorityLevel,bl=ct.unstable_ImmediatePriority,Wp=ct.unstable_UserBlockingPriority,ns=ct.unstable_NormalPriority,qv=ct.unstable_LowPriority,Yp=ct.unstable_IdlePriority,Qs=null,Kt=null;function Wv(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Qs,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Xv,Yv=Math.log,Jv=Math.LN2;function Xv(t){return t>>>=0,t===0?32:31-(Yv(t)/Jv|0)|0}var vo=64,Co=4194304;function mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=mi(a):(o&=s,o!==0&&(r=mi(o)))}else s=n&~i,s!==0?r=mi(s):o!==0&&(r=mi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xt(e),i=1<<n,r|=t[n],e&=~i;return r}function Zv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-xt(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=Zv(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function Ic(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jp(){var t=vo;return vo<<=1,!(vo&4194240)&&(vo=64),t}function Ma(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ao(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=n}function tC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ol(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function Xp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zp,Ml,ef,tf,nf,kc=!1,wo=[],Cn=null,wn=null,An=null,Hi=new Map,Fi=new Map,pn=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(t,e){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Hi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(e.pointerId)}}function ai(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=lo(e),e!==null&&Ml(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rC(t,e,n,r,i){switch(e){case"focusin":return Cn=ai(Cn,t,e,n,r,i),!0;case"dragenter":return wn=ai(wn,t,e,n,r,i),!0;case"mouseover":return An=ai(An,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hi.set(o,ai(Hi.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Fi.set(o,ai(Fi.get(o)||null,t,e,n,r,i)),!0}return!1}function rf(t){var e=Vn(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=Gp(n),e!==null){t.blockedOn=e,nf(t.priority,function(){ef(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_c(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ac=r,n.target.dispatchEvent(r),Ac=null}else return e=lo(n),e!==null&&Ml(e),t.blockedOn=n,!1;e.shift()}return!0}function Ud(t,e,n){Fo(t)&&n.delete(e)}function iC(){kc=!1,Cn!==null&&Fo(Cn)&&(Cn=null),wn!==null&&Fo(wn)&&(wn=null),An!==null&&Fo(An)&&(An=null),Hi.forEach(Ud),Fi.forEach(Ud)}function ci(t,e){t.blockedOn===e&&(t.blockedOn=null,kc||(kc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,iC)))}function Bi(t){function e(i){return ci(i,t)}if(0<wo.length){ci(wo[0],t);for(var n=1;n<wo.length;n++){var r=wo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cn!==null&&ci(Cn,t),wn!==null&&ci(wn,t),An!==null&&ci(An,t),Hi.forEach(e),Fi.forEach(e),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)rf(n),n.blockedOn===null&&pn.shift()}var Mr=an.ReactCurrentBatchConfig,is=!0;function oC(t,e,n,r){var i=W,o=Mr.transition;Mr.transition=null;try{W=1,Dl(t,e,n,r)}finally{W=i,Mr.transition=o}}function sC(t,e,n,r){var i=W,o=Mr.transition;Mr.transition=null;try{W=4,Dl(t,e,n,r)}finally{W=i,Mr.transition=o}}function Dl(t,e,n,r){if(is){var i=_c(t,e,n,r);if(i===null)$a(t,e,r,os,n),Ld(t,r);else if(rC(i,t,e,n,r))r.stopPropagation();else if(Ld(t,r),e&4&&-1<nC.indexOf(t)){for(;i!==null;){var o=lo(i);if(o!==null&&Zp(o),o=_c(t,e,n,r),o===null&&$a(t,e,r,os,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $a(t,e,r,null,n)}}var os=null;function _c(t,e,n,r){if(os=null,t=Pl(r),t=Vn(t),t!==null)if(e=ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return os=t,null}function of(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qv()){case bl:return 1;case Wp:return 4;case ns:case qv:return 16;case Yp:return 536870912;default:return 16}default:return 16}}var mn=null,Ll=null,Bo=null;function sf(){if(Bo)return Bo;var t,e=Ll,n=e.length,r,i="value"in mn?mn.value:mn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Bo=i.slice(t,1<r?1-r:void 0)}function zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function jd(){return!1}function ut(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ao:jd,this.isPropagationStopped=jd,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),e}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=ut(Jr),co=he({},Jr,{view:0,detail:0}),aC=ut(co),Da,La,li,qs=he({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Da=t.screenX-li.screenX,La=t.screenY-li.screenY):La=Da=0,li=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:La}}),Hd=ut(qs),cC=he({},qs,{dataTransfer:0}),lC=ut(cC),uC=he({},co,{relatedTarget:0}),Ua=ut(uC),dC=he({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=ut(dC),pC=he({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fC=ut(pC),gC=he({},Jr,{data:0}),Fd=ut(gC),mC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vC[t])?!!e[t]:!1}function jl(){return CC}var wC=he({},co,{key:function(t){if(t.key){var e=mC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(t){return t.type==="keypress"?zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AC=ut(wC),EC=he({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=ut(EC),TC=he({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),SC=ut(TC),IC=he({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=ut(IC),_C=he({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=ut(_C),RC=[9,13,27,32],Hl=tn&&"CompositionEvent"in window,Ei=null;tn&&"documentMode"in document&&(Ei=document.documentMode);var NC=tn&&"TextEvent"in window&&!Ei,af=tn&&(!Hl||Ei&&8<Ei&&11>=Ei),zd=" ",Kd=!1;function cf(t,e){switch(t){case"keyup":return RC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function PC(t,e){switch(t){case"compositionend":return lf(e);case"keypress":return e.which!==32?null:(Kd=!0,zd);case"textInput":return t=e.data,t===zd&&Kd?null:t;default:return null}}function bC(t,e){if(Ar)return t==="compositionend"||!Hl&&cf(t,e)?(t=sf(),Bo=Ll=mn=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return af&&e.locale!=="ko"?null:e.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OC[t.type]:e==="textarea"}function uf(t,e,n,r){Fp(r),e=ss(e,"onChange"),0<e.length&&(n=new Ul("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ti=null,zi=null;function MC(t){Af(t,0)}function Ws(t){var e=Sr(t);if(Op(e))return t}function DC(t,e){if(t==="change")return e}var df=!1;if(tn){var ja;if(tn){var Ha="oninput"in document;if(!Ha){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Ha=typeof Gd.oninput=="function"}ja=Ha}else ja=!1;df=ja&&(!document.documentMode||9<document.documentMode)}function Vd(){Ti&&(Ti.detachEvent("onpropertychange",hf),zi=Ti=null)}function hf(t){if(t.propertyName==="value"&&Ws(zi)){var e=[];uf(e,zi,t,Pl(t)),$p(MC,e)}}function LC(t,e,n){t==="focusin"?(Vd(),Ti=e,zi=n,Ti.attachEvent("onpropertychange",hf)):t==="focusout"&&Vd()}function UC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ws(zi)}function jC(t,e){if(t==="click")return Ws(e)}function HC(t,e){if(t==="input"||t==="change")return Ws(e)}function FC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pt=typeof Object.is=="function"?Object.is:FC;function Ki(t,e){if(Pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lc.call(e,i)||!Pt(t[i],e[i]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,e){var n=Qd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qd(n)}}function pf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ff(){for(var t=window,e=Zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zo(t.document)}return e}function Fl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BC(t){var e=ff(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pf(n.ownerDocument.documentElement,n)){if(r!==null&&Fl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=qd(n,o);var s=qd(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zC=tn&&"documentMode"in document&&11>=document.documentMode,Er=null,xc=null,Si=null,Rc=!1;function Wd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rc||Er==null||Er!==Zo(r)||(r=Er,"selectionStart"in r&&Fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&Ki(Si,r)||(Si=r,r=ss(xc,"onSelect"),0<r.length&&(e=new Ul("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Er)))}function Eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},Fa={},gf={};tn&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Ys(t){if(Fa[t])return Fa[t];if(!Tr[t])return t;var e=Tr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gf)return Fa[t]=e[n];return t}var mf=Ys("animationend"),yf=Ys("animationiteration"),vf=Ys("animationstart"),Cf=Ys("transitionend"),wf=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(t,e){wf.set(t,e),lr(e,[t])}for(var Ba=0;Ba<Yd.length;Ba++){var za=Yd[Ba],KC=za.toLowerCase(),$C=za[0].toUpperCase()+za.slice(1);Un(KC,"on"+$C)}Un(mf,"onAnimationEnd");Un(yf,"onAnimationIteration");Un(vf,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Cf,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function Jd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kv(r,e,void 0,t),t.currentTarget=null}function Af(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Jd(i,a,u),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Jd(i,a,u),o=c}}}if(ts)throw t=Sc,ts=!1,Sc=null,t}function te(t,e){var n=e[Mc];n===void 0&&(n=e[Mc]=new Set);var r=t+"__bubble";n.has(r)||(Ef(e,t,2,!1),n.add(r))}function Ka(t,e,n){var r=0;e&&(r|=4),Ef(n,t,r,e)}var To="_reactListening"+Math.random().toString(36).slice(2);function $i(t){if(!t[To]){t[To]=!0,xp.forEach(function(n){n!=="selectionchange"&&(GC.has(n)||Ka(n,!1,t),Ka(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[To]||(e[To]=!0,Ka("selectionchange",!1,e))}}function Ef(t,e,n,r){switch(of(e)){case 1:var i=oC;break;case 4:i=sC;break;default:i=Dl}n=i.bind(null,e,n,t),i=void 0,!Tc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $a(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Vn(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}$p(function(){var u=o,d=Pl(n),h=[];e:{var f=wf.get(t);if(f!==void 0){var v=Ul,w=t;switch(t){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":v=AC;break;case"focusin":w="focus",v=Ua;break;case"focusout":w="blur",v=Ua;break;case"beforeblur":case"afterblur":v=Ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=lC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=SC;break;case mf:case yf:case vf:v=hC;break;case Cf:v=kC;break;case"scroll":v=aC;break;case"wheel":v=xC;break;case"copy":case"cut":case"paste":v=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Bd}var T=(e&4)!==0,L=!T&&t==="scroll",m=T?f!==null?f+"Capture":null:f;T=[];for(var p=u,g;p!==null;){g=p;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,m!==null&&(E=ji(p,m),E!=null&&T.push(Gi(p,E,g)))),L)break;p=p.return}0<T.length&&(f=new v(f,w,null,n,d),h.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Ac&&(w=n.relatedTarget||n.fromElement)&&(Vn(w)||w[nn]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Vn(w):null,w!==null&&(L=ur(w),w!==L||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(T=Hd,E="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(T=Bd,E="onPointerLeave",m="onPointerEnter",p="pointer"),L=v==null?f:Sr(v),g=w==null?f:Sr(w),f=new T(E,p+"leave",v,n,d),f.target=L,f.relatedTarget=g,E=null,Vn(d)===u&&(T=new T(m,p+"enter",w,n,d),T.target=g,T.relatedTarget=L,E=T),L=E,v&&w)t:{for(T=v,m=w,p=0,g=T;g;g=gr(g))p++;for(g=0,E=m;E;E=gr(E))g++;for(;0<p-g;)T=gr(T),p--;for(;0<g-p;)m=gr(m),g--;for(;p--;){if(T===m||m!==null&&T===m.alternate)break t;T=gr(T),m=gr(m)}T=null}else T=null;v!==null&&Xd(h,f,v,T,!1),w!==null&&L!==null&&Xd(h,L,w,T,!0)}}e:{if(f=u?Sr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var _=DC;else if($d(f))if(df)_=HC;else{_=UC;var R=LC}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=jC);if(_&&(_=_(t,u))){uf(h,_,n,d);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&mc(f,"number",f.value)}switch(R=u?Sr(u):window,t){case"focusin":($d(R)||R.contentEditable==="true")&&(Er=R,xc=u,Si=null);break;case"focusout":Si=xc=Er=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,Wd(h,n,d);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":Wd(h,n,d)}var b;if(Hl)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ar?cf(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(af&&n.locale!=="ko"&&(Ar||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ar&&(b=sf()):(mn=d,Ll="value"in mn?mn.value:mn.textContent,Ar=!0)),R=ss(u,O),0<R.length&&(O=new Fd(O,t,null,n,d),h.push({event:O,listeners:R}),b?O.data=b:(b=lf(n),b!==null&&(O.data=b)))),(b=NC?PC(t,n):bC(t,n))&&(u=ss(u,"onBeforeInput"),0<u.length&&(d=new Fd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}Af(h,e)})}function Gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ss(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ji(t,n),o!=null&&r.unshift(Gi(t,o,i)),o=ji(t,e),o!=null&&r.push(Gi(t,o,i))),t=t.return}return r}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xd(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=ji(n,o),c!=null&&s.unshift(Gi(n,c,a))):i||(c=ji(n,o),c!=null&&s.push(Gi(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var VC=/\r\n?/g,QC=/\u0000|\uFFFD/g;function Zd(t){return(typeof t=="string"?t:""+t).replace(VC,`
`).replace(QC,"")}function So(t,e,n){if(e=Zd(e),Zd(t)!==e&&n)throw Error(k(425))}function as(){}var Nc=null,Pc=null;function bc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(t){return eh.resolve(null).then(t).catch(YC)}:Oc;function YC(t){setTimeout(function(){throw t})}function Ga(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bi(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function th(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Xr,Vi="__reactProps$"+Xr,nn="__reactContainer$"+Xr,Mc="__reactEvents$"+Xr,JC="__reactListeners$"+Xr,XC="__reactHandles$"+Xr;function Vn(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=th(t);t!==null;){if(n=t[Ft])return n;t=th(t)}return e}t=n,n=t.parentNode}return null}function lo(t){return t=t[Ft]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Js(t){return t[Vi]||null}var Dc=[],Ir=-1;function jn(t){return{current:t}}function re(t){0>Ir||(t.current=Dc[Ir],Dc[Ir]=null,Ir--)}function ee(t,e){Ir++,Dc[Ir]=t.current,t.current=e}var On={},je=jn(On),Ye=jn(!1),Xn=On;function Br(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Je(t){return t=t.childContextTypes,t!=null}function cs(){re(Ye),re(je)}function nh(t,e,n){if(je.current!==On)throw Error(k(168));ee(je,e),ee(Ye,n)}function Tf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,Lv(t)||"Unknown",i));return he({},n,r)}function ls(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,Xn=je.current,ee(je,t),ee(Ye,Ye.current),!0}function rh(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Tf(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,re(Ye),re(je),ee(je,t)):re(Ye),ee(Ye,n)}var Yt=null,Xs=!1,Va=!1;function Sf(t){Yt===null?Yt=[t]:Yt.push(t)}function ZC(t){Xs=!0,Sf(t)}function Hn(){if(!Va&&Yt!==null){Va=!0;var t=0,e=W;try{var n=Yt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yt=null,Xs=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(t+1)),qp(bl,Hn),i}finally{W=e,Va=!1}}return null}var kr=[],_r=0,us=null,ds=0,ht=[],pt=0,Zn=null,Jt=1,Xt="";function Kn(t,e){kr[_r++]=ds,kr[_r++]=us,us=t,ds=e}function If(t,e,n){ht[pt++]=Jt,ht[pt++]=Xt,ht[pt++]=Zn,Zn=t;var r=Jt;t=Xt;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var o=32-xt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jt=1<<32-xt(e)+i|n<<i|r,Xt=o+t}else Jt=1<<o|n<<i|r,Xt=t}function Bl(t){t.return!==null&&(Kn(t,1),If(t,1,0))}function zl(t){for(;t===us;)us=kr[--_r],kr[_r]=null,ds=kr[--_r],kr[_r]=null;for(;t===Zn;)Zn=ht[--pt],ht[pt]=null,Xt=ht[--pt],ht[pt]=null,Jt=ht[--pt],ht[pt]=null}var st=null,ot=null,ce=!1,kt=null;function kf(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ih(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,ot=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zn!==null?{id:Jt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,st=t,ot=null,!0):!1;default:return!1}}function Lc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uc(t){if(ce){var e=ot;if(e){var n=e;if(!ih(t,e)){if(Lc(t))throw Error(k(418));e=En(n.nextSibling);var r=st;e&&ih(t,e)?kf(r,n):(t.flags=t.flags&-4097|2,ce=!1,st=t)}}else{if(Lc(t))throw Error(k(418));t.flags=t.flags&-4097|2,ce=!1,st=t}}}function oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Io(t){if(t!==st)return!1;if(!ce)return oh(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bc(t.type,t.memoizedProps)),e&&(e=ot)){if(Lc(t))throw _f(),Error(k(418));for(;e;)kf(t,e),e=En(e.nextSibling)}if(oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=st?En(t.stateNode.nextSibling):null;return!0}function _f(){for(var t=ot;t;)t=En(t.nextSibling)}function zr(){ot=st=null,ce=!1}function Kl(t){kt===null?kt=[t]:kt.push(t)}var ew=an.ReactCurrentBatchConfig;function ui(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function ko(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sh(t){var e=t._init;return e(t._payload)}function xf(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=kn(m,p),m.index=0,m.sibling=null,m}function o(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,E){return p===null||p.tag!==6?(p=Za(g,m.mode,E),p.return=m,p):(p=i(p,g),p.return=m,p)}function c(m,p,g,E){var _=g.type;return _===wr?d(m,p,g.props.children,E,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===dn&&sh(_)===p.type)?(E=i(p,g.props),E.ref=ui(m,p,g),E.return=m,E):(E=Wo(g.type,g.key,g.props,null,m.mode,E),E.ref=ui(m,p,g),E.return=m,E)}function u(m,p,g,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=ec(g,m.mode,E),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function d(m,p,g,E,_){return p===null||p.tag!==7?(p=Yn(g,m.mode,E,_),p.return=m,p):(p=i(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Za(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case go:return g=Wo(p.type,p.key,p.props,null,m.mode,g),g.ref=ui(m,null,p),g.return=m,g;case Cr:return p=ec(p,m.mode,g),p.return=m,p;case dn:var E=p._init;return h(m,E(p._payload),g)}if(gi(p)||oi(p))return p=Yn(p,m.mode,g,null),p.return=m,p;ko(m,p)}return null}function f(m,p,g,E){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(m,p,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case go:return g.key===_?c(m,p,g,E):null;case Cr:return g.key===_?u(m,p,g,E):null;case dn:return _=g._init,f(m,p,_(g._payload),E)}if(gi(g)||oi(g))return _!==null?null:d(m,p,g,E,null);ko(m,g)}return null}function v(m,p,g,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(g)||null,a(p,m,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case go:return m=m.get(E.key===null?g:E.key)||null,c(p,m,E,_);case Cr:return m=m.get(E.key===null?g:E.key)||null,u(p,m,E,_);case dn:var R=E._init;return v(m,p,g,R(E._payload),_)}if(gi(E)||oi(E))return m=m.get(g)||null,d(p,m,E,_,null);ko(p,E)}return null}function w(m,p,g,E){for(var _=null,R=null,b=p,O=p=0,Y=null;b!==null&&O<g.length;O++){b.index>O?(Y=b,b=null):Y=b.sibling;var H=f(m,b,g[O],E);if(H===null){b===null&&(b=Y);break}t&&b&&H.alternate===null&&e(m,b),p=o(H,p,O),R===null?_=H:R.sibling=H,R=H,b=Y}if(O===g.length)return n(m,b),ce&&Kn(m,O),_;if(b===null){for(;O<g.length;O++)b=h(m,g[O],E),b!==null&&(p=o(b,p,O),R===null?_=b:R.sibling=b,R=b);return ce&&Kn(m,O),_}for(b=r(m,b);O<g.length;O++)Y=v(b,m,O,g[O],E),Y!==null&&(t&&Y.alternate!==null&&b.delete(Y.key===null?O:Y.key),p=o(Y,p,O),R===null?_=Y:R.sibling=Y,R=Y);return t&&b.forEach(function(be){return e(m,be)}),ce&&Kn(m,O),_}function T(m,p,g,E){var _=oi(g);if(typeof _!="function")throw Error(k(150));if(g=_.call(g),g==null)throw Error(k(151));for(var R=_=null,b=p,O=p=0,Y=null,H=g.next();b!==null&&!H.done;O++,H=g.next()){b.index>O?(Y=b,b=null):Y=b.sibling;var be=f(m,b,H.value,E);if(be===null){b===null&&(b=Y);break}t&&b&&be.alternate===null&&e(m,b),p=o(be,p,O),R===null?_=be:R.sibling=be,R=be,b=Y}if(H.done)return n(m,b),ce&&Kn(m,O),_;if(b===null){for(;!H.done;O++,H=g.next())H=h(m,H.value,E),H!==null&&(p=o(H,p,O),R===null?_=H:R.sibling=H,R=H);return ce&&Kn(m,O),_}for(b=r(m,b);!H.done;O++,H=g.next())H=v(b,m,O,H.value,E),H!==null&&(t&&H.alternate!==null&&b.delete(H.key===null?O:H.key),p=o(H,p,O),R===null?_=H:R.sibling=H,R=H);return t&&b.forEach(function(cn){return e(m,cn)}),ce&&Kn(m,O),_}function L(m,p,g,E){if(typeof g=="object"&&g!==null&&g.type===wr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case go:e:{for(var _=g.key,R=p;R!==null;){if(R.key===_){if(_=g.type,_===wr){if(R.tag===7){n(m,R.sibling),p=i(R,g.props.children),p.return=m,m=p;break e}}else if(R.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===dn&&sh(_)===R.type){n(m,R.sibling),p=i(R,g.props),p.ref=ui(m,R,g),p.return=m,m=p;break e}n(m,R);break}else e(m,R);R=R.sibling}g.type===wr?(p=Yn(g.props.children,m.mode,E,g.key),p.return=m,m=p):(E=Wo(g.type,g.key,g.props,null,m.mode,E),E.ref=ui(m,p,g),E.return=m,m=E)}return s(m);case Cr:e:{for(R=g.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=ec(g,m.mode,E),p.return=m,m=p}return s(m);case dn:return R=g._init,L(m,p,R(g._payload),E)}if(gi(g))return w(m,p,g,E);if(oi(g))return T(m,p,g,E);ko(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=Za(g,m.mode,E),p.return=m,m=p),s(m)):n(m,p)}return L}var Kr=xf(!0),Rf=xf(!1),hs=jn(null),ps=null,xr=null,$l=null;function Gl(){$l=xr=ps=null}function Vl(t){var e=hs.current;re(hs),t._currentValue=e}function jc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dr(t,e){ps=t,$l=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if($l!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(ps===null)throw Error(k(308));xr=t,ps.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var Qn=null;function Ql(t){Qn===null?Qn=[t]:Qn.push(t)}function Nf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ql(e)):(n.next=i.next,i.next=n),e.interleaved=n,rn(t,r)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ql(r)):(e.next=i.next,i.next=e),r.interleaved=e,rn(t,n)}function Ko(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}function ah(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fs(t,e,n,r){var i=t.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=i.baseState;s=0,d=u=c=null,a=o;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(f=e,v=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=he({},h,f);break e;case 2:hn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);tr|=s,t.lanes=s,t.memoizedState=h}}function ch(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var uo={},$t=jn(uo),Qi=jn(uo),qi=jn(uo);function qn(t){if(t===uo)throw Error(k(174));return t}function Wl(t,e){switch(ee(qi,e),ee(Qi,t),ee($t,uo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vc(e,t)}re($t),ee($t,e)}function $r(){re($t),re(Qi),re(qi)}function bf(t){qn(qi.current);var e=qn($t.current),n=vc(e,t.type);e!==n&&(ee(Qi,t),ee($t,n))}function Yl(t){Qi.current===t&&(re($t),re(Qi))}var ue=jn(0);function gs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qa=[];function Jl(){for(var t=0;t<Qa.length;t++)Qa[t]._workInProgressVersionPrimary=null;Qa.length=0}var $o=an.ReactCurrentDispatcher,qa=an.ReactCurrentBatchConfig,er=0,de=null,Ae=null,Se=null,ms=!1,Ii=!1,Wi=0,tw=0;function Oe(){throw Error(k(321))}function Xl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pt(t[n],e[n]))return!1;return!0}function Zl(t,e,n,r,i,o){if(er=o,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$o.current=t===null||t.memoizedState===null?ow:sw,t=n(r,i),Ii){o=0;do{if(Ii=!1,Wi=0,25<=o)throw Error(k(301));o+=1,Se=Ae=null,e.updateQueue=null,$o.current=aw,t=n(r,i)}while(Ii)}if($o.current=ys,e=Ae!==null&&Ae.next!==null,er=0,Se=Ae=de=null,ms=!1,e)throw Error(k(300));return t}function eu(){var t=Wi!==0;return Wi=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?de.memoizedState=Se=t:Se=Se.next=t,Se}function Ct(){if(Ae===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Se===null?de.memoizedState:Se.next;if(e!==null)Se=e,Ae=t;else{if(t===null)throw Error(k(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Se===null?de.memoizedState=Se=t:Se=Se.next=t}return Se}function Yi(t,e){return typeof e=="function"?e(t):e}function Wa(t){var e=Ct(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Ae,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,u=o;do{var d=u.lane;if((er&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,s=r):c=c.next=h,de.lanes|=d,tr|=d}u=u.next}while(u!==null&&u!==o);c===null?s=r:c.next=a,Pt(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,de.lanes|=o,tr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ya(t){var e=Ct(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pt(o,e.memoizedState)||(We=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Of(){}function Mf(t,e){var n=de,r=Ct(),i=e(),o=!Pt(r.memoizedState,i);if(o&&(r.memoizedState=i,We=!0),r=r.queue,tu(Uf.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Ji(9,Lf.bind(null,n,r,i,e),void 0,null),ke===null)throw Error(k(349));er&30||Df(n,e,i)}return i}function Df(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lf(t,e,n,r){e.value=n,e.getSnapshot=r,jf(e)&&Hf(t)}function Uf(t,e,n){return n(function(){jf(e)&&Hf(t)})}function jf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pt(t,n)}catch{return!0}}function Hf(t){var e=rn(t,1);e!==null&&Rt(e,t,1,-1)}function lh(t){var e=jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=iw.bind(null,de,t),[e.memoizedState,t]}function Ji(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ff(){return Ct().memoizedState}function Go(t,e,n,r){var i=jt();de.flags|=t,i.memoizedState=Ji(1|e,n,void 0,r===void 0?null:r)}function Zs(t,e,n,r){var i=Ct();r=r===void 0?null:r;var o=void 0;if(Ae!==null){var s=Ae.memoizedState;if(o=s.destroy,r!==null&&Xl(r,s.deps)){i.memoizedState=Ji(e,n,o,r);return}}de.flags|=t,i.memoizedState=Ji(1|e,n,o,r)}function uh(t,e){return Go(8390656,8,t,e)}function tu(t,e){return Zs(2048,8,t,e)}function Bf(t,e){return Zs(4,2,t,e)}function zf(t,e){return Zs(4,4,t,e)}function Kf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $f(t,e,n){return n=n!=null?n.concat([t]):null,Zs(4,4,Kf.bind(null,e,t),n)}function nu(){}function Gf(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vf(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qf(t,e,n){return er&21?(Pt(n,e)||(n=Jp(),de.lanes|=n,tr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function nw(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=qa.transition;qa.transition={};try{t(!1),e()}finally{W=n,qa.transition=r}}function qf(){return Ct().memoizedState}function rw(t,e,n){var r=In(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wf(t))Yf(e,n);else if(n=Nf(t,e,n,r),n!==null){var i=ze();Rt(n,t,r,i),Jf(n,e,r)}}function iw(t,e,n){var r=In(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wf(t))Yf(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pt(a,s)){var c=e.interleaved;c===null?(i.next=i,Ql(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Nf(t,e,i,r),n!==null&&(i=ze(),Rt(n,t,r,i),Jf(n,e,r))}}function Wf(t){var e=t.alternate;return t===de||e!==null&&e===de}function Yf(t,e){Ii=ms=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}var ys={readContext:vt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},ow={readContext:vt,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:uh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,Kf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rw.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:lh,useDebugValue:nu,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=lh(!1),e=t[0];return t=nw.bind(null,t[1]),jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,i=jt();if(ce){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),ke===null)throw Error(k(349));er&30||Df(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,uh(Uf.bind(null,r,o,t),[t]),r.flags|=2048,Ji(9,Lf.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=jt(),e=ke.identifierPrefix;if(ce){var n=Xt,r=Jt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sw={readContext:vt,useCallback:Gf,useContext:vt,useEffect:tu,useImperativeHandle:$f,useInsertionEffect:Bf,useLayoutEffect:zf,useMemo:Vf,useReducer:Wa,useRef:Ff,useState:function(){return Wa(Yi)},useDebugValue:nu,useDeferredValue:function(t){var e=Ct();return Qf(e,Ae.memoizedState,t)},useTransition:function(){var t=Wa(Yi)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Of,useSyncExternalStore:Mf,useId:qf,unstable_isNewReconciler:!1},aw={readContext:vt,useCallback:Gf,useContext:vt,useEffect:tu,useImperativeHandle:$f,useInsertionEffect:Bf,useLayoutEffect:zf,useMemo:Vf,useReducer:Ya,useRef:Ff,useState:function(){return Ya(Yi)},useDebugValue:nu,useDeferredValue:function(t){var e=Ct();return Ae===null?e.memoizedState=t:Qf(e,Ae.memoizedState,t)},useTransition:function(){var t=Ya(Yi)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Of,useSyncExternalStore:Mf,useId:qf,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ea={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ze(),i=In(t),o=en(r,i);o.payload=e,n!=null&&(o.callback=n),e=Tn(t,o,i),e!==null&&(Rt(e,t,i,r),Ko(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ze(),i=In(t),o=en(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Tn(t,o,i),e!==null&&(Rt(e,t,i,r),Ko(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ze(),r=In(t),i=en(n,r);i.tag=2,e!=null&&(i.callback=e),e=Tn(t,i,r),e!==null&&(Rt(e,t,r,n),Ko(e,t,r))}};function dh(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ki(n,r)||!Ki(i,o):!0}function Xf(t,e,n){var r=!1,i=On,o=e.contextType;return typeof o=="object"&&o!==null?o=vt(o):(i=Je(e)?Xn:je.current,r=e.contextTypes,o=(r=r!=null)?Br(t,i):On),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ea,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function hh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ea.enqueueReplaceState(e,e.state,null)}function Fc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ql(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vt(o):(o=Je(e)?Xn:je.current,i.context=Br(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ea.enqueueReplaceState(i,i.state,null),fs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,e){try{var n="",r=e;do n+=Dv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ja(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cw=typeof WeakMap=="function"?WeakMap:Map;function Zf(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cs||(Cs=!0,Jc=r),Bc(t,e)},n}function eg(t,e,n){n=en(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Bc(t,e),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ph(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ew.bind(null,t,e,n),e.then(t,t))}function fh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,Tn(n,e,1))),n.lanes|=1),t)}var lw=an.ReactCurrentOwner,We=!1;function Fe(t,e,n,r){e.child=t===null?Rf(e,null,n,r):Kr(e,t.child,n,r)}function mh(t,e,n,r,i){n=n.render;var o=e.ref;return Dr(e,i),r=Zl(t,e,n,r,o,i),n=eu(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(ce&&n&&Bl(e),e.flags|=1,Fe(t,e,r,i),e.child)}function yh(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!uu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tg(t,e,o,r,i)):(t=Wo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(s,r)&&t.ref===e.ref)return on(t,e,i)}return e.flags|=1,t=kn(o,r),t.ref=e.ref,t.return=e,e.child=t}function tg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ki(o,r)&&t.ref===e.ref)if(We=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,on(t,e,i)}return zc(t,e,n,r,i)}function ng(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Nr,tt),tt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(Nr,tt),tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(Nr,tt),tt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ee(Nr,tt),tt|=r;return Fe(t,e,i,n),e.child}function rg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zc(t,e,n,r,i){var o=Je(n)?Xn:je.current;return o=Br(e,o),Dr(e,i),n=Zl(t,e,n,r,o,i),r=eu(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(ce&&r&&Bl(e),e.flags|=1,Fe(t,e,n,i),e.child)}function vh(t,e,n,r,i){if(Je(n)){var o=!0;ls(e)}else o=!1;if(Dr(e,i),e.stateNode===null)Vo(t,e),Xf(e,n,r),Fc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Je(n)?Xn:je.current,u=Br(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&hh(e,s,r,u),hn=!1;var f=e.memoizedState;s.state=f,fs(e,r,s,i),c=e.memoizedState,a!==r||f!==c||Ye.current||hn?(typeof d=="function"&&(Hc(e,n,d,r),c=e.memoizedState),(a=hn||dh(e,n,a,r,f,c,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Pf(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tt(e.type,a),s.props=u,h=e.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Je(n)?Xn:je.current,c=Br(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==c)&&hh(e,s,r,c),hn=!1,f=e.memoizedState,s.state=f,fs(e,r,s,i);var w=e.memoizedState;a!==h||f!==w||Ye.current||hn?(typeof v=="function"&&(Hc(e,n,v,r),w=e.memoizedState),(u=hn||dh(e,n,u,r,f,w,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Kc(t,e,n,r,o,i)}function Kc(t,e,n,r,i,o){rg(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&rh(e,n,!1),on(t,e,o);r=e.stateNode,lw.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Kr(e,t.child,null,o),e.child=Kr(e,null,a,o)):Fe(t,e,a,o),e.memoizedState=r.state,i&&rh(e,n,!0),e.child}function ig(t){var e=t.stateNode;e.pendingContext?nh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nh(t,e.context,!1),Wl(t,e.containerInfo)}function Ch(t,e,n,r,i){return zr(),Kl(i),e.flags|=256,Fe(t,e,n,r),e.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Gc(t){return{baseLanes:t,cachePool:null,transitions:null}}function og(t,e,n){var r=e.pendingProps,i=ue.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ee(ue,i&1),t===null)return Uc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ra(s,r,0,null),t=Yn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gc(n),e.memoizedState=$c,t):ru(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uw(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=kn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=kn(a,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Gc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$c,r}return o=t.child,t=o.sibling,r=kn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ru(t,e){return e=ra({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _o(t,e,n,r){return r!==null&&Kl(r),Kr(e,t.child,null,n),t=ru(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uw(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ja(Error(k(422))),_o(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ra({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Kr(e,t.child,null,s),e.child.memoizedState=Gc(s),e.memoizedState=$c,o);if(!(e.mode&1))return _o(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(k(419)),r=Ja(o,r,void 0),_o(t,e,s,r)}if(a=(s&t.childLanes)!==0,We||a){if(r=ke,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rn(t,i),Rt(r,t,i,-1))}return lu(),r=Ja(Error(k(421))),_o(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Tw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ot=En(i.nextSibling),st=e,ce=!0,kt=null,t!==null&&(ht[pt++]=Jt,ht[pt++]=Xt,ht[pt++]=Zn,Jt=t.id,Xt=t.overflow,Zn=e),e=ru(e,r.children),e.flags|=4096,e)}function wh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jc(t.return,e,n)}function Xa(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sg(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fe(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wh(t,n,e);else if(t.tag===19)wh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xa(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xa(e,!0,n,null,o);break;case"together":Xa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dw(t,e,n){switch(e.tag){case 3:ig(e),zr();break;case 5:bf(e);break;case 1:Je(e.type)&&ls(e);break;case 4:Wl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ee(hs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?og(t,e,n):(ee(ue,ue.current&1),t=on(t,e,n),t!==null?t.sibling:null);ee(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,ng(t,e,n)}return on(t,e,n)}var ag,Vc,cg,lg;ag=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vc=function(){};cg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn($t.current);var o=null;switch(n){case"input":i=fc(t,i),r=fc(t,r),o=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),o=[];break;case"textarea":i=yc(t,i),r=yc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=as)}Cc(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};lg=function(t,e,n,r){n!==r&&(e.flags|=4)};function di(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hw(t,e,n){var r=e.pendingProps;switch(zl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return Je(e.type)&&cs(),Me(e),null;case 3:return r=e.stateNode,$r(),re(Ye),re(je),Jl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Io(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(el(kt),kt=null))),Vc(t,e),Me(e),null;case 5:Yl(e);var i=qn(qi.current);if(n=e.type,t!==null&&e.stateNode!=null)cg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return Me(e),null}if(t=qn($t.current),Io(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ft]=e,r[Vi]=o,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<yi.length;i++)te(yi[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Rd(r,o),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},te("invalid",r);break;case"textarea":Pd(r,o),te("invalid",r)}Cc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&So(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&So(r.textContent,a,t),i=["children",""+a]):Li.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":mo(r),Nd(r,o,!0);break;case"textarea":mo(r),bd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=as)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ft]=e,t[Vi]=r,ag(t,e,!1,!1),e.stateNode=t;e:{switch(s=wc(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<yi.length;i++)te(yi[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":Rd(t,r),i=fc(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),te("invalid",t);break;case"textarea":Pd(t,r),i=yc(t,r),te("invalid",t);break;default:i=r}Cc(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Hp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Up(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ui(t,c):typeof c=="number"&&Ui(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Li.hasOwnProperty(o)?c!=null&&o==="onScroll"&&te("scroll",t):c!=null&&_l(t,o,c,s))}switch(n){case"input":mo(t),Nd(t,r,!1);break;case"textarea":mo(t),bd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=as)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)lg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=qn(qi.current),qn($t.current),Io(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ft]=e,(o=r.nodeValue!==n)&&(t=st,t!==null))switch(t.tag){case 3:So(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=e,e.stateNode=r}return Me(e),null;case 13:if(re(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ot!==null&&e.mode&1&&!(e.flags&128))_f(),zr(),e.flags|=98560,o=!1;else if(o=Io(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(k(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(k(317));o[Ft]=e}else zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),o=!1}else kt!==null&&(el(kt),kt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Ee===0&&(Ee=3):lu())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return $r(),Vc(t,e),t===null&&$i(e.stateNode.containerInfo),Me(e),null;case 10:return Vl(e.type._context),Me(e),null;case 17:return Je(e.type)&&cs(),Me(e),null;case 19:if(re(ue),o=e.memoizedState,o===null)return Me(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)di(o,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=gs(t),s!==null){for(e.flags|=128,di(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(ue,ue.current&1|2),e.child}t=t.sibling}o.tail!==null&&ge()>Vr&&(e.flags|=128,r=!0,di(o,!1),e.lanes=4194304)}else{if(!r)if(t=gs(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),di(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ce)return Me(e),null}else 2*ge()-o.renderingStartTime>Vr&&n!==1073741824&&(e.flags|=128,r=!0,di(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ge(),e.sibling=null,n=ue.current,ee(ue,r?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return cu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tt&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function pw(t,e){switch(zl(e),e.tag){case 1:return Je(e.type)&&cs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $r(),re(Ye),re(je),Jl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yl(e),null;case 13:if(re(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ue),null;case 4:return $r(),null;case 10:return Vl(e.type._context),null;case 22:case 23:return cu(),null;case 24:return null;default:return null}}var xo=!1,Le=!1,fw=typeof WeakSet=="function"?WeakSet:Set,P=null;function Rr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(t,e,r)}else n.current=null}function Qc(t,e,n){try{n()}catch(r){pe(t,e,r)}}var Ah=!1;function gw(t,e){if(Nc=is,t=ff(),Fl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++d===r&&(c=s),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pc={focusedElem:t,selectionRange:n},is=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,L=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?T:Tt(e.type,T),L);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(E){pe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return w=Ah,Ah=!1,w}function ki(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qc(e,n,o)}i=i.next}while(i!==r)}}function ta(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ug(t){var e=t.alternate;e!==null&&(t.alternate=null,ug(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[Vi],delete e[Mc],delete e[JC],delete e[XC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dg(t){return t.tag===5||t.tag===3||t.tag===4}function Eh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=as));else if(r!==4&&(t=t.child,t!==null))for(Wc(t,e,n),t=t.sibling;t!==null;)Wc(t,e,n),t=t.sibling}function Yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yc(t,e,n),t=t.sibling;t!==null;)Yc(t,e,n),t=t.sibling}var xe=null,St=!1;function un(t,e,n){for(n=n.child;n!==null;)hg(t,e,n),n=n.sibling}function hg(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Qs,n)}catch{}switch(n.tag){case 5:Le||Rr(n,e);case 6:var r=xe,i=St;xe=null,un(t,e,n),xe=r,St=i,xe!==null&&(St?(t=xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(St?(t=xe,n=n.stateNode,t.nodeType===8?Ga(t.parentNode,n):t.nodeType===1&&Ga(t,n),Bi(t)):Ga(xe,n.stateNode));break;case 4:r=xe,i=St,xe=n.stateNode.containerInfo,St=!0,un(t,e,n),xe=r,St=i;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qc(n,e,s),i=i.next}while(i!==r)}un(t,e,n);break;case 1:if(!Le&&(Rr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pe(n,e,a)}un(t,e,n);break;case 21:un(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,un(t,e,n),Le=r):un(t,e,n);break;default:un(t,e,n)}}function Th(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fw),e.forEach(function(r){var i=Sw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,St=!1;break e;case 3:xe=a.stateNode.containerInfo,St=!0;break e;case 4:xe=a.stateNode.containerInfo,St=!0;break e}a=a.return}if(xe===null)throw Error(k(160));hg(o,s,i),xe=null,St=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pg(e,t),e=e.sibling}function pg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(e,t),Lt(t),r&4){try{ki(3,t,t.return),ta(3,t)}catch(T){pe(t,t.return,T)}try{ki(5,t,t.return)}catch(T){pe(t,t.return,T)}}break;case 1:At(e,t),Lt(t),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(At(e,t),Lt(t),r&512&&n!==null&&Rr(n,n.return),t.flags&32){var i=t.stateNode;try{Ui(i,"")}catch(T){pe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Mp(i,o),wc(a,s);var u=wc(a,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];d==="style"?Hp(i,h):d==="dangerouslySetInnerHTML"?Up(i,h):d==="children"?Ui(i,h):_l(i,d,h,u)}switch(a){case"input":gc(i,o);break;case"textarea":Dp(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Pr(i,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?Pr(i,!!o.multiple,o.defaultValue,!0):Pr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vi]=o}catch(T){pe(t,t.return,T)}}break;case 6:if(At(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){pe(t,t.return,T)}}break;case 3:if(At(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(e.containerInfo)}catch(T){pe(t,t.return,T)}break;case 4:At(e,t),Lt(t);break;case 13:At(e,t),Lt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(su=ge())),r&4&&Th(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(u=Le)||d,At(e,t),Le=u):At(e,t),Lt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:ki(4,f,f.return);break;case 1:Rr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){pe(r,n,T)}}break;case 5:Rr(f,f.return);break;case 22:if(f.memoizedState!==null){Ih(h);continue}}v!==null?(v.return=f,P=v):Ih(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jp("display",s))}catch(T){pe(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){pe(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:At(e,t),Lt(t),r&4&&Th(t);break;case 21:break;default:At(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dg(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ui(i,""),r.flags&=-33);var o=Eh(t);Yc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Eh(t);Wc(t,a,s);break;default:throw Error(k(161))}}catch(c){pe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mw(t,e,n){P=t,fg(t)}function fg(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var i=P,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||xo;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Le;a=xo;var u=Le;if(xo=s,(Le=c)&&!u)for(P=i;P!==null;)s=P,c=s.child,s.tag===22&&s.memoizedState!==null?kh(i):c!==null?(c.return=s,P=c):kh(i);for(;o!==null;)P=o,fg(o),o=o.sibling;P=i,xo=a,Le=u}Sh(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,P=o):Sh(t)}}function Sh(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||ta(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ch(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ch(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Le||e.flags&512&&qc(e)}catch(f){pe(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Ih(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function kh(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ta(4,e)}catch(c){pe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){pe(e,i,c)}}var o=e.return;try{qc(e)}catch(c){pe(e,o,c)}break;case 5:var s=e.return;try{qc(e)}catch(c){pe(e,s,c)}}}catch(c){pe(e,e.return,c)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var yw=Math.ceil,vs=an.ReactCurrentDispatcher,iu=an.ReactCurrentOwner,yt=an.ReactCurrentBatchConfig,G=0,ke=null,Ce=null,Ne=0,tt=0,Nr=jn(0),Ee=0,Xi=null,tr=0,na=0,ou=0,_i=null,Qe=null,su=0,Vr=1/0,qt=null,Cs=!1,Jc=null,Sn=null,Ro=!1,yn=null,ws=0,xi=0,Xc=null,Qo=-1,qo=0;function ze(){return G&6?ge():Qo!==-1?Qo:Qo=ge()}function In(t){return t.mode&1?G&2&&Ne!==0?Ne&-Ne:ew.transition!==null?(qo===0&&(qo=Jp()),qo):(t=W,t!==0||(t=window.event,t=t===void 0?16:of(t.type)),t):1}function Rt(t,e,n,r){if(50<xi)throw xi=0,Xc=null,Error(k(185));ao(t,n,r),(!(G&2)||t!==ke)&&(t===ke&&(!(G&2)&&(na|=n),Ee===4&&fn(t,Ne)),Xe(t,r),n===1&&G===0&&!(e.mode&1)&&(Vr=ge()+500,Xs&&Hn()))}function Xe(t,e){var n=t.callbackNode;eC(t,e);var r=rs(t,t===ke?Ne:0);if(r===0)n!==null&&Dd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dd(n),e===1)t.tag===0?ZC(_h.bind(null,t)):Sf(_h.bind(null,t)),WC(function(){!(G&6)&&Hn()}),n=null;else{switch(Xp(r)){case 1:n=bl;break;case 4:n=Wp;break;case 16:n=ns;break;case 536870912:n=Yp;break;default:n=ns}n=Eg(n,gg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gg(t,e){if(Qo=-1,qo=0,G&6)throw Error(k(327));var n=t.callbackNode;if(Lr()&&t.callbackNode!==n)return null;var r=rs(t,t===ke?Ne:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=As(t,r);else{e=r;var i=G;G|=2;var o=yg();(ke!==t||Ne!==e)&&(qt=null,Vr=ge()+500,Wn(t,e));do try{ww();break}catch(a){mg(t,a)}while(!0);Gl(),vs.current=o,G=i,Ce!==null?e=0:(ke=null,Ne=0,e=Ee)}if(e!==0){if(e===2&&(i=Ic(t),i!==0&&(r=i,e=Zc(t,i))),e===1)throw n=Xi,Wn(t,0),fn(t,r),Xe(t,ge()),n;if(e===6)fn(t,r);else{if(i=t.current.alternate,!(r&30)&&!vw(i)&&(e=As(t,r),e===2&&(o=Ic(t),o!==0&&(r=o,e=Zc(t,o))),e===1))throw n=Xi,Wn(t,0),fn(t,r),Xe(t,ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:$n(t,Qe,qt);break;case 3:if(fn(t,r),(r&130023424)===r&&(e=su+500-ge(),10<e)){if(rs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Oc($n.bind(null,t,Qe,qt),e);break}$n(t,Qe,qt);break;case 4:if(fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yw(r/1960))-r,10<r){t.timeoutHandle=Oc($n.bind(null,t,Qe,qt),r);break}$n(t,Qe,qt);break;case 5:$n(t,Qe,qt);break;default:throw Error(k(329))}}}return Xe(t,ge()),t.callbackNode===n?gg.bind(null,t):null}function Zc(t,e){var n=_i;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=As(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&el(e)),t}function el(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function vw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~ou,e&=~na,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xt(e),r=1<<n;t[n]=-1,e&=~r}}function _h(t){if(G&6)throw Error(k(327));Lr();var e=rs(t,0);if(!(e&1))return Xe(t,ge()),null;var n=As(t,e);if(t.tag!==0&&n===2){var r=Ic(t);r!==0&&(e=r,n=Zc(t,r))}if(n===1)throw n=Xi,Wn(t,0),fn(t,e),Xe(t,ge()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$n(t,Qe,qt),Xe(t,ge()),null}function au(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Vr=ge()+500,Xs&&Hn())}}function nr(t){yn!==null&&yn.tag===0&&!(G&6)&&Lr();var e=G;G|=1;var n=yt.transition,r=W;try{if(yt.transition=null,W=1,t)return t()}finally{W=r,yt.transition=n,G=e,!(G&6)&&Hn()}}function cu(){tt=Nr.current,re(Nr)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qC(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(zl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cs();break;case 3:$r(),re(Ye),re(je),Jl();break;case 5:Yl(r);break;case 4:$r();break;case 13:re(ue);break;case 19:re(ue);break;case 10:Vl(r.type._context);break;case 22:case 23:cu()}n=n.return}if(ke=t,Ce=t=kn(t.current,null),Ne=tt=e,Ee=0,Xi=null,ou=na=tr=0,Qe=_i=null,Qn!==null){for(e=0;e<Qn.length;e++)if(n=Qn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Qn=null}return t}function mg(t,e){do{var n=Ce;try{if(Gl(),$o.current=ys,ms){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ms=!1}if(er=0,Se=Ae=de=null,Ii=!1,Wi=0,iu.current=null,n===null||n.return===null){Ee=1,Xi=e,Ce=null;break}e:{var o=t,s=n.return,a=n,c=e;if(e=Ne,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=fh(s);if(v!==null){v.flags&=-257,gh(v,s,a,o,e),v.mode&1&&ph(o,u,e),e=v,c=u;var w=e.updateQueue;if(w===null){var T=new Set;T.add(c),e.updateQueue=T}else w.add(c);break e}else{if(!(e&1)){ph(o,u,e),lu();break e}c=Error(k(426))}}else if(ce&&a.mode&1){var L=fh(s);if(L!==null){!(L.flags&65536)&&(L.flags|=256),gh(L,s,a,o,e),Kl(Gr(c,a));break e}}o=c=Gr(c,a),Ee!==4&&(Ee=2),_i===null?_i=[o]:_i.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Zf(o,c,e);ah(o,m);break e;case 1:a=c;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sn===null||!Sn.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=eg(o,a,e);ah(o,E);break e}}o=o.return}while(o!==null)}Cg(n)}catch(_){e=_,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function yg(){var t=vs.current;return vs.current=ys,t===null?ys:t}function lu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),ke===null||!(tr&268435455)&&!(na&268435455)||fn(ke,Ne)}function As(t,e){var n=G;G|=2;var r=yg();(ke!==t||Ne!==e)&&(qt=null,Wn(t,e));do try{Cw();break}catch(i){mg(t,i)}while(!0);if(Gl(),G=n,vs.current=r,Ce!==null)throw Error(k(261));return ke=null,Ne=0,Ee}function Cw(){for(;Ce!==null;)vg(Ce)}function ww(){for(;Ce!==null&&!Gv();)vg(Ce)}function vg(t){var e=Ag(t.alternate,t,tt);t.memoizedProps=t.pendingProps,e===null?Cg(t):Ce=e,iu.current=null}function Cg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pw(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,Ce=null;return}}else if(n=hw(n,e,tt),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Ee===0&&(Ee=5)}function $n(t,e,n){var r=W,i=yt.transition;try{yt.transition=null,W=1,Aw(t,e,n,r)}finally{yt.transition=i,W=r}return null}function Aw(t,e,n,r){do Lr();while(yn!==null);if(G&6)throw Error(k(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(tC(t,o),t===ke&&(Ce=ke=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ro||(Ro=!0,Eg(ns,function(){return Lr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yt.transition,yt.transition=null;var s=W;W=1;var a=G;G|=4,iu.current=null,gw(t,n),pg(n,t),BC(Pc),is=!!Nc,Pc=Nc=null,t.current=n,mw(n),Vv(),G=a,W=s,yt.transition=o}else t.current=n;if(Ro&&(Ro=!1,yn=t,ws=i),o=t.pendingLanes,o===0&&(Sn=null),Wv(n.stateNode),Xe(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cs)throw Cs=!1,t=Jc,Jc=null,t;return ws&1&&t.tag!==0&&Lr(),o=t.pendingLanes,o&1?t===Xc?xi++:(xi=0,Xc=t):xi=0,Hn(),null}function Lr(){if(yn!==null){var t=Xp(ws),e=yt.transition,n=W;try{if(yt.transition=null,W=16>t?16:t,yn===null)var r=!1;else{if(t=yn,yn=null,ws=0,G&6)throw Error(k(331));var i=G;for(G|=4,P=t.current;P!==null;){var o=P,s=o.child;if(P.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:ki(8,d,o)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,v=d.return;if(ug(d),d===u){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var w=o.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var L=T.sibling;T.sibling=null,T=L}while(T!==null)}}P=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,P=s;else e:for(;P!==null;){if(o=P,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ki(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,P=m;break e}P=o.return}}var p=t.current;for(P=p;P!==null;){s=P;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,P=g;else e:for(s=p;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ta(9,a)}}catch(_){pe(a,a.return,_)}if(a===s){P=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,P=E;break e}P=a.return}}if(G=i,Hn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Qs,t)}catch{}r=!0}return r}finally{W=n,yt.transition=e}}return!1}function xh(t,e,n){e=Gr(n,e),e=Zf(t,e,1),t=Tn(t,e,1),e=ze(),t!==null&&(ao(t,1,e),Xe(t,e))}function pe(t,e,n){if(t.tag===3)xh(t,t,n);else for(;e!==null;){if(e.tag===3){xh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){t=Gr(n,t),t=eg(e,t,1),e=Tn(e,t,1),t=ze(),e!==null&&(ao(e,1,t),Xe(e,t));break}}e=e.return}}function Ew(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(Ne&n)===n&&(Ee===4||Ee===3&&(Ne&130023424)===Ne&&500>ge()-su?Wn(t,0):ou|=n),Xe(t,e)}function wg(t,e){e===0&&(t.mode&1?(e=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):e=1);var n=ze();t=rn(t,e),t!==null&&(ao(t,e,n),Xe(t,n))}function Tw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wg(t,n)}function Sw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),wg(t,n)}var Ag;Ag=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,dw(t,e,n);We=!!(t.flags&131072)}else We=!1,ce&&e.flags&1048576&&If(e,ds,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vo(t,e),t=e.pendingProps;var i=Br(e,je.current);Dr(e,n),i=Zl(null,e,r,t,i,n);var o=eu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(r)?(o=!0,ls(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ql(e),i.updater=ea,e.stateNode=i,i._reactInternals=e,Fc(e,r,t,n),e=Kc(null,e,r,!0,o,n)):(e.tag=0,ce&&o&&Bl(e),Fe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kw(r),t=Tt(r,t),i){case 0:e=zc(null,e,r,t,n);break e;case 1:e=vh(null,e,r,t,n);break e;case 11:e=mh(null,e,r,t,n);break e;case 14:e=yh(null,e,r,Tt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),zc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),vh(t,e,r,i,n);case 3:e:{if(ig(e),t===null)throw Error(k(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Pf(t,e),fs(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Gr(Error(k(423)),e),e=Ch(t,e,r,n,i);break e}else if(r!==i){i=Gr(Error(k(424)),e),e=Ch(t,e,r,n,i);break e}else for(ot=En(e.stateNode.containerInfo.firstChild),st=e,ce=!0,kt=null,n=Rf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===i){e=on(t,e,n);break e}Fe(t,e,r,n)}e=e.child}return e;case 5:return bf(e),t===null&&Uc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,bc(r,i)?s=null:o!==null&&bc(r,o)&&(e.flags|=32),rg(t,e),Fe(t,e,s,n),e.child;case 6:return t===null&&Uc(e),null;case 13:return og(t,e,n);case 4:return Wl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kr(e,null,r,n):Fe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),mh(t,e,r,i,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ee(hs,r._currentValue),r._currentValue=s,o!==null)if(Pt(o.value,s)){if(o.children===i.children&&!Ye.current){e=on(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=en(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),jc(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(k(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jc(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Fe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dr(e,n),i=vt(i),r=r(i),e.flags|=1,Fe(t,e,r,n),e.child;case 14:return r=e.type,i=Tt(r,e.pendingProps),i=Tt(r.type,i),yh(t,e,r,i,n);case 15:return tg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),Vo(t,e),e.tag=1,Je(r)?(t=!0,ls(e)):t=!1,Dr(e,n),Xf(e,r,i),Fc(e,r,i,n),Kc(null,e,r,!0,t,n);case 19:return sg(t,e,n);case 22:return ng(t,e,n)}throw Error(k(156,e.tag))};function Eg(t,e){return qp(t,e)}function Iw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,r){return new Iw(t,e,n,r)}function uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kw(t){if(typeof t=="function")return uu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rl)return 11;if(t===Nl)return 14}return 2}function kn(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wo(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")uu(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wr:return Yn(n.children,i,o,e);case xl:s=8,i|=8;break;case uc:return t=gt(12,n,e,i|2),t.elementType=uc,t.lanes=o,t;case dc:return t=gt(13,n,e,i),t.elementType=dc,t.lanes=o,t;case hc:return t=gt(19,n,e,i),t.elementType=hc,t.lanes=o,t;case Pp:return ra(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rp:s=10;break e;case Np:s=9;break e;case Rl:s=11;break e;case Nl:s=14;break e;case dn:s=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=gt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yn(t,e,n,r){return t=gt(7,t,r,e),t.lanes=n,t}function ra(t,e,n,r){return t=gt(22,t,r,e),t.elementType=Pp,t.lanes=n,t.stateNode={isHidden:!1},t}function Za(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function ec(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _w(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function du(t,e,n,r,i,o,s,a,c){return t=new _w(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(o),t}function xw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tg(t){if(!t)return On;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Je(n))return Tf(t,n,e)}return e}function Sg(t,e,n,r,i,o,s,a,c){return t=du(n,r,!0,t,i,o,s,a,c),t.context=Tg(null),n=t.current,r=ze(),i=In(n),o=en(r,i),o.callback=e??null,Tn(n,o,i),t.current.lanes=i,ao(t,i,r),Xe(t,r),t}function ia(t,e,n,r){var i=e.current,o=ze(),s=In(i);return n=Tg(n),e.context===null?e.context=n:e.pendingContext=n,e=en(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tn(i,e,s),t!==null&&(Rt(t,i,s,o),Ko(t,i,s)),s}function Es(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hu(t,e){Rh(t,e),(t=t.alternate)&&Rh(t,e)}function Rw(){return null}var Ig=typeof reportError=="function"?reportError:function(t){console.error(t)};function pu(t){this._internalRoot=t}oa.prototype.render=pu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));ia(t,e,null,null)};oa.prototype.unmount=pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nr(function(){ia(null,t,null,null)}),e[nn]=null}};function oa(t){this._internalRoot=t}oa.prototype.unstable_scheduleHydration=function(t){if(t){var e=tf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pn.length&&e!==0&&e<pn[n].priority;n++);pn.splice(n,0,t),n===0&&rf(t)}};function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nh(){}function Nw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Es(s);o.call(u)}}var s=Sg(e,r,t,0,null,!1,!1,"",Nh);return t._reactRootContainer=s,t[nn]=s.current,$i(t.nodeType===8?t.parentNode:t),nr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Es(c);a.call(u)}}var c=du(t,0,!1,null,null,!1,!1,"",Nh);return t._reactRootContainer=c,t[nn]=c.current,$i(t.nodeType===8?t.parentNode:t),nr(function(){ia(e,c,n,r)}),c}function aa(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=Es(s);a.call(c)}}ia(e,s,t,i)}else s=Nw(n,e,t,i,r);return Es(s)}Zp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mi(e.pendingLanes);n!==0&&(Ol(e,n|1),Xe(e,ge()),!(G&6)&&(Vr=ge()+500,Hn()))}break;case 13:nr(function(){var r=rn(t,1);if(r!==null){var i=ze();Rt(r,t,1,i)}}),hu(t,1)}};Ml=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=ze();Rt(e,t,134217728,n)}hu(t,134217728)}};ef=function(t){if(t.tag===13){var e=In(t),n=rn(t,e);if(n!==null){var r=ze();Rt(n,t,e,r)}hu(t,e)}};tf=function(){return W};nf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Ec=function(t,e,n){switch(e){case"input":if(gc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Js(r);if(!i)throw Error(k(90));Op(r),gc(r,i)}}}break;case"textarea":Dp(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};zp=au;Kp=nr;var Pw={usingClientEntryPoint:!1,Events:[lo,Sr,Js,Fp,Bp,au]},hi={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bw={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vp(t),t===null?null:t.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||Rw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Qs=No.inject(bw),Kt=No}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(e))throw Error(k(200));return xw(t,e,null,n)};lt.createRoot=function(t,e){if(!fu(t))throw Error(k(299));var n=!1,r="",i=Ig;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=du(t,1,!1,null,null,n,!1,r,i),t[nn]=e.current,$i(t.nodeType===8?t.parentNode:t),new pu(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Vp(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return nr(t)};lt.hydrate=function(t,e,n){if(!sa(e))throw Error(k(200));return aa(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!fu(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Ig;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Sg(e,null,t,1,n??null,i,!1,o,s),t[nn]=e.current,$i(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oa(e)};lt.render=function(t,e,n){if(!sa(e))throw Error(k(200));return aa(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!sa(t))throw Error(k(40));return t._reactRootContainer?(nr(function(){aa(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};lt.unstable_batchedUpdates=au;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sa(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return aa(t,e,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function kg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kg)}catch(t){console.error(t)}}kg(),Ip.exports=lt;var Ow=Ip.exports,_g,Ph=Ow;_g=Ph.createRoot,Ph.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:c,...u},d)=>j.createElement("svg",{ref:d,...Mw,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Dw(t)}`,a].join(" "),...u},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ie("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ie("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ie("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! @azure/msal-common v15.8.0 2025-07-01 */const A={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},vn={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},ho=[A.OPENID_SCOPE,A.PROFILE_SCOPE,A.OFFLINE_ACCESS_SCOPE],Mh=[...ho,A.EMAIL_SCOPE],Be={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Dh={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},_n={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Po={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Re={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Lh={PLAIN:"plain",S256:"S256"},bg={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},la={QUERY:"query",FRAGMENT:"fragment"},Qw={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},Og={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},bo={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ue={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},se={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},yu="appmetadata",qw="client_info",Ni="1",Ts={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},et={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},_e={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Q={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Pi={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Uh={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},mr={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},tc={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Gn={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Ww={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},Yw=300;/*! @azure/msal-common v15.8.0 2025-07-01 */const Ss="unexpected_error",Jw="post_request_failed";/*! @azure/msal-common v15.8.0 2025-07-01 */const jh={[Ss]:"Unexpected error in authentication.",[Jw]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class J extends Error{constructor(e,n,r){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,J.prototype),this.errorCode=e||A.EMPTY_STRING,this.errorMessage=n||A.EMPTY_STRING,this.subError=r||A.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function nl(t,e){return new J(t,e?`${jh[t]} ${e}`:jh[t])}/*! @azure/msal-common v15.8.0 2025-07-01 */const vu="client_info_decoding_error",Mg="client_info_empty_error",Cu="token_parsing_error",Dg="null_or_empty_token",Wt="endpoints_resolution_error",Lg="network_error",Ug="openid_config_error",jg="hash_not_deserialized",Qr="invalid_state",Hg="state_mismatch",rl="state_not_found",Fg="nonce_mismatch",wu="auth_time_not_found",Bg="max_age_transpired",Xw="multiple_matching_tokens",Zw="multiple_matching_accounts",zg="multiple_matching_appMetadata",Kg="request_cannot_be_made",$g="cannot_remove_empty_scope",Gg="cannot_append_scopeset",il="empty_input_scopeset",e0="device_code_polling_cancelled",t0="device_code_expired",n0="device_code_unknown_error",Au="no_account_in_silent_request",Vg="invalid_cache_record",Eu="invalid_cache_environment",ol="no_account_found",sl="no_crypto_object",r0="unexpected_credential_type",i0="invalid_assertion",o0="invalid_client_credential",xn="token_refresh_required",s0="user_timeout_reached",Qg="token_claims_cnf_required_for_signedjwt",qg="authorization_code_missing_from_server_response",Wg="binding_key_not_removed",Yg="end_session_endpoint_not_supported",Tu="key_id_missing",a0="no_network_connectivity",c0="user_canceled",l0="missing_tenant_id_error",z="method_not_implemented",u0="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.8.0 2025-07-01 */const Hh={[vu]:"The client info could not be parsed/decoded correctly",[Mg]:"The client info was empty",[Cu]:"Token cannot be parsed",[Dg]:"The token is null or empty",[Wt]:"Endpoints cannot be resolved",[Lg]:"Network request failed",[Ug]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[jg]:"The hash parameters could not be deserialized",[Qr]:"State was not the expected format",[Hg]:"State mismatch error",[rl]:"State not found",[Fg]:"Nonce mismatch error",[wu]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Bg]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Xw]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Zw]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[zg]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Kg]:"Token request cannot be made without authorization code or refresh token.",[$g]:"Cannot remove null or empty scope from ScopeSet",[Gg]:"Cannot append ScopeSet",[il]:"Empty input ScopeSet cannot be processed",[e0]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[t0]:"Device code is expired.",[n0]:"Device code stopped polling for unknown reasons.",[Au]:"Please pass an account object, silent flow is not supported without account information",[Vg]:"Cache record object was null or undefined.",[Eu]:"Invalid environment when attempting to create cache entry",[ol]:"No account found in cache for given key.",[sl]:"No crypto object detected.",[r0]:"Unexpected credential type.",[i0]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[o0]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[xn]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[s0]:"User defined timeout for device code polling reached",[Qg]:"Cannot generate a POP jwt if the token_claims are not populated",[qg]:"Server response does not contain an authorization code to proceed",[Wg]:"Could not remove the credential's binding key from storage.",[Yg]:"The provided authority does not support logout",[Tu]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[a0]:"No network connectivity. Check your internet connection.",[c0]:"User cancelled the flow.",[l0]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[z]:"This method has not been implemented",[u0]:"The nested app auth bridge is disabled"};class Su extends J{constructor(e,n){super(e,n?`${Hh[e]}: ${n}`:Hh[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Su.prototype)}}function I(t,e){return new Su(t,e)}/*! @azure/msal-common v15.8.0 2025-07-01 */const Is={createNewGuid:()=>{throw I(z)},base64Decode:()=>{throw I(z)},base64Encode:()=>{throw I(z)},base64UrlEncode:()=>{throw I(z)},encodeKid:()=>{throw I(z)},async getPublicKeyThumbprint(){throw I(z)},async removeTokenBindingKey(){throw I(z)},async clearKeystore(){throw I(z)},async signJwt(){throw I(z)},async hashString(){throw I(z)}};/*! @azure/msal-common v15.8.0 2025-07-01 */var ae;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ae||(ae={}));class Dn{constructor(e,n,r){this.level=ae.Info;const i=()=>{},o=e||Dn.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:ae.Info,this.correlationId=o.correlationId||A.EMPTY_STRING,this.packageName=n||A.EMPTY_STRING,this.packageVersion=r||A.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ae.Info}}clone(e,n,r){return new Dn({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ae[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,o,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:ae.Error,containsPii:!1,correlationId:n||A.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:ae.Error,containsPii:!0,correlationId:n||A.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:ae.Warning,containsPii:!1,correlationId:n||A.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:ae.Warning,containsPii:!0,correlationId:n||A.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:ae.Info,containsPii:!1,correlationId:n||A.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:ae.Info,containsPii:!0,correlationId:n||A.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:ae.Verbose,containsPii:!1,correlationId:n||A.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:ae.Verbose,containsPii:!0,correlationId:n||A.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:ae.Trace,containsPii:!1,correlationId:n||A.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:ae.Trace,containsPii:!0,correlationId:n||A.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.8.0 2025-07-01 */const Jg="@azure/msal-common",Iu="15.8.0";/*! @azure/msal-common v15.8.0 2025-07-01 */const ku={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v15.8.0 2025-07-01 */function Zr(t,e){const n=d0(t);try{const r=e(n);return JSON.parse(r)}catch{throw I(Cu)}}function d0(t){if(!t)throw I(Dg);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw I(Cu);return n[2]}function Xg(t,e){if(e===0||Date.now()-3e5>t+e)throw I(Bg)}/*! @azure/msal-common v15.8.0 2025-07-01 */function Ze(){return Math.round(new Date().getTime()/1e3)}function Fh(t){return t.getTime()/1e3}function Ur(t){return t?new Date(Number(t)*1e3):new Date}function al(t,e){const n=Number(t)||0;return Ze()+e>n}function h0(t){return Number(t)>Ze()}/*! @azure/msal-common v15.8.0 2025-07-01 */function bi(t){return[m0(t),y0(t),v0(t),C0(t),w0(t)].join(Ue.CACHE_KEY_SEPARATOR).toLowerCase()}function ua(t,e,n,r,i){return{credentialType:se.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:i}}function da(t,e,n,r,i,o,s,a,c,u,d,h,f,v,w){var L,m;const T={homeAccountId:t,credentialType:se.ACCESS_TOKEN,secret:n,cachedAt:Ze().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:d||Q.BEARER};if(h&&(T.userAssertionHash=h),u&&(T.refreshOn=u.toString()),v&&(T.requestedClaims=v,T.requestedClaimsHash=w),((L=T.tokenType)==null?void 0:L.toLowerCase())!==Q.BEARER.toLowerCase())switch(T.credentialType=se.ACCESS_TOKEN_WITH_AUTH_SCHEME,T.tokenType){case Q.POP:const p=Zr(n,c);if(!((m=p==null?void 0:p.cnf)!=null&&m.kid))throw I(Qg);T.keyId=p.cnf.kid;break;case Q.SSH:T.keyId=f}return T}function Zg(t,e,n,r,i,o,s){const a={credentialType:se.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function _u(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function p0(t){return t?_u(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===se.ACCESS_TOKEN||t.credentialType===se.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function f0(t){return t?_u(t)&&t.hasOwnProperty("realm")&&t.credentialType===se.ID_TOKEN:!1}function g0(t){return t?_u(t)&&t.credentialType===se.REFRESH_TOKEN:!1}function m0(t){return[t.homeAccountId,t.environment].join(Ue.CACHE_KEY_SEPARATOR).toLowerCase()}function y0(t){const e=t.credentialType===se.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Ue.CACHE_KEY_SEPARATOR).toLowerCase()}function v0(t){return(t.target||"").toLowerCase()}function C0(t){return(t.requestedClaimsHash||"").toLowerCase()}function w0(t){return t.tokenType&&t.tokenType.toLowerCase()!==Q.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function A0(t,e){const n=t.indexOf(_e.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function E0(t,e){let n=!1;t&&(n=t.indexOf(Pi.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function T0({environment:t,clientId:e}){return[yu,t,e].join(Ue.CACHE_KEY_SEPARATOR).toLowerCase()}function S0(t,e){return e?t.indexOf(yu)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function I0(t,e){return e?t.indexOf(Ts.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Bh(){return Ze()+Ts.REFRESH_TIME_SECONDS}function Oo(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function nc(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function zh(t){return t.expiresAt<=Ze()}/*! @azure/msal-common v15.8.0 2025-07-01 */const em="redirect_uri_empty",k0="claims_request_parsing_error",tm="authority_uri_insecure",vi="url_parse_error",nm="empty_url_error",rm="empty_input_scopes_error",im="invalid_prompt_value",ha="invalid_claims",om="token_request_empty",sm="logout_request_empty",am="invalid_code_challenge_method",pa="pkce_params_missing",xu="invalid_cloud_discovery_metadata",cm="invalid_authority_metadata",lm="untrusted_authority",fa="missing_ssh_jwk",um="missing_ssh_kid",_0="missing_nonce_authentication_header",x0="invalid_authentication_header",dm="cannot_set_OIDCOptions",hm="cannot_allow_platform_broker",pm="authority_mismatch";/*! @azure/msal-common v15.8.0 2025-07-01 */const R0={[em]:"A redirect URI is required for all calls, and none has been set.",[k0]:"Could not parse the given claims request object.",[tm]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[vi]:"URL could not be parsed into appropriate segments.",[nm]:"URL was empty or null.",[rm]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[im]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ha]:"Given claims parameter must be a stringified JSON object.",[om]:"Token request was empty and not found in cache.",[sm]:"The logout request was null or undefined.",[am]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[pa]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[xu]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[cm]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[lm]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[fa]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[um]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[_0]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[x0]:"Invalid authentication header provided",[dm]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[hm]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[pm]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Ru extends J{constructor(e){super(e,R0[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Ru.prototype)}}function q(t){return new Ru(t)}/*! @azure/msal-common v15.8.0 2025-07-01 */class Gt{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(n[i(s)]=i(a))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.8.0 2025-07-01 */class Te{constructor(e){const n=e?Gt.trimArrayEntries([...e]):[],r=n?Gt.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw q(rm);this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||A.EMPTY_STRING).split(" ");return new Te(r)}static createSearchScopes(e){const n=new Te(e);return n.containsOnlyOIDCScopes()?n.removeScope(A.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new Te(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return Mh.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw I(Gg)}}removeScope(e){if(!e)throw I($g);this.scopes.delete(e.trim())}removeOIDCScopes(){Mh.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw I(il);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw I(il);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):A.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.8.0 2025-07-01 */function ks(t,e){if(!t)throw I(Mg);try{const n=e(t);return JSON.parse(n)}catch{throw I(vu)}}function jr(t){if(!t)throw I(vu);const e=t.split(Ue.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?A.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.8.0 2025-07-01 */function Kh(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Nu(t,e,n,r){if(r){const{oid:i,sub:o,tid:s,name:a,tfp:c,acr:u}=r,d=s||c||u||"";return{tenantId:d,localAccountId:i||o||"",name:a,isHomeTenant:Kh(d,t)}}else return{tenantId:n,localAccountId:e,isHomeTenant:Kh(n,t)}}function Pu(t,e,n,r){let i=t;if(e){const{isHomeTenant:o,...s}=e;i={...t,...s}}if(n){const{isHomeTenant:o,...s}=Nu(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...s,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v15.8.0 2025-07-01 */const It={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.8.0 2025-07-01 */function fm(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.8.0 2025-07-01 */const at={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.8.0 2025-07-01 */class Ke{generateAccountId(){return[this.homeAccountId,this.environment].join(Ue.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Ke.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const n=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",n||e.tenantId||""].join(Ue.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,n,r){var u,d,h,f,v,w;const i=new Ke;n.authorityType===It.Adfs?i.authorityType=bo.ADFS_ACCOUNT_TYPE:n.protocolMode===at.OIDC?i.authorityType=bo.GENERIC_ACCOUNT_TYPE:i.authorityType=bo.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=ks(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||n&&n.getPreferredCache();if(!s)throw I(Eu);i.environment=s,i.realm=(o==null?void 0:o.utid)||fm(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((d=e.idTokenClaims)==null?void 0:d.sub)||"";const a=((h=e.idTokenClaims)==null?void 0:h.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),c=(v=e.idTokenClaims)!=null&&v.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||c||"",i.name=((w=e.idTokenClaims)==null?void 0:w.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const T=Nu(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[T]}return i}static createFromAccountInfo(e,n,r){var o;const i=new Ke;return i.authorityType=e.authorityType||bo.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,n,r,i,o){if(!(n===It.Adfs||n===It.Dsts)){if(e)try{const s=ks(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let i=!0;if(r){const o=e.idTokenClaims||{},s=n.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v15.8.0 2025-07-01 */function gm(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function _s(t){if(!t||t.indexOf("=")<0)return null;try{const e=gm(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw I(jg)}return null}function Zi(t,e=!0,n){const r=new Array;return t.forEach((i,o)=>{!e&&n&&o in n?r.push(`${o}=${i}`):r.push(`${o}=${encodeURIComponent(i)}`)}),r.join("&")}/*! @azure/msal-common v15.8.0 2025-07-01 */class ${get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw q(nm);e.includes("#")||(this._urlString=$.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Gt.endsWith(n,"?")?n=n.slice(0,-1):Gt.endsWith(n,"?/")&&(n=n.slice(0,-2)),Gt.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw q(vi)}if(!e.HostNameAndPort||!e.PathSegments)throw q(vi);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw q(tm)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return $.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===_n.COMMON||r[0]===_n.ORGANIZATIONS)&&(r[0]=e),$.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw q(vi);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw q(vi);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===A.FORWARD_SLASH){const i=new $(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new $(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!_s(e)}}/*! @azure/msal-common v15.8.0 2025-07-01 */const mm={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},$h=mm.endpointMetadata,bu=mm.instanceDiscoveryMetadata,ym=new Set;bu.metadata.forEach(t=>{t.aliases.forEach(e=>{ym.add(e)})});function N0(t,e){var i;let n;const r=t.canonicalAuthority;if(r){const o=new $(r).getUrlComponents().HostNameAndPort;n=Gh(o,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,et.CONFIG,e)||Gh(o,bu.metadata,et.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function Gh(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=xs(e,t);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function P0(t){return xs(bu.metadata,t)}function xs(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.8.0 2025-07-01 */const Rs="cache_quota_exceeded",Ou="cache_error_unknown";/*! @azure/msal-common v15.8.0 2025-07-01 */const rc={[Rs]:"Exceeded cache storage capacity.",[Ou]:"Unexpected error occurred when using cache storage."};class Hr extends J{constructor(e,n){const r=n||(rc[e]?rc[e]:rc[Ou]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Hr.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function cl(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Hr(Rs):new Hr(t.name,t.message):new Hr(Ou)}/*! @azure/msal-common v15.8.0 2025-07-01 */class ll{constructor(e,n,r,i,o){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(Jg,Iu),this.staticAuthorityOptions=o,this.performanceClient=i}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){const r=this.getAllAccounts(e,n);return r.length>1?r.sort(o=>o.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,n){const r=this.getAccountsFilteredBy(e,n);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,n,r){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,n,r,i,o){let s=null,a;if(o&&!this.tenantProfileMatchesFilter(r,o))return null;const c=this.getIdToken(e,i,n,r.tenantId);return c&&(a=Zr(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,o))?null:(s=Pu(e,r,a,c==null?void 0:c.secret),s)}getTenantProfilesFromAccountEntity(e,n,r,i){const o=e.getAccountInfo();let s=o.tenantProfiles||new Map;const a=this.getTokenKeys();if(r){const u=s.get(r);if(u)s=new Map([[r,u]]);else return[]}const c=[];return s.forEach(u=>{const d=this.getTenantedAccountInfoByFilter(o,a,u,n,i);d&&c.push(d)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var i;if(!e)throw I(Vg);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(o){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),o instanceof J?o:cl(o)}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),o=Te.fromString(e.target);i.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,r,!1))return;const a=this.getAccessTokenCredential(s,n);a&&this.credentialMatchesFilter(a,r)&&Te.fromString(a.target).intersectingScopeSets(o)&&this.removeAccessToken(s,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const r=this.getAccountKeys(),i=[];return r.forEach(o=>{var u;if(!this.isAccountKey(o,e.homeAccountId))return;const s=this.getAccount(o,n);if(!s||e.homeAccountId&&!this.matchHomeAccountId(s,e.homeAccountId)||e.username&&!this.matchUsername(s.username,e.username)||e.environment&&!this.matchEnvironment(s,e.environment)||e.realm&&!this.matchRealm(s,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(s,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(s,e.authorityType))return;const a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(u=s.tenantProfiles)==null?void 0:u.filter(d=>this.tenantProfileMatchesFilter(d,a));c&&c.length===0||i.push(s)}),i}isAccountKey(e,n,r){return!(e.split(Ue.CACHE_KEY_SEPARATOR).length<3||n&&!e.toLowerCase().includes(n.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Ue.CACHE_KEY_SEPARATOR).length<6)return!1;const n=e.toLowerCase();if(n.indexOf(se.ID_TOKEN.toLowerCase())===-1&&n.indexOf(se.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(se.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(se.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(se.REFRESH_TOKEN.toLowerCase())>-1){const r=`${se.REFRESH_TOKEN}${Ue.CACHE_KEY_SEPARATOR}${this.clientId}${Ue.CACHE_KEY_SEPARATOR}`,i=`${se.REFRESH_TOKEN}${Ue.CACHE_KEY_SEPARATOR}${Ni}${Ue.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(i.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===se.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===Q.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}removeAllAccounts(e){this.getAccountKeys().forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,n){const r=this.getAccount(e,n);r&&(this.removeAccountContext(r,n),this.removeItem(e,n))}removeAccountContext(e,n){const r=this.getTokenKeys(),i=e.generateAccountId();r.idToken.forEach(o=>{o.indexOf(i)===0&&this.removeIdToken(o,n)}),r.accessToken.forEach(o=>{o.indexOf(i)===0&&this.removeAccessToken(o,n)}),r.refreshToken.forEach(o=>{o.indexOf(i)===0&&this.removeRefreshToken(o,n)})}removeAccessToken(e,n){const r=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!r||r.credentialType.toLowerCase()!==se.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==Q.POP)return;const i=r.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{var o;this.commonLogger.error(`Failed to remove token binding key ${i}`,n),(o=this.performanceClient)==null||o.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}readAccountFromCache(e,n){const r=Ke.generateAccountCacheKey(e);return this.getAccount(r,n)}getIdToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:se.ID_TOKEN,clientId:this.clientId,realm:i},a=this.getIdTokensByFilter(s,n,r),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let u=a;if(!i){const d=new Map;a.forEach((f,v)=>{f.realm===e.tenantId&&d.set(v,f)});const h=d.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;u=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((d,h)=>{this.removeIdToken(h,n)}),o&&n&&o.addFields({multiMatchedID:a.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,n,r){const i=r&&r.idToken||this.getTokenKeys().idToken,o=new Map;return i.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...e}))return;const a=this.getIdTokenCredential(s,n);a&&this.credentialMatchesFilter(a,e)&&o.set(s,a)}),o}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,r,i){const o=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",o);const s=Te.createSearchScopes(n.scopes),a=n.authenticationScheme||Q.BEARER,c=a&&a.toLowerCase()!==Q.BEARER.toLowerCase()?se.ACCESS_TOKEN_WITH_AUTH_SCHEME:se.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:i||e.tenantId,target:s,tokenType:a,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(v=>{if(this.accessTokenKeyMatchesFilter(v,u,!0)){const w=this.getAccessTokenCredential(v,o);w&&this.credentialMatchesFilter(w,u)&&h.push(w)}});const f=h.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",o),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",o),h.forEach(v=>{this.removeAccessToken(bi(v),o)}),this.performanceClient.addFields({multiMatchedAT:h.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",o),h[0])}accessTokenKeyMatchesFilter(e,n,r){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const o=n.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const r=this.getTokenKeys(),i=[];return r.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,e,!0))return;const s=this.getAccessTokenCredential(o,n);s&&this.credentialMatchesFilter(s,e)&&i.push(s)}),i}getRefreshToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=n?Ni:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:se.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=i&&i.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,a)){const f=this.getRefreshTokenCredential(h,r);f&&this.credentialMatchesFilter(f,a)&&u.push(f)}});const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&o&&r&&o.addFields({multiMatchedRT:d},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw I(zg);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Ni)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=N0(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==se.ACCESS_TOKEN&&e.credentialType!==se.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Te.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(yu)!==-1}isAuthorityMetadata(e){return e.indexOf(Ts.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Ts.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class b0 extends ll{async setAccount(){throw I(z)}getAccount(){throw I(z)}async setIdTokenCredential(){throw I(z)}getIdTokenCredential(){throw I(z)}async setAccessTokenCredential(){throw I(z)}getAccessTokenCredential(){throw I(z)}async setRefreshTokenCredential(){throw I(z)}getRefreshTokenCredential(){throw I(z)}setAppMetadata(){throw I(z)}getAppMetadata(){throw I(z)}setServerTelemetry(){throw I(z)}getServerTelemetry(){throw I(z)}setAuthorityMetadata(){throw I(z)}getAuthorityMetadata(){throw I(z)}getAuthorityMetadataKeys(){throw I(z)}setThrottlingCache(){throw I(z)}getThrottlingCache(){throw I(z)}removeItem(){throw I(z)}getKeys(){throw I(z)}getAccountKeys(){throw I(z)}getTokenKeys(){throw I(z)}}/*! @azure/msal-common v15.8.0 2025-07-01 */const y={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},O0={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v15.8.0 2025-07-01 */class Vh{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class vm{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:O0.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Vh}}startPerformanceMeasurement(){return new Vh}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.8.0 2025-07-01 */const Cm={tokenRenewalOffsetSeconds:Yw,preventCorsPreflight:!1},M0={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ae.Info,correlationId:A.EMPTY_STRING},D0={claimsBasedCachingEnabled:!1},L0={async sendGetRequestAsync(){throw I(z)},async sendPostRequestAsync(){throw I(z)}},U0={sku:A.SKU,version:Iu,cpu:A.EMPTY_STRING,os:A.EMPTY_STRING},j0={clientSecret:A.EMPTY_STRING,clientAssertion:void 0},H0={azureCloudInstance:ku.None,tenant:`${A.DEFAULT_COMMON_TENANT}`},F0={application:{appName:"",appVersion:""}};function B0({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:f}){const v={...M0,...n};return{authOptions:z0(t),systemOptions:{...Cm,...e},loggerOptions:v,cacheOptions:{...D0,...r},storageInterface:i||new b0(t.clientId,Is,new Dn(v),new vm),networkInterface:o||L0,cryptoInterface:s||Is,clientCredentials:a||j0,libraryInfo:{...U0,...c},telemetry:{...F0,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null}}function z0(t){return{clientCapabilities:[],azureCloudOptions:H0,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function wm(t){return t.authOptions.authority.options.protocolMode===at.OIDC}/*! @azure/msal-common v15.8.0 2025-07-01 */const _t={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.8.0 2025-07-01 */const rr="client_id",Am="redirect_uri",K0="response_type",$0="response_mode",G0="grant_type",V0="claims",Q0="scope",q0="refresh_token",W0="state",Y0="nonce",J0="prompt",X0="code",Z0="code_challenge",eA="code_challenge_method",tA="code_verifier",nA="client-request-id",rA="x-client-SKU",iA="x-client-VER",oA="x-client-OS",sA="x-client-CPU",aA="x-client-current-telemetry",cA="x-client-last-telemetry",lA="x-ms-lib-capability",uA="x-app-name",dA="x-app-ver",hA="post_logout_redirect_uri",pA="id_token_hint",fA="client_secret",gA="client_assertion",mA="client_assertion_type",Em="token_type",Tm="req_cnf",Qh="return_spa_code",yA="nativebroker",vA="logout_hint",CA="sid",wA="login_hint",AA="domain_hint",EA="x-client-xtra-sku",Ns="brk_client_id",Ps="brk_redirect_uri",ul="instance_aware",TA="ear_jwk",SA="ear_jwe_crypto";/*! @azure/msal-common v15.8.0 2025-07-01 */function ga(t,e,n){if(!e)return;const r=t.get(rr);r&&t.has(Ns)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:t.get(Am)},e))}function Sm(t,e){t.set(K0,e)}function IA(t,e){t.set($0,e||Qw.QUERY)}function kA(t){t.set(yA,"1")}function Mu(t,e,n=!0,r=ho){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=n?[...e||[],...r]:e||[],o=new Te(i);t.set(Q0,o.printScopes())}function Du(t,e){t.set(rr,e)}function Lu(t,e){t.set(Am,e)}function _A(t,e){t.set(hA,e)}function xA(t,e){t.set(pA,e)}function RA(t,e){t.set(AA,e)}function Mo(t,e){t.set(wA,e)}function bs(t,e){t.set(Be.CCS_HEADER,`UPN:${e}`)}function Oi(t,e){t.set(Be.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function qh(t,e){t.set(CA,e)}function Uu(t,e,n){const r=LA(e,n);try{JSON.parse(r)}catch{throw q(ha)}t.set(V0,r)}function ju(t,e){t.set(nA,e)}function Hu(t,e){t.set(rA,e.sku),t.set(iA,e.version),e.os&&t.set(oA,e.os),e.cpu&&t.set(sA,e.cpu)}function Fu(t,e){e!=null&&e.appName&&t.set(uA,e.appName),e!=null&&e.appVersion&&t.set(dA,e.appVersion)}function NA(t,e){t.set(J0,e)}function Im(t,e){e&&t.set(W0,e)}function PA(t,e){t.set(Y0,e)}function bA(t,e,n){if(e&&n)t.set(Z0,e),t.set(eA,n);else throw q(pa)}function OA(t,e){t.set(X0,e)}function MA(t,e){t.set(q0,e)}function DA(t,e){t.set(tA,e)}function km(t,e){t.set(fA,e)}function _m(t,e){e&&t.set(gA,e)}function xm(t,e){e&&t.set(mA,e)}function Rm(t,e){t.set(G0,e)}function Bu(t){t.set(qw,"1")}function Nm(t){t.has(ul)||t.set(ul,"true")}function Jn(t,e){Object.entries(e).forEach(([n,r])=>{!t.has(n)&&r&&t.set(n,r)})}function LA(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw q(ha)}return e&&e.length>0&&(n.hasOwnProperty(Po.ACCESS_TOKEN)||(n[Po.ACCESS_TOKEN]={}),n[Po.ACCESS_TOKEN][Po.XMS_CC]={values:e}),JSON.stringify(n)}function zu(t,e){e&&(t.set(Em,Q.POP),t.set(Tm,e))}function Pm(t,e){e&&(t.set(Em,Q.SSH),t.set(Tm,e))}function bm(t,e){t.set(aA,e.generateCurrentRequestHeaderValue()),t.set(cA,e.generateLastRequestHeaderValue())}function Om(t){t.set(lA,Pi.X_MS_LIB_CAPABILITY_VALUE)}function UA(t,e){t.set(vA,e)}function ma(t,e,n){t.has(Ns)||t.set(Ns,e),t.has(Ps)||t.set(Ps,n)}function jA(t,e){t.set(TA,encodeURIComponent(e)),t.set(SA,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}/*! @azure/msal-common v15.8.0 2025-07-01 */function HA(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.8.0 2025-07-01 */function FA(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.8.0 2025-07-01 */function BA(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.8.0 2025-07-01 */const wt=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}try{const a=t(...o);return s==null||s.end({success:!0}),n.trace(`Returning result from ${e}`),a}catch(a){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},S=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}return r==null||r.setPreQueueTime(e,i),t(...o).then(a=>(n.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v15.8.0 2025-07-01 */class ya{constructor(e,n,r,i){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(y.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=mr.ENVIRONMENT_VARIABLE;else{const o=ya.IMDS_OPTIONS;try{const s=await S(this.getRegionFromIMDS.bind(this),y.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(A.IMDS_VERSION,o);if(s.status===vn.SUCCESS&&(r=s.body,n.region_source=mr.IMDS),s.status===vn.BAD_REQUEST){const a=await S(this.getCurrentVersion.bind(this),y.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return n.region_source=mr.FAILED_AUTO_DETECTION,null;const c=await S(this.getRegionFromIMDS.bind(this),y.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);c.status===vn.SUCCESS&&(r=c.body,n.region_source=mr.IMDS)}}catch{return n.region_source=mr.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=mr.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(y.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${A.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,A.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(y.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${A.IMDS_ENDPOINT}?format=json`,e);return r.status===vn.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}ya.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.8.0 2025-07-01 */class De{constructor(e,n,r,i,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new ya(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(A.CIAM_AUTH_URL))return It.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case A.ADFS:return It.Adfs;case A.DSTS:return It.Dsts}return It.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new $(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw I(Wt)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw I(Wt)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw I(Wt)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw I(Yg);return this.replacePath(this.metadata.end_session_endpoint)}else throw I(Wt)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw I(Wt)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw I(Wt)}canReplaceTenant(e){return e.PathSegments.length===1&&!De.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===It.Default&&this.protocolMode!==at.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new $(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let u=o[c];if(c===0&&this.canReplaceTenant(i)){const d=new $(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==d&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${d}`),u=d)}a!==u&&(n=n.replace(`/${u}/`,`/${a}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===It.Adfs||this.protocolMode===at.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(y.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await S(this.updateCloudDiscoveryMetadata.bind(this),y.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await S(this.updateEndpointMetadata.bind(this),y.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Bh(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==et.CACHE&&(r==null?void 0:r.source)!==et.CACHE&&(e.expiresAt=Bh(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(y.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===et.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&n.metadata){const a=await S(this.updateMetadataWithRegionalInformation.bind(this),y.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Oo(e,a,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await S(this.getEndpointMetadataFromNetwork.bind(this),y.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await S(this.updateMetadataWithRegionalInformation.bind(this),y.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Oo(e,r,!0),et.NETWORK;throw I(Ug,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Oo(e,n,!1),{source:et.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Oo(e,i,!1),{source:et.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=zh(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:et.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new $(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw q(cm)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(y.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,e);return HA(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in $h?$h[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(y.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==A.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=tc.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,De.replaceWithRegionalInformation(e,n);const s=await S(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),y.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=tc.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,De.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=tc.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(y.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await S(this.getCloudDiscoveryMetadataFromNetwork.bind(this),y.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return nc(e,r,!0),et.NETWORK;throw q(lm)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||A.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||A.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||A.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),nc(e,n,!1),et.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=P0(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),nc(e,i,!1),et.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=zh(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),et.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===It.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),De.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=xs(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),q(xu)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),De.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(y.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${A.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,n);let s,a;if(FA(o.body))s=o.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(BA(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===A.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=xs(a,this.hostnameAndPort)}catch(o){if(o instanceof J)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=De.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&$.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==ku.None){const i=n.tenant?n.tenant:A.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return A.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw I(Wt)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return ym.has(e)}static isPublicCloudAuthority(e){return A.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const i=new $(e);i.validateAsUri();const o=i.getUrlComponents();let s=`${n}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${n}.${A.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=$.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=De.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=De.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=De.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const i=new $(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(A.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];n=`${n}${o}${A.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}De.reservedTenantDomains=new Set(["{tenant}","{tenantid}",_n.COMMON,_n.CONSUMERS,_n.ORGANIZATIONS]);function zA(t){var i;const r=(i=new $(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case _n.COMMON:case _n.ORGANIZATIONS:case _n.CONSUMERS:return;default:return r}}function Mm(t){return t.endsWith(A.FORWARD_SLASH)?t:`${t}${A.FORWARD_SLASH}`}function KA(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw q(xu)}return{canonicalAuthority:t.authority?Mm(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.8.0 2025-07-01 */async function Dm(t,e,n,r,i,o,s){s==null||s.addQueueMeasurement(y.AuthorityFactoryCreateDiscoveredInstance,o);const a=De.transformCIAMAuthority(Mm(t)),c=new De(a,e,n,r,i,o,s);try{return await S(c.resolveEndpointsAsync.bind(c),y.AuthorityResolveEndpointsAsync,i,s,o)(),c}catch{throw I(Wt)}}/*! @azure/msal-common v15.8.0 2025-07-01 */class dr extends J{constructor(e,n,r,i,o){super(e,n,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,dr.prototype)}}/*! @azure/msal-common v15.8.0 2025-07-01 */function va(t,e,n){var r;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.8.0 2025-07-01 */class Bt{static generateThrottlingStorageKey(e){return`${Pi.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,r){var s;const i=Bt.generateThrottlingStorageKey(n),o=e.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now()){e.removeItem(i,r);return}throw new dr(((s=o.errorCodes)==null?void 0:s.join(" "))||A.EMPTY_STRING,o.errorMessage,o.subError)}}static postProcess(e,n,r,i){if(Bt.checkResponseStatus(r)||Bt.checkResponseForRetryAfter(r)){const o={throttleTime:Bt.calculateThrottleTime(parseInt(r.headers[Be.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(Bt.generateThrottlingStorageKey(n),o,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Be.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||Pi.DEFAULT_THROTTLE_TIME_SECONDS),r+Pi.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,i){const o=va(n,r,i),s=this.generateThrottlingStorageKey(o);e.removeItem(s,r.correlationId)}}/*! @azure/msal-common v15.8.0 2025-07-01 */class Ca extends J{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Ca.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function Ci(t,e,n,r){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new Ca(t,e,n)}/*! @azure/msal-common v15.8.0 2025-07-01 */class Ku{constructor(e,n){this.config=B0(e),this.logger=new Dn(this.config.loggerOptions,Jg,Iu),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[Be.CONTENT_TYPE]=A.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case _t.HOME_ACCOUNT_ID:try{const r=jr(e.credential);n[Be.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case _t.UPN:n[Be.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,i,o,s){var c;s&&((c=this.performanceClient)==null||c.addQueueMeasurement(s,o));const a=await this.sendPostRequest(i,e,{body:n,headers:r},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,n,r,i){var s,a,c;Bt.preProcess(this.cacheManager,e,i);let o;try{o=await S(this.networkClient.sendPostRequestAsync.bind(this.networkClient),y.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const u=o.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=o.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:u[Be.X_MS_HTTP_VERSION]||"",requestId:u[Be.X_MS_REQUEST_ID]||""},i)}catch(u){if(u instanceof Ca){const d=u.responseHeaders;throw d&&((c=this.performanceClient)==null||c.addFields({httpVerToken:d[Be.X_MS_HTTP_VERSION]||"",requestId:d[Be.X_MS_REQUEST_ID]||"",contentTypeHeader:d[Be.CONTENT_TYPE]||void 0,contentLengthHeader:d[Be.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},i)),u.error}throw u instanceof J?u:I(Lg)}return Bt.postProcess(this.cacheManager,e,o,i),o}async updateAuthority(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(y.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,i=await Dm(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&ma(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Jn(n,e.tokenQueryParameters),ju(n,e.correlationId),ga(n,e.correlationId,this.performanceClient),Zi(n)}}/*! @azure/msal-common v15.8.0 2025-07-01 */const Os="no_tokens_found",Lm="native_account_unavailable",$u="refresh_token_expired",Gu="ux_not_allowed",$A="interaction_required",GA="consent_required",VA="login_required",wa="bad_token";/*! @azure/msal-common v15.8.0 2025-07-01 */const Wh=[$A,GA,VA,wa,Gu],QA=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],qA={[Os]:"No refresh token found in the cache. Please sign-in.",[Lm]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[$u]:"Refresh token has expired.",[wa]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[Gu]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class bt extends J{constructor(e,n,r,i,o,s,a,c){super(e,n,r),Object.setPrototypeOf(this,bt.prototype),this.timestamp=i||A.EMPTY_STRING,this.traceId=o||A.EMPTY_STRING,this.correlationId=s||A.EMPTY_STRING,this.claims=a||A.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function Um(t,e,n){const r=!!t&&Wh.indexOf(t)>-1,i=!!n&&QA.indexOf(n)>-1,o=!!e&&Wh.some(s=>e.indexOf(s)>-1);return r||o||i}function Ms(t){return new bt(t,qA[t])}/*! @azure/msal-common v15.8.0 2025-07-01 */class ei{static setRequestState(e,n,r){const i=ei.generateLibraryState(e,r);return n?`${i}${A.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw I(sl);const r={id:e.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw I(sl);if(!n)throw I(Qr);try{const r=n.split(A.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(A.RESOURCE_DELIM):A.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||A.EMPTY_STRING,libraryState:a}}catch{throw I(Qr)}}}/*! @azure/msal-common v15.8.0 2025-07-01 */const WA={SW:"sw"};class qr{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(y.PopTokenGenerateCnf,e.correlationId);const r=await S(this.generateKid.bind(this),y.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(y.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:WA.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,i){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:u}=r,d=s?new $(s):void 0,h=d==null?void 0:d.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Ze(),m:o==null?void 0:o.toUpperCase(),u:h==null?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:h==null?void 0:h.AbsolutePath,q:h!=null&&h.QueryString?[[],h.QueryString]:void 0,client_claims:a||void 0,...i},n,u,r.correlationId)}}/*! @azure/msal-common v15.8.0 2025-07-01 */class YA{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.8.0 2025-07-01 */class ir{constructor(e,n,r,i,o,s,a){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||A.NOT_AVAILABLE} - Timestamp: ${e.timestamp||A.NOT_AVAILABLE} - Description: ${e.error_description||A.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||A.NOT_AVAILABLE} - Trace ID: ${e.trace_id||A.NOT_AVAILABLE}`,o=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,s=new dr(e.error,i,e.suberror,o,e.status);if(n&&e.status&&e.status>=vn.SERVER_ERROR_RANGE_START&&e.status<=vn.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(n&&e.status&&e.status>=vn.CLIENT_ERROR_RANGE_START&&e.status<=vn.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw Um(e.error,e.error_description,e.suberror)?new bt(e.error,e.error_description,e.suberror,e.timestamp||A.EMPTY_STRING,e.trace_id||A.EMPTY_STRING,e.correlation_id||A.EMPTY_STRING,e.claims||A.EMPTY_STRING,o):s}}async handleServerTokenResponse(e,n,r,i,o,s,a,c,u){var w;(w=this.performanceClient)==null||w.addQueueMeasurement(y.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=Zr(e.id_token||A.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw I(Fg);if(i.maxAge||i.maxAge===0){const T=d.auth_time;if(!T)throw I(wu);Xg(T,i.maxAge)}}this.homeAccountIdentifier=Ke.generateHomeAccountId(e.client_info||A.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,d);let h;o&&o.state&&(h=ei.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const f=this.generateCacheRecord(e,n,r,i,d,s,o);let v;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),v=new YA(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(v)),a&&!c&&f.account){const T=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(T,i.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ir.generateAuthenticationResult(this.cryptoObj,n,f,!1,i,d,h,void 0,u)}await this.cacheStorage.saveCacheRecord(f,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&v&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(v))}return ir.generateAuthenticationResult(this.cryptoObj,n,f,!1,i,d,h,e,u)}generateCacheRecord(e,n,r,i,o,s,a){const c=n.getPreferredCache();if(!c)throw I(Eu);const u=fm(o);let d,h;e.id_token&&o&&(d=ua(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),h=Vu(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,o,e.client_info,c,u,a,void 0,this.logger));let f=null;if(e.access_token){const T=e.scope?Te.fromString(e.scope):new Te(i.scopes||[]),L=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,m=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,p=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=r+L,E=g+m,_=p&&p>0?r+p:void 0;f=da(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||n.tenant||"",T.printScopes(),g,E,this.cryptoObj.base64Decode,_,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let v=null;if(e.refresh_token){let T;if(e.refresh_token_expires_in){const L=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;T=r+L}v=Zg(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,T)}let w=null;return e.foci&&(w={clientId:this.clientId,environment:c,familyId:e.foci}),{account:h,idToken:d,accessToken:f,refreshToken:v,appMetadata:w}}static async generateAuthenticationResult(e,n,r,i,o,s,a,c,u){var g,E,_,R,b;let d=A.EMPTY_STRING,h=[],f=null,v,w,T=A.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Q.POP&&!o.popKid){const O=new qr(e),{secret:Y,keyId:H}=r.accessToken;if(!H)throw I(Tu);d=await O.signPopToken(Y,H,o)}else d=r.accessToken.secret;h=Te.fromString(r.accessToken.target).asArray(),f=Ur(r.accessToken.expiresOn),v=Ur(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(w=Ur(r.accessToken.refreshOn))}r.appMetadata&&(T=r.appMetadata.familyId===Ni?Ni:"");const L=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",m=(s==null?void 0:s.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const p=r.account?Pu(r.account.getAccountInfo(),void 0,s,(g=r.idToken)==null?void 0:g.secret):null;return{authority:n.canonicalAuthority,uniqueId:L,tenantId:m,scopes:h,account:p,idToken:((E=r==null?void 0:r.idToken)==null?void 0:E.secret)||"",idTokenClaims:s||{},accessToken:d,fromCache:i,expiresOn:f,extExpiresOn:v,refreshOn:w,correlationId:o.correlationId,requestId:u||A.EMPTY_STRING,familyId:T,tokenType:((_=r.accessToken)==null?void 0:_.tokenType)||A.EMPTY_STRING,state:a?a.userRequestState:A.EMPTY_STRING,cloudGraphHostName:((R=r.account)==null?void 0:R.cloudGraphHostName)||A.EMPTY_STRING,msGraphHost:((b=r.account)==null?void 0:b.msGraphHost)||A.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function Vu(t,e,n,r,i,o,s,a,c,u,d,h){h==null||h.verbose("setCachedAccount called");const v=t.getAccountKeys().find(p=>p.startsWith(n));let w=null;v&&(w=t.getAccount(v,i));const T=w||Ke.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:d},e,r),L=T.tenantProfiles||[],m=c||T.realm;if(m&&!L.find(p=>p.tenantId===m)){const p=Nu(n,T.localAccountId,m,o);L.push(p)}return T.tenantProfiles=L,T}/*! @azure/msal-common v15.8.0 2025-07-01 */class JA{static validateRedirectUri(e){if(!e)throw q(em)}static validatePrompt(e){const n=[];for(const r in Re)n.push(Re[r]);if(n.indexOf(e)<0)throw q(im)}static validateClaims(e){try{JSON.parse(e)}catch{throw q(ha)}}static validateCodeChallengeParams(e,n){if(!e||!n)throw q(pa);this.validateCodeChallengeMethod(n)}static validateCodeChallengeMethod(e){if([Lh.PLAIN,Lh.S256].indexOf(e)<0)throw q(am)}}/*! @azure/msal-common v15.8.0 2025-07-01 */async function jm(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.8.0 2025-07-01 */class Hm extends Ku{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var a,c;if((a=this.performanceClient)==null||a.addQueueMeasurement(y.AuthClientAcquireToken,e.correlationId),!e.code)throw I(Kg);const r=Ze(),i=await S(this.executeTokenRequest.bind(this),y.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(c=i.headers)==null?void 0:c[Be.X_MS_REQUEST_ID],s=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),S(s.handleServerTokenResponse.bind(s),y.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,n,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw q(sm);const n=this.createLogoutUrlQueryString(e);return $.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(y.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=$.appendQueryString(e.tokenEndpoint,r),o=await S(this.createTokenRequestBody.bind(this),y.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let s;if(n.clientInfo)try{const d=ks(n.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${d.uid}${Ue.CLIENT_INFO_SEPARATOR}${d.utid}`,type:_t.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}const a=this.createTokenRequestHeaders(s||n.ccsCredential),c=va(this.config.authOptions.clientId,n);return S(this.executePostToTokenEndpoint.bind(this),y.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,o,a,c,n.correlationId,y.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(y.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Du(n,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[rr])||this.config.authOptions.clientId),this.includeRedirectUri?Lu(n,e.redirectUri):JA.validateRedirectUri(e.redirectUri),Mu(n,e.scopes,!0,this.oidcDefaultScopes),OA(n,e.code),Hu(n,this.config.libraryInfo),Fu(n,this.config.telemetry.application),Om(n),this.serverTelemetryManager&&!wm(this.config)&&bm(n,this.serverTelemetryManager),e.codeVerifier&&DA(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&km(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;_m(n,await jm(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),xm(n,s.assertionType)}if(Rm(n,Og.AUTHORIZATION_CODE_GRANT),Bu(n),e.authenticationScheme===Q.POP){const s=new qr(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await S(s.generateCnf.bind(s),y.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,zu(n,a)}else if(e.authenticationScheme===Q.SSH)if(e.sshJwk)Pm(n,e.sshJwk);else throw q(fa);(!Gt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Uu(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=ks(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${Ue.CLIENT_INFO_SEPARATOR}${s.utid}`,type:_t.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case _t.HOME_ACCOUNT_ID:try{const s=jr(r.credential);Oi(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case _t.UPN:bs(n,r.credential);break}return e.embeddedClientId&&ma(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Jn(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Qh])&&Jn(n,{[Qh]:"1"}),ga(n,e.correlationId,this.performanceClient),Zi(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&_A(n,e.postLogoutRedirectUri),e.correlationId&&ju(n,e.correlationId),e.idTokenHint&&xA(n,e.idTokenHint),e.state&&Im(n,e.state),e.logoutHint&&UA(n,e.logoutHint),e.extraQueryParameters&&Jn(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&Nm(n),Zi(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.8.0 2025-07-01 */const XA=300;class ZA extends Ku{constructor(e,n){super(e,n)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(y.RefreshTokenClientAcquireToken,e.correlationId);const n=Ze(),r=await S(this.executeTokenRequest.bind(this),y.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(a=r.headers)==null?void 0:a[Be.X_MS_REQUEST_ID],o=new ir(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),S(o.handleServerTokenResponse.bind(o),y.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw q(om);if((r=this.performanceClient)==null||r.addQueueMeasurement(y.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw I(Au);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await S(this.acquireTokenWithCachedRefreshToken.bind(this),y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof bt&&i.errorCode===Os,s=i instanceof dr&&i.errorCode===Uh.INVALID_GRANT_ERROR&&i.subError===Uh.CLIENT_MISMATCH_ERROR;if(o||s)return S(this.acquireTokenWithCachedRefreshToken.bind(this),y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return S(this.acquireTokenWithCachedRefreshToken.bind(this),y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var o,s,a;(o=this.performanceClient)==null||o.addQueueMeasurement(y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=wt(this.cacheManager.getRefreshToken.bind(this.cacheManager),y.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!r)throw Ms(Os);if(r.expiresOn&&al(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||XA))throw(s=this.performanceClient)==null||s.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Ms($u);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Q.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:_t.HOME_ACCOUNT_ID}};try{return await S(this.acquireToken.bind(this),y.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(c){if(c instanceof bt&&((a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===wa)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=bi(r);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(y.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=$.appendQueryString(n.tokenEndpoint,r),o=await S(this.createTokenRequestBody.bind(this),y.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=va(this.config.authOptions.clientId,e);return S(this.executePostToTokenEndpoint.bind(this),y.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,y.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(y.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Du(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[rr])||this.config.authOptions.clientId),e.redirectUri&&Lu(n,e.redirectUri),Mu(n,e.scopes,!0,(o=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:o.defaultScopes),Rm(n,Og.REFRESH_TOKEN_GRANT),Bu(n),Hu(n,this.config.libraryInfo),Fu(n,this.config.telemetry.application),Om(n),this.serverTelemetryManager&&!wm(this.config)&&bm(n,this.serverTelemetryManager),MA(n,e.refreshToken),this.config.clientCredentials.clientSecret&&km(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;_m(n,await jm(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),xm(n,s.assertionType)}if(e.authenticationScheme===Q.POP){const s=new qr(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await S(s.generateCnf.bind(s),y.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,zu(n,a)}else if(e.authenticationScheme===Q.SSH)if(e.sshJwk)Pm(n,e.sshJwk);else throw q(fa);if((!Gt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Uu(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case _t.HOME_ACCOUNT_ID:try{const s=jr(e.ccsCredential.credential);Oi(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case _t.UPN:bs(n,e.ccsCredential.credential);break}return e.embeddedClientId&&ma(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Jn(n,e.tokenBodyParameters),ga(n,e.correlationId,this.performanceClient),Zi(n)}}/*! @azure/msal-common v15.8.0 2025-07-01 */class eE extends Ku{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(y.SilentFlowClientAcquireCachedToken,e.correlationId);let n=Gn.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Gt.isEmptyObj(e.claims))throw this.setCacheOutcome(Gn.FORCE_REFRESH_OR_CLAIMS,e.correlationId),I(xn);if(!e.account)throw I(Au);const r=e.account.tenantId||zA(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r);if(o){if(h0(o.cachedAt)||al(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Gn.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),I(xn);o.refreshOn&&al(o.refreshOn,0)&&(n=Gn.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Gn.NO_CACHED_ACCESS_TOKEN,e.correlationId),I(xn);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await S(this.generateResultFromCacheRecord.bind(this),y.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),n]}setCacheOutcome(e,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},n),e!==Gn.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(y.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=Zr(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const o=r==null?void 0:r.auth_time;if(!o)throw I(wu);Xg(o,n.maxAge)}return ir.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.8.0 2025-07-01 */const tE={sendGetRequestAsync:()=>Promise.reject(I(z)),sendPostRequestAsync:()=>Promise.reject(I(z))};/*! @azure/msal-common v15.8.0 2025-07-01 */function nE(t,e,n,r){var a,c;const i=e.correlationId,o=new Map;Du(o,e.embeddedClientId||((a=e.extraQueryParameters)==null?void 0:a[rr])||t.clientId);const s=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Mu(o,s,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),Lu(o,e.redirectUri),ju(o,i),IA(o,e.responseMode),Bu(o),e.prompt&&(NA(o,e.prompt),r==null||r.addFields({prompt:e.prompt},i)),e.domainHint&&(RA(o,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},i)),e.prompt!==Re.SELECT_ACCOUNT)if(e.sid&&e.prompt===Re.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),qh(o,e.sid),r==null||r.addFields({sidFromRequest:!0},i);else if(e.account){const u=oE(e.account);let d=sE(e.account);if(d&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),d=null),d){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Mo(o,d),r==null||r.addFields({loginHintFromClaim:!0},i);try{const h=jr(e.account.homeAccountId);Oi(o,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===Re.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),qh(o,u),r==null||r.addFields({sidFromClaim:!0},i);try{const h=jr(e.account.homeAccountId);Oi(o,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Mo(o,e.loginHint),bs(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Mo(o,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},i);try{const h=jr(e.account.homeAccountId);Oi(o,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Mo(o,e.loginHint),bs(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&PA(o,e.nonce),e.state&&Im(o,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&Uu(o,e.claims,t.clientCapabilities),e.embeddedClientId&&ma(o,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(ul))&&Nm(o),o}function Fm(t,e,n,r){const i=Zi(e,n,r);return $.appendQueryString(t.authorizationEndpoint,i)}function rE(t,e){if(Bm(t,e),!t.code)throw I(qg);return t}function Bm(t,e){if(!t.state||!e)throw t.state?I(rl,"Cached State"):I(rl,"Server State");let n,r;try{n=decodeURIComponent(t.state)}catch{throw I(Qr,t.state)}try{r=decodeURIComponent(e)}catch{throw I(Qr,t.state)}if(n!==r)throw I(Hg);if(t.error||t.error_description||t.suberror){const i=iE(t);throw Um(t.error,t.error_description,t.suberror)?new bt(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new dr(t.error||"",t.error_description,t.suberror,i)}}function iE(t){var r,i;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(i=t.error_uri)==null?void 0:i.substring(n+e.length):void 0}function oE(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function sE(t){var e;return((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.8.0 2025-07-01 */const Yh=",",zm="|";function aE(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=t,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(e!=null&&e.length){if(a=e.split(Yh),a.length<4)return e}else a=Array.from({length:4},()=>zm);return s.forEach((c,u)=>{var d,h;c.length===2&&((d=c[0])!=null&&d.length)&&((h=c[1])!=null&&h.length)&&cE({skuArr:a,index:u,skuName:c[0],skuVersion:c[1]})}),a.join(Yh)}function cE(t){const{skuArr:e,index:n,skuName:r,skuVersion:i}=t;n>=e.length||(e[n]=[r,i].join(zm))}class eo{constructor(e,n){this.cacheOutcome=Gn.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||A.EMPTY_STRING,this.wrapperVer=e.wrapperVer||A.EMPTY_STRING,this.telemetryCacheKey=_e.CACHE_KEY+Ue.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${_e.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(_e.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(_e.VALUE_SEPARATOR);return[_e.SCHEMA_VERSION,s,i].join(_e.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=eo.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(_e.VALUE_SEPARATOR),i=e.errors.slice(0,n).join(_e.VALUE_SEPARATOR),o=e.errors.length,s=n<o?_e.OVERFLOW_TRUE:_e.OVERFLOW_FALSE,a=[o,s].join(_e.VALUE_SEPARATOR);return[_e.SCHEMA_VERSION,e.cacheHits,r,i,a].join(_e.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=_e.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof J?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(_e.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=eo.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let n,r=0,i=0;const o=e.errors.length;for(n=0;n<o;n++){const s=e.failedRequests[2*n]||A.EMPTY_STRING,a=e.failedRequests[2*n+1]||A.EMPTY_STRING,c=e.errors[n]||A.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+c.length+3,i<_e.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||A.EMPTY_STRING),e.push(this.regionSource||A.EMPTY_STRING),e.push(this.regionOutcome||A.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return aE(e)}}/*! @azure/msal-common v15.8.0 2025-07-01 */const Km="missing_kid_error",$m="missing_alg_error";/*! @azure/msal-common v15.8.0 2025-07-01 */const lE={[Km]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[$m]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Qu extends J{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,Qu.prototype)}}function Jh(t){return new Qu(t,lE[t])}/*! @azure/msal-common v15.8.0 2025-07-01 */class qu{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Jh(Km);if(!e.alg)throw Jh($m);const n=new qu({typ:e.typ||Ww.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */const Wu="pkce_not_created",Yu="ear_jwk_empty",Gm="ear_jwe_empty",dl="crypto_nonexistent",Aa="empty_navigate_uri",Vm="hash_empty_error",Ju="no_state_in_hash",Qm="hash_does_not_contain_known_properties",qm="unable_to_parse_state",Wm="state_interaction_type_mismatch",Ym="interaction_in_progress",Jm="popup_window_error",Xm="empty_window_error",to="user_cancelled",uE="monitor_popup_timeout",Zm="monitor_window_timeout",ey="redirect_in_iframe",ty="block_iframe_reload",ny="block_nested_popups",dE="iframe_closed_prematurely",Ea="silent_logout_unsupported",ry="no_account_error",hE="silent_prompt_value_error",iy="no_token_request_cache_error",oy="unable_to_parse_token_request_cache_error",pE="auth_request_not_set_error",fE="invalid_cache_type",Ta="non_browser_environment",yr="database_not_open",Ds="no_network_connectivity",sy="post_request_failed",ay="get_request_failed",hl="failed_to_parse_response",cy="unable_to_load_token",Xu="crypto_key_not_found",ly="auth_code_required",uy="auth_code_or_nativeAccountId_required",dy="spa_code_and_nativeAccountId_present",Zu="database_unavailable",hy="unable_to_acquire_token_from_native_platform",py="native_handshake_timeout",fy="native_extension_not_installed",ed="native_connection_not_established",Ls="uninitialized_public_client_application",gy="native_prompt_not_supported",my="invalid_base64_string",yy="invalid_pop_token_request",vy="failed_to_build_headers",Cy="failed_to_parse_headers",Yo="failed_to_decrypt_ear_response",td="timed_out";/*! @azure/msal-browser v4.14.0 2025-07-01 */const Qt="For more visit: aka.ms/msaljs/browser-errors",gE={[Wu]:"The PKCE code challenge and verifier could not be generated.",[Yu]:"No EAR encryption key provided. This is unexpected.",[Gm]:"Server response does not contain ear_jwe property. This is unexpected.",[dl]:"The crypto object or function is not available.",[Aa]:"Navigation URI is empty. Please check stack trace for more info.",[Vm]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Qt}`,[Ju]:"Hash does not contain state. Please verify that the request originated from msal.",[Qm]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Qt}`,[qm]:"Unable to parse state. Please verify that the request originated from msal.",[Wm]:"Hash contains state but the interaction type does not match the caller.",[Ym]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Qt}`,[Jm]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Xm]:"window.open returned null or undefined window object.",[to]:"User cancelled the flow.",[uE]:`Token acquisition in popup failed due to timeout.  ${Qt}`,[Zm]:`Token acquisition in iframe failed due to timeout.  ${Qt}`,[ey]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[ty]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Qt}`,[ny]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[dE]:"The iframe being monitored was closed prematurely.",[Ea]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[ry]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[hE]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[iy]:"No token request found in cache.",[oy]:"The cached token request could not be parsed.",[pE]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[fE]:"Invalid cache type",[Ta]:"Login and token requests are not supported in non-browser environments.",[yr]:"Database is not open!",[Ds]:"No network connectivity. Check your internet connection.",[sy]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[ay]:"Network request failed. Please check the network trace to determine root cause.",[hl]:"Failed to parse network response. Check network trace.",[cy]:"Error loading token to cache.",[Xu]:"Cryptographic Key or Keypair not found in browser storage.",[ly]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[uy]:"An authorization code or nativeAccountId must be provided to this flow.",[dy]:"Request cannot contain both spa code and native account id.",[Zu]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[hy]:`Unable to acquire token from native platform.  ${Qt}`,[py]:"Timed out while attempting to establish connection to browser extension",[fy]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[ed]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Qt}`,[Ls]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Qt}`,[gy]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[my]:"Invalid base64 encoded string.",[yy]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[vy]:"Failed to build request headers object.",[Cy]:"Failed to parse response headers",[Yo]:"Failed to decrypt ear response",[td]:"The request timed out."};class po extends J{constructor(e,n){super(e,gE[e],n),Object.setPrototypeOf(this,po.prototype),this.name="BrowserAuthError"}}function x(t,e){return new po(t,e)}/*! @azure/msal-browser v4.14.0 2025-07-01 */const qe={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},ft={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},pi={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Ie={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Xh={GET:"GET",POST:"POST"},gn={SIGNIN:"signin",SIGNOUT:"signout"},ve={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},dt={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys",VERSION:"msal.version"},Do={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Z={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var D;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(D||(D={}));const Zh={scopes:ho},wy="jwk",pl="msal.db",mE=1,yE=`${pl}.keys`,He={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},vE=[He.Default,He.Skip,He.RefreshTokenAndNetwork],CE="msal.browser.log.level",wE="msal.browser.log.pii",AE="msal.browser.platform.auth.dom";/*! @azure/msal-browser v4.14.0 2025-07-01 */function Lo(t){return encodeURIComponent(no(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ln(t){return Ay(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function no(t){return Ay(new TextEncoder().encode(t))}function Ay(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.14.0 2025-07-01 */function Nt(t){return new TextDecoder().decode(Rn(t))}function Rn(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw x(my)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.14.0 2025-07-01 */const EE="RSASSA-PKCS1-v1_5",ti="AES-GCM",Ey="HKDF",nd="SHA-256",TE=2048,SE=new Uint8Array([1,0,1]),ep="0123456789abcdef",tp=new Uint32Array(1),rd="raw",Ty="encrypt",id="decrypt",IE="deriveKey",kE="crypto_subtle_undefined",od={name:EE,hash:nd,modulusLength:TE,publicExponent:SE};function _E(t){if(!window)throw x(Ta);if(!window.crypto)throw x(dl);if(!t&&!window.crypto.subtle)throw x(dl,kE)}async function Sy(t,e,n){e==null||e.addQueueMeasurement(y.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(nd,i)}function xE(t){return window.crypto.getRandomValues(t)}function ic(){return window.crypto.getRandomValues(tp),tp[0]}function Ot(){const t=Date.now(),e=ic()*1024+(ic()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=ic();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=ep.charAt(n[a]>>>4),s+=ep.charAt(n[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function RE(t,e){return window.crypto.subtle.generateKey(od,t,e)}async function oc(t){return window.crypto.subtle.exportKey(wy,t)}async function NE(t,e,n){return window.crypto.subtle.importKey(wy,t,od,e,n)}async function PE(t,e){return window.crypto.subtle.sign(od,t,e)}async function sd(){const t=await Iy(),n={alg:"dir",kty:"oct",k:Ln(new Uint8Array(t))};return no(JSON.stringify(n))}async function bE(t){const e=Nt(t),r=JSON.parse(e).k,i=Rn(r);return window.crypto.subtle.importKey(rd,i,ti,!1,[id])}async function OE(t,e){const n=e.split(".");if(n.length!==5)throw x(Yo,"jwe_length");const r=await bE(t).catch(()=>{throw x(Yo,"import_key")});try{const i=new TextEncoder().encode(n[0]),o=Rn(n[2]),s=Rn(n[3]),a=Rn(n[4]),c=a.byteLength*8,u=new Uint8Array(s.length+a.length);u.set(s),u.set(a,s.length);const d=await window.crypto.subtle.decrypt({name:ti,iv:o,tagLength:c,additionalData:i},r,u);return new TextDecoder().decode(d)}catch{throw x(Yo,"decrypt")}}async function Iy(){const t=await window.crypto.subtle.generateKey({name:ti,length:256},!0,[Ty,id]);return window.crypto.subtle.exportKey(rd,t)}async function np(t){return window.crypto.subtle.importKey(rd,t,Ey,!1,[IE])}async function ky(t,e,n){return window.crypto.subtle.deriveKey({name:Ey,salt:e,hash:nd,info:new TextEncoder().encode(n)},t,{name:ti,length:256},!1,[Ty,id])}async function ME(t,e,n){const r=new TextEncoder().encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),o=await ky(t,i,n),s=await window.crypto.subtle.encrypt({name:ti,iv:new Uint8Array(12)},o,r);return{data:Ln(new Uint8Array(s)),nonce:Ln(i)}}async function DE(t,e,n,r){const i=Rn(r),o=await ky(t,Rn(e),n),s=await window.crypto.subtle.decrypt({name:ti,iv:new Uint8Array(12)},o,i);return new TextDecoder().decode(s)}async function _y(t){const e=await Sy(t),n=new Uint8Array(e);return Ln(n)}/*! @azure/msal-browser v4.14.0 2025-07-01 */const ro="storage_not_supported",fl="stubbed_public_client_application_called",Us="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.14.0 2025-07-01 */const Jo={[ro]:"Given storage configuration option was not supported.",[fl]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Us]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};Jo[ro],Jo[fl],Jo[Us];class ad extends J{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,ad.prototype)}}function cd(t){return new ad(t,Jo[t])}/*! @azure/msal-browser v4.14.0 2025-07-01 */function xy(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function LE(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function ld(){return window.parent!==window}function UE(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${qe.POPUP_NAME_PREFIX}.`)===0}function Zt(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function jE(){const e=new $(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function HE(){if($.hashContainsKnownProperties(window.location.hash)&&ld())throw x(ty)}function FE(t){if(ld()&&!t)throw x(ey)}function BE(){if(UE())throw x(ny)}function Ry(){if(typeof window>"u")throw x(Ta)}function Ny(t){if(!t)throw x(Ls)}function ud(t){Ry(),HE(),BE(),Ny(t)}function rp(t,e){if(ud(t),FE(e.system.allowRedirectInIframe),e.cache.cacheLocation===Ie.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw cd(Us)}function Py(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function zE(){return Ot()}/*! @azure/msal-browser v4.14.0 2025-07-01 */class js{navigateInternal(e,n){return js.defaultNavigateWindow(e,n)}navigateExternal(e,n){return js.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,i)=>{setTimeout(()=>{i(x(td,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class KE{async sendGetRequestAsync(e,n){let r,i={},o=0;const s=ip(n);try{r=await fetch(e,{method:Xh.GET,headers:s})}catch(a){throw Ci(x(window.navigator.onLine?ay:Ds),void 0,void 0,a)}i=op(r.headers);try{return o=r.status,{headers:i,body:await r.json(),status:o}}catch(a){throw Ci(x(hl),o,i,a)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",i=ip(n);let o,s=0,a={};try{o=await fetch(e,{method:Xh.POST,headers:i,body:r})}catch(c){throw Ci(x(window.navigator.onLine?sy:Ds),void 0,void 0,c)}a=op(o.headers);try{return s=o.status,{headers:a,body:await o.json(),status:s}}catch(c){throw Ci(x(hl),s,a,c)}}}function ip(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([r,i])=>{e.append(r,i)}),e}catch(e){throw Ci(x(vy),void 0,void 0,e)}}function op(t){try{const e={};return t.forEach((n,r)=>{e[r]=n}),e}catch{throw x(Cy)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */const $E=6e4,gl=1e4,GE=3e4,by=2e3;function VE({auth:t,cache:e,system:n,telemetry:r},i){const o={clientId:A.EMPTY_STRING,authority:`${A.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:A.EMPTY_STRING,authorityMetadata:A.EMPTY_STRING,redirectUri:typeof window<"u"?Zt():"",postLogoutRedirectUri:A.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:at.AAD,OIDCOptions:{serverResponseType:la.FRAGMENT,defaultScopes:[A.OPENID_SCOPE,A.PROFILE_SCOPE,A.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ku.None,tenant:A.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:Ie.SessionStorage,temporaryCacheLocation:Ie.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Ie.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:ae.Info,piiLoggingEnabled:!1},u={...{...Cm,loggerOptions:a,networkClient:i?new KE:tE,navigationClient:new js,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||$E,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||gl,navigateFrameWait:0,redirectNavigationTimeout:GE,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||by,pollIntervalMilliseconds:qe.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||a},d={application:{appName:A.EMPTY_STRING,appVersion:A.EMPTY_STRING},client:new vm};if((t==null?void 0:t.protocolMode)!==at.OIDC&&(t!=null&&t.OIDCOptions)&&new Dn(u.loggerOptions).warning(JSON.stringify(q(dm))),t!=null&&t.protocolMode&&t.protocolMode===at.OIDC&&(u!=null&&u.allowPlatformBroker))throw q(hm);return{auth:{...o,...t,OIDCOptions:{...o.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...s,...e},system:u,telemetry:{...d,...r}}}/*! @azure/msal-browser v4.14.0 2025-07-01 */const QE="@azure/msal-browser",or="4.14.0";/*! @azure/msal-browser v4.14.0 2025-07-01 */class dd{static loggerCallback(e,n){switch(e){case ae.Error:console.error(n);return;case ae.Info:console.info(n);return;case ae.Verbose:console.debug(n);return;case ae.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=VE(e,this.browserEnvironment);let n;try{n=window[Ie.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(CE),i=(c=n==null?void 0:n.getItem(wE))==null?void 0:c.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(ae).includes(r)?ae[r]:void 0;a&&(s.loggerCallback=dd.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new Dn(s,QE,or),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class sr extends dd{getModuleName(){return sr.MODULE_NAME}getId(){return sr.ID}async initialize(){return this.available=typeof window<"u",this.available}}sr.MODULE_NAME="";sr.ID="StandardOperatingContext";/*! @azure/msal-browser v4.14.0 2025-07-01 */class qE{constructor(){this.dbName=pl,this.version=mE,this.tableName=yE,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(x(Zu)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(x(yr));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(x(yr));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),i(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(x(yr));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),n()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(x(yr));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(x(yr));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(pl),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class Sa{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class WE{constructor(e){this.inMemoryCache=new Sa,this.indexedDBCache=new qE,this.logger=e}handleDatabaseAccessError(e){if(e instanceof po&&e.errorCode===Zu)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class sn{constructor(e,n,r){this.logger=e,_E(r??!1),this.cache=new WE(this.logger),this.performanceClient=n}createNewGuid(){return Ot()}base64Encode(e){return no(e)}base64Decode(e){return Nt(e)}base64UrlEncode(e){return Lo(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var d;const n=(d=this.performanceClient)==null?void 0:d.startMeasurement(y.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await RE(sn.EXTRACTABLE,sn.POP_KEY_USAGES),i=await oc(r.publicKey),o={e:i.e,kty:i.kty,n:i.n},s=sp(o),a=await this.hashString(s),c=await oc(r.privateKey),u=await NE(c,!1,["sign"]);return await this.cache.setItem(a,{privateKey:u,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw I(Wg)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,i){var g;const o=(g=this.performanceClient)==null?void 0:g.startMeasurement(y.CryptoOptsSignJwt,i),s=await this.cache.getItem(n);if(!s)throw x(Xu);const a=await oc(s.publicKey),c=sp(a),u=Lo(JSON.stringify({kid:n})),d=qu.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:u}),h=Lo(d);e.cnf={jwk:JSON.parse(c)};const f=Lo(JSON.stringify(e)),v=`${h}.${f}`,T=new TextEncoder().encode(v),L=await PE(s.privateKey,T),m=Ln(new Uint8Array(L)),p=`${v}.${m}`;return o&&o.end({success:!0}),p}async hashString(e){return _y(e)}}sn.POP_KEY_USAGES=["sign","verify"];sn.EXTRACTABLE=!0;function sp(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.14.0 2025-07-01 */const YE=24*60*60*1e3,ml={Lax:"Lax",None:"None"};class Oy{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const o=r[i],[s,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(s===n)return c}return""}getUserData(){throw I(z)}setItem(e,n,r,i=!0,o=ml.Lax){let s=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${o};`;if(r){const a=JE(r);s+=`expires=${a};`}(i||o===ml.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(I(z))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(e){return this.getKeys().includes(e)}}function JE(t){const e=new Date;return new Date(e.getTime()+t*YE).toUTCString()}/*! @azure/msal-browser v4.14.0 2025-07-01 */function yl(t){const e=t.getItem(dt.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function vl(t,e){const n=e.getItem(`${dt.TOKEN_KEYS}.${t}`);if(n){const r=JSON.parse(n);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.14.0 2025-07-01 */const ap="msal.cache.encryption",XE="msal.broadcast.cache";class ZE{constructor(e,n,r){if(!window.localStorage)throw cd(ro);this.memoryStorage=new Sa,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(XE)}async initialize(e){const n=new Oy,r=n.getItem(ap);let i={key:"",id:""};if(r)try{i=JSON.parse(r)}catch{}if(i.key&&i.id){const o=wt(Rn,y.Base64Decode,this.logger,this.performanceClient,e)(i.key);this.encryptionCookie={id:i.id,key:await S(np,y.GenerateHKDF,this.logger,this.performanceClient,e)(o)},await S(this.importExistingCache.bind(this),y.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const o=Ot(),s=await S(Iy,y.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=wt(Ln,y.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(s));this.encryptionCookie={id:o,key:await S(np,y.GenerateHKDF,this.logger,this.performanceClient,e)(s)};const c={id:o,key:a};n.setItem(ap,JSON.stringify(c),0,!0,ml.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw x(Ls);return this.memoryStorage.getItem(e)}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r,i){if(!this.initialized||!this.encryptionCookie)throw x(Ls);const{data:o,nonce:s}=await S(ME,y.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:s,data:o,lastUpdatedAt:i};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),yl(this).forEach(r=>this.removeItem(r));const n=vl(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(A.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=yl(this);n=await this.importArray(n,e),this.setItem(dt.ACCOUNT_KEYS,JSON.stringify(n));const r=vl(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${dt.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let i;try{i=JSON.parse(r)}catch{return null}return!i.id||!i.nonce||!i.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),null):i.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):S(DE,y.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,i.nonce,this.getContext(e),i.data)}async importArray(e,n){const r=[],i=[];return e.forEach(o=>{const s=this.getItemFromEncryptedCache(o,n).then(a=>{a?(this.memoryStorage.setItem(o,a),r.push(o)):this.removeItem(o)});i.push(s)}),await Promise.all(i),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(y.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:i,context:o}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),n.end({success:!1,errorCode:"contextMismatch"});return}i?(this.memoryStorage.setItem(r,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class eT{constructor(){if(!window.sessionStorage)throw cd(ro)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */const M={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.14.0 2025-07-01 */class Cl extends ll{constructor(e,n,r,i,o,s,a){super(e,r,i,o,a),this.cacheConfig=n,this.logger=i,this.internalStorage=new Sa,this.browserStorage=cp(e,n.cacheLocation,i,o),this.temporaryCacheStorage=cp(e,n.temporaryCacheLocation,i,o),this.cookieStorage=new Oy,this.eventHandler=s}async initialize(e){await this.browserStorage.initialize(e),this.trackVersionChanges(e)}trackVersionChanges(e){const n=this.browserStorage.getItem(dt.VERSION);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==or&&this.setItem(dt.VERSION,or,e)}validateAndParseJson(e){try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,r){let i=[];for(let s=0;s<=20;s++)try{this.browserStorage.setItem(e,n),s>0&&this.removeAccessTokenKeys(i.slice(0,s),r);break}catch(a){const c=cl(a);if(c.errorCode===Rs&&s<20){if(i.length||(e===`${dt.TOKEN_KEYS}.${this.clientId}`?i=JSON.parse(n).accessToken:i=this.getTokenKeys().accessToken),i.length<=s)throw c;this.removeAccessToken(i[s],r,!1)}else throw c}}async setUserData(e,n,r,i){let o=[];for(let a=0;a<=20;a++)try{await S(this.browserStorage.setUserData.bind(this.browserStorage),y.SetUserData,this.logger,this.performanceClient)(e,n,r,i),a>0&&this.removeAccessTokenKeys(o.slice(0,a),r);break}catch(c){const u=cl(c);if(u.errorCode===Rs&&a<20){if(o.length||(o=this.getTokenKeys().accessToken),o.length<=a)throw u;this.removeAccessToken(o[a],r,!1)}else throw u}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,n),null;const i=this.validateAndParseJson(r);return!i||!Ke.isAccountEntity(i)?null:ll.toObject(new Ke,i)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey(),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const o=this.addAccountKeyToMap(r,n);this.cacheConfig.cacheLocation===Ie.LocalStorage&&o&&this.eventHandler.emitEvent(M.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return yl(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(dt.ACCOUNT_KEYS,JSON.stringify(r),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),i=r.indexOf(e);if(i>-1){if(r.splice(i,1),r.length===0){this.removeItem(dt.ACCOUNT_KEYS);return}else this.setItem(dt.ACCOUNT_KEYS,JSON.stringify(r),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){super.removeAccount(e,n),this.removeAccountKeyFromMap(e,n)}removeAccountContext(e,n){super.removeAccountContext(e,n),this.cacheConfig.cacheLocation===Ie.LocalStorage&&this.eventHandler.emitEvent(M.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e,n){super.removeIdToken(e,n);const r=this.getTokenKeys(),i=r.idToken.indexOf(e);i>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(i,1),this.setTokenKeys(r,n))}removeAccessToken(e,n,r=!0){super.removeAccessToken(e,n),r&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n){this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys();let i=0;if(e.forEach(o=>{const s=r.accessToken.indexOf(o);s>-1&&(r.accessToken.splice(s,1),i++)}),i>0){this.logger.info(`removed ${i} accessToken keys from tokenKeys map`),this.setTokenKeys(r,n);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const r=this.getTokenKeys(),i=r.refreshToken.indexOf(e);i>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(i,1),this.setTokenKeys(r,n))}getTokenKeys(){return vl(this.clientId,this.browserStorage)}setTokenKeys(e,n){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(`${dt.TOKEN_KEYS}.${this.clientId}`);return}else this.setItem(`${dt.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(e),n)}getIdTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const i=this.validateAndParseJson(r);return!i||!f0(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),i)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=bi(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const o=this.getTokenKeys();o.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),o.idToken.push(r),this.setTokenKeys(o,n))}getAccessTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const i=this.validateAndParseJson(r);return!i||!p0(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),i)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=bi(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const o=this.getTokenKeys(),s=o.accessToken.indexOf(r);s!==-1&&o.accessToken.splice(s,1),this.logger.trace(`access token ${s===-1?"added to":"updated in"} map`),o.accessToken.push(r),this.setTokenKeys(o,n)}getRefreshTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const i=this.validateAndParseJson(r);return!i||!g0(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),i)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=bi(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const o=this.getTokenKeys();o.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),o.refreshToken.push(r),this.setTokenKeys(o,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!S0(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=T0(e);this.setItem(r,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!A0(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),r)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&I0(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Do.WRAPPER_SKU,e),this.internalStorage.setItem(Do.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Do.WRAPPER_SKU)||A.EMPTY_STRING,n=this.internalStorage.getItem(Do.WRAPPER_VER)||A.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(Dh.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const i=this.validateAndParseJson(r);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId,tenantId:i.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const r=this.generateCacheKey(Dh.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Ze().toString()};this.setItem(r,JSON.stringify(i),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(M.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!E0(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),r)}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===Ie.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(A.CACHE_PREFIX)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(A.CACHE_PREFIX)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(y.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let r=0;n.accessToken.forEach(i=>{const o=this.getAccessTokenCredential(i,e);o!=null&&o.requestedClaimsHash&&i.includes(o.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(i,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Gt.startsWith(e,A.CACHE_PREFIX)?e:`${A.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(ve.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(ve.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(ve.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(ve.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(ve.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=no(JSON.stringify(e));if(this.setTemporaryCache(ve.REQUEST_PARAMS,r,!0),n){const i=no(n);this.setTemporaryCache(ve.VERIFIER,i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(ve.REQUEST_PARAMS,!0);if(!e)throw x(iy);const n=this.getTemporaryCache(ve.VERIFIER,!0);let r,i="";try{r=JSON.parse(Nt(e)),n&&(i=Nt(n))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),x(oy)}return[r,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ve.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${A.CACHE_PREFIX}.${ve.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),xy(window),null}}setInteractionInProgress(e,n=gn.SIGNIN){var i;const r=`${A.CACHE_PREFIX}.${ve.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw x(Ym);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((i=this.getInteractionInProgress())==null?void 0:i.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var a,c,u;const r=ua((a=e.account)==null?void 0:a.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const o=da((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Fh(e.expiresOn):0,e.extExpiresOn?Fh(e.extExpiresOn):0,Nt,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(i){if(i instanceof Hr&&this.performanceClient&&n)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},n)}catch{}throw i}}}function cp(t,e,n,r){try{switch(e){case Ie.LocalStorage:return new ZE(t,n,r);case Ie.SessionStorage:return new eT;case Ie.MemoryStorage:default:break}}catch(i){n.error(i)}return new Sa}const tT=(t,e,n,r)=>{const i={cacheLocation:Ie.MemoryStorage,temporaryCacheLocation:Ie.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Cl(t,i,Is,e,n,r)};/*! @azure/msal-browser v4.14.0 2025-07-01 */function nT(t,e,n,r,i){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(i||{},r):[]}function rT(t,e,n,r){if(e.trace("getAccount called"),Object.keys(t).length===0)return e.warning("getAccount: No accountFilter provided"),null;const i=n.getAccountInfoFilteredBy(t,r);return i?(e.verbose("getAccount: Account matching provided filter found, returning"),i):(e.verbose("getAccount: No matching account found, returning null"),null)}function iT(t,e,n,r){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const i=n.getAccountInfoFilteredBy({username:t},r);return i?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),i):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function oT(t,e,n,r){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=n.getAccountInfoFilteredBy({homeAccountId:t},r);return i?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),i):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function sT(t,e,n,r){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const i=n.getAccountInfoFilteredBy({localAccountId:t},r);return i?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),i):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function aT(t,e,n){e.setActiveAccount(t,n)}function cT(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.14.0 2025-07-01 */const lT="msal.broadcast.event";class uT{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Dn({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(lT)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const i=r||zE();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,i){var s;const o={eventType:e,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};switch(e){case M.ACCOUNT_ADDED:case M.ACCOUNT_REMOVED:case M.ACTIVE_ACCOUNT_CHANGED:(s=this.broadcastChannel)==null||s.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],i)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class My{constructor(e,n,r,i,o,s,a,c,u){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.platformAuthProvider=c,this.correlationId=u||Ot(),this.logger=i.clone(qe.MSAL_SKU,or,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e,n){if(n){Ke.accountInfoIsEqual(n,this.browserStorage.getActiveAccount(e),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null,e));try{this.browserStorage.removeAccount(Ke.generateAccountCacheKey(n),e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return $.getAbsoluteUrl(n,Zt())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new eo(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(y.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=n&&s?this.config.auth.authority.replace($.getDomainFromUrl(o),n.environment):o,c=De.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await S(Dm,y.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!u.isAlias(n.environment))throw q(pm);return u}}/*! @azure/msal-browser v4.14.0 2025-07-01 */async function hd(t,e,n,r){n.addQueueMeasurement(y.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,o=[...t&&t.scopes||[]],s={...t,correlationId:t.correlationId,authority:i,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=Q.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Q.SSH){if(!t.sshJwk)throw q(fa);if(!t.sshKid)throw q(um)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Gt.isEmptyObj(t.claims)&&(s.requestedClaimsHash=await _y(t.claims)),s}async function dT(t,e,n,r,i){r.addQueueMeasurement(y.InitializeSilentRequest,t.correlationId);const o=await S(hd,y.InitializeBaseRequest,i,r,t.correlationId)(t,n,r,i);return{...t,...o,account:e,forceRefresh:t.forceRefresh||!1}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class ni extends My{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||Ot(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=$.getAbsoluteUrl(e.postLogoutRedirectUri,Zt())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=$.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Zt())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=$.getAbsoluteUrl(Zt(),Zt())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(y.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await S(this.getClientConfiguration.bind(this),y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Hm(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(y.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await S(this.getDiscoveredAuthority.bind(this),y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:qe.MSAL_SKU,version:or,cpu:A.EMPTY_STRING,os:A.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(y.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:n},o=ei.setRequestState(this.browserCrypto,e&&e.state||A.EMPTY_STRING,i),a={...await S(hd,y.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:o,nonce:e.nonce||Ot(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const c=e.account||this.browserStorage.getActiveAccount(this.correlationId);return c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),a}}/*! @azure/msal-browser v4.14.0 2025-07-01 */function hT(t,e){if(!e)return null;try{return ei.parseRequestState(t,e).libraryState.meta}catch{throw I(Qr)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */function Hs(t,e,n){const r=_s(t);if(!r)throw gm(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),x(Qm)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),x(Vm));return r}function pT(t,e,n){if(!t.state)throw x(Ju);const r=hT(e,t.state);if(!r)throw x(qm);if(r.interactionType!==n)throw x(Wm)}/*! @azure/msal-browser v4.14.0 2025-07-01 */class Dy{constructor(e,n,r,i,o){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(y.HandleCodeResponse,n.correlationId);let r;try{r=rE(e,n.state)}catch(i){throw i instanceof dr&&i.subError===to?x(to):i}return S(this.handleCodeResponseFromServer.bind(this),y.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(y.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await S(this.authModule.updateAuthority.bind(this.authModule),y.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(n);o&&(this.authCodeRequest.ccsCredential=o)}return await S(this.authModule.acquireToken.bind(this.authModule),y.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:_t.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:_t.UPN}:null}}/*! @azure/msal-browser v4.14.0 2025-07-01 */const fT="ContentError",Ly="user_switch";/*! @azure/msal-browser v4.14.0 2025-07-01 */const gT="USER_INTERACTION_REQUIRED",mT="USER_CANCEL",yT="NO_NETWORK",vT="PERSISTENT_ERROR",CT="DISABLED",wT="ACCOUNT_UNAVAILABLE",AT="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.14.0 2025-07-01 */const ET=-2147186943,TT={[Ly]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class zt extends J{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,zt.prototype),this.name="NativeAuthError",this.ext=r}}function vr(t){if(t.ext&&t.ext.status&&(t.ext.status===vT||t.ext.status===CT)||t.ext&&t.ext.error&&t.ext.error===ET)return!0;switch(t.errorCode){case fT:return!0;default:return!1}}function Fs(t,e,n){if(n&&n.status)switch(n.status){case wT:return Ms(Lm);case gT:return new bt(t,e);case mT:return x(to);case yT:return x(Ds);case AT:return Ms(Gu)}return new zt(t,TT[t]||e,n)}/*! @azure/msal-browser v4.14.0 2025-07-01 */class Uy extends ni{async acquireToken(e){this.performanceClient.addQueueMeasurement(y.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Z.acquireTokenSilent_silentFlow),r=await S(this.getClientConfiguration.bind(this),y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new eE(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await S(i.acquireCachedToken.bind(i),y.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof po&&o.errorCode===Xu&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class Xo extends My{constructor(e,n,r,i,o,s,a,c,u,d,h,f){super(e,n,r,i,o,s,c,u,f),this.apiId=a,this.accountId=d,this.platformAuthProvider=u,this.nativeStorageManager=h,this.silentCacheClient=new Uy(e,this.nativeStorageManager,r,i,o,s,c,u,f);const v=this.platformAuthProvider.getExtensionName();this.skus=eo.makeExtraSkuString({libraryName:qe.MSAL_SKU,libraryVersion:or,extensionName:v,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[EA]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(y.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(y.NativeInteractionClientAcquireToken,e.correlationId),i=Ze(),o=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,s);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===He.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a=await this.platformAuthProvider.sendMessage(s);return await this.handleNativeResponse(a,s,i).then(c=>(r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),o.clearNativeBrokerErrorCode(),c)).catch(c=>{throw r.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError,isNativeBroker:!0}),c})}catch(s){throw s instanceof zt&&o.setNativeBrokerErrorCode(s.errorCode),s}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Te.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),I(ol);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw I(ol);try{const i=this.createSilentCacheRequest(n,r),o=await this.silentCacheClient.acquireToken(i),s={...r,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(i)}catch(a){if(a instanceof zt&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),vr(a)))throw a}this.browserStorage.setTemporaryCache(ve.NATIVE_REQUEST,JSON.stringify(i),!0);const o={apiId:Z.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(s,o)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...o}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.NATIVE_REQUEST));const s=Ze();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const a=await this.platformAuthProvider.sendMessage(o),c=await this.handleNativeResponse(a,o,s);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),c}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var d,h;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=Zr(e.id_token,Nt),o=this.createHomeAccountIdentifier(e,i),s=(d=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:d.homeAccountId;if((h=n.extraParameters)!=null&&h.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==s&&e.account.id!==n.accountId)throw Fs(Ly);const a=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=Vu(this.browserStorage,a,o,Nt,this.correlationId,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,n,i,c,a.canonicalAuthority,r);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,n,o,i,e.access_token,u.tenantId,r),u}createHomeAccountIdentifier(e,n){return Ke.generateHomeAccountId(e.client_info||A.EMPTY_STRING,It.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?Te.fromString(n):Te.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===Q.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new qr(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw I(Tu);return r.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,r,i,o,s){const a=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),u=e.account.properties||{},d=u.UID||r.oid||r.sub||A.EMPTY_STRING,h=u.TenantId||r.tid||A.EMPTY_STRING,f=Pu(i.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const v=await this.generatePopAccessToken(e,n),w=n.tokenType===Q.POP?Q.POP:Q.BEARER;return{authority:o,uniqueId:d,tenantId:h,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:v,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:Ur(s+e.expires_in),tokenType:w,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e,n)}cacheNativeTokens(e,n,r,i,o,s,a){const c=ua(r,n.authority,e.id_token||"",n.clientId,i.tid||""),u=n.tokenType===Q.POP?A.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,d=a+u,h=this.generateScopes(e.scope,n.scope),f=da(r,n.authority,o,n.clientId,i.tid||s,h.printScopes(),d,0,Nt,void 0,n.tokenType,void 0,n.keyId),v={idToken:c,accessToken:f};return this.nativeStorageManager.saveCacheRecord(v,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===Q.POP?A.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:r,...i}=e,o=new Te(r||[]);o.appendScopes(ho);const s={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw x(yy);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=ft.MATS_TELEMETRY,e.authenticationScheme===Q.POP){const a={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new qr(this.browserCrypto);let u;if(s.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const d=await S(c.generateCnf.bind(c),y.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(a,this.logger);u=d.reqCnfString,s.keyId=d.kid,s.signPopToken=!0}s.reqCnf=u}return this.addRequestSKUs(s),s}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new $(n);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Z.ssoSilent:case Z.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Re.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case Re.NONE:case Re.CONSENT:case Re.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),x(gy)}}handleExtraBrokerParams(e){var o;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Ns)&&e.extraParameters.hasOwnProperty(Ps)&&e.extraParameters.hasOwnProperty(rr);if(!e.embeddedClientId&&!n)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Ps],r=e.extraParameters[rr]),e.extraParameters={child_client_id:r,child_redirect_uri:i},(o=this.performanceClient)==null||o.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */async function jy(t,e,n,r,i){const o=nE({...t.auth,authority:e},n,r,i);if(Hu(o,{sku:qe.MSAL_SKU,version:or,os:"",cpu:""}),t.auth.protocolMode!==at.OIDC&&Fu(o,t.telemetry.application),n.platformBroker&&(kA(o),n.authenticationScheme===Q.POP)){const s=new sn(r,i),a=new qr(s);let c;n.popKid?c=s.encodeKid(n.popKid):c=(await S(a.generateCnf.bind(a),y.PopTokenGenerateCnf,r,i,n.correlationId)(n,r)).reqCnfString,zu(o,c)}return ga(o,n.correlationId,i),o}async function pd(t,e,n,r,i){if(!n.codeChallenge)throw q(pa);const o=await S(jy,y.GetStandardParams,r,i,n.correlationId)(t,e,n,r,i);return Sm(o,bg.CODE),bA(o,n.codeChallenge,A.S256_CODE_CHALLENGE_METHOD),Jn(o,n.extraQueryParameters||{}),Fm(e,o,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function fd(t,e,n,r,i,o){if(!r.earJwk)throw x(Yu);const s=await jy(e,n,r,i,o);Sm(s,bg.IDTOKEN_TOKEN_REFRESHTOKEN),jA(s,r.earJwk);const a=new Map;Jn(a,r.extraQueryParameters||{});const c=Fm(n,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return ST(t,c,s)}function ST(t,e,n){const r=t.createElement("form");return r.method="post",r.action=e,n.forEach((i,o)=>{const s=t.createElement("input");s.hidden=!0,s.name=o,s.value=i,r.appendChild(s)}),t.body.appendChild(r),r}async function Hy(t,e,n,r,i,o,s,a,c,u){if(a.verbose("Account id found, calling WAM for token"),!u)throw x(ed);const d=new sn(a,c),h=new Xo(r,i,d,a,s,r.system.navigationClient,n,c,u,e,o,t.correlationId),{userRequestState:f}=ei.parseRequestState(d,t.state);return S(h.acquireToken.bind(h),y.NativeInteractionClientAcquireToken,a,c,t.correlationId)({...t,state:f,prompt:void 0})}async function gd(t,e,n,r,i,o,s,a,c,u,d,h){if(Bt.removeThrottle(s,i.auth.clientId,t),e.accountId)return S(Hy,y.HandleResponsePlatformBroker,u,d,t.correlationId)(t,e.accountId,r,i,s,a,c,u,d,h);const f={...t,code:e.code||"",codeVerifier:n},v=new Dy(o,s,f,u,d);return await S(v.handleCodeResponse.bind(v),y.HandleCodeResponse,u,d,t.correlationId)(e,t)}async function md(t,e,n,r,i,o,s,a,c,u,d){if(Bt.removeThrottle(o,r.auth.clientId,t),Bm(e,t.state),!e.ear_jwe)throw x(Gm);if(!t.earJwk)throw x(Yu);const h=JSON.parse(await S(OE,y.DecryptEarResponse,c,u,t.correlationId)(t.earJwk,e.ear_jwe));if(h.accountId)return S(Hy,y.HandleResponsePlatformBroker,c,u,t.correlationId)(t,h.accountId,n,r,o,s,a,c,u,d);const f=new ir(r.auth.clientId,o,new sn(c,u),c,null,null,u);f.validateTokenResponse(h);const v={code:"",state:t.state,nonce:t.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await S(f.handleServerTokenResponse.bind(f),y.HandleServerTokenResponse,c,u,t.correlationId)(h,i,Ze(),t,v,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.14.0 2025-07-01 */const IT=32;async function Ia(t,e,n){t.addQueueMeasurement(y.GeneratePkceCodes,n);const r=wt(kT,y.GenerateCodeVerifier,e,t,n)(t,e,n),i=await S(_T,y.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:i}}function kT(t,e,n){try{const r=new Uint8Array(IT);return wt(xE,y.GetRandomValues,e,t,n)(r),Ln(r)}catch{throw x(Wu)}}async function _T(t,e,n,r){e.addQueueMeasurement(y.GenerateCodeChallengeFromVerifier,r);try{const i=await S(Sy,y.Sha256Digest,n,e,r)(t,e,r);return Ln(new Uint8Array(i))}catch{throw x(Wu)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class Bs{constructor(e,n,r,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(y.NativeMessageHandlerHandshake),this.platformAuthType=ft.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:pi.GetToken,request:e},r={channel:ft.CHANNEL_ID,extensionId:this.extensionId,responseId:Ot(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const i=await new Promise((s,a)=>{this.resolvers.set(r.responseId,{resolve:s,reject:a})});return this.validatePlatformBrokerResponse(i)}static async createProvider(e,n,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const i=new Bs(e,n,r,ft.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new Bs(e,n,r);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:ft.CHANNEL_ID,extensionId:this.extensionId,responseId:Ot(),body:{method:pi.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(x(py)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==ft.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===pi.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(x(fy))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const o=n.body.method;if(o===pi.Response){if(!r)return;const s=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(Fs(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(Fs(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw nl(Ss,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(o===pi.HandshakeResponse){if(!i){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw nl(Ss,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===ft.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class yd{constructor(e,n,r){this.logger=e,this.performanceClient=n,this.correlationId=r,this.platformAuthType=ft.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,r){var i;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(i=window.navigator)!=null&&i.platformAuthentication){const o=await window.navigator.platformAuthentication.getSupportedContracts(ft.MICROSOFT_ENTRA_BROKERID);if(o!=null&&o.includes(ft.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new yd(e,n,r)}}getExtensionId(){return ft.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return ft.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(r)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:r,authority:i,scope:o,redirectUri:s,correlationId:a,state:c,storeInCache:u,embeddedClientId:d,extraParameters:h,...f}=e,v=this.getDOMExtraParams(f);return{accountId:n,brokerId:this.getExtensionId(),authority:i,clientId:r,correlationId:a||this.correlationId,extraParameters:{...h,...v},isSecurityTokenService:!1,redirectUri:s,scope:o,state:c,storeInCache:u,embeddedClientId:d}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Fs(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw nl(Ss,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((i,[o,s])=>(i[o]=String(s),i),{})}}}/*! @azure/msal-browser v4.14.0 2025-07-01 */async function xT(t,e,n,r){t.trace("getPlatformAuthProvider called",n);const i=RT();t.trace("Has client allowed platform auth via DOM API: "+i);let o;try{i&&(o=await yd.createProvider(t,e,n)),o||(t.trace("Platform auth via DOM API not available, checking for extension"),o=await Bs.createProvider(t,r||by,e))}catch(s){t.trace("Platform auth not available",s)}return o}function RT(){let t;try{return t=window[Ie.SessionStorage],(t==null?void 0:t.getItem(AE))==="true"}catch{return!1}}function io(t,e,n,r){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case Q.BEARER:case Q.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.14.0 2025-07-01 */class NT extends ni{constructor(e,n,r,i,o,s,a,c,u,d){super(e,n,r,i,o,s,a,u,d),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=o}acquireToken(e,n){try{const i={popupName:this.generatePopupName(e.scopes||ho,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),i.popup=this.openSizedPopup("about:blank",i),this.acquireTokenPopupAsync(e,i,n))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const i=await S(this.initializeAuthorizationRequest.bind(this),y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,D.Popup);n.popup&&Py(i.authority);const o=io(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return i.platformBroker=o,this.config.auth.protocolMode===at.EAR?this.executeEarFlow(i,n):this.executeCodeFlow(i,n,r)}async executeCodeFlow(e,n,r){var c;const i=e.correlationId,o=this.initializeServerTelemetryManager(Z.acquireTokenPopup),s=r||await S(Ia,y.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),a={...e,codeChallenge:s.challenge};try{const u=await S(this.createAuthCodeClient.bind(this),y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,i)({serverTelemetryManager:o,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),d=await S(pd,y.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,u.authority,a,this.logger,this.performanceClient),h=this.initiateAuthRequest(d,n);this.eventHandler.emitEvent(M.POPUP_OPENED,D.Popup,{popupWindow:h},null);const f=await this.monitorPopupForHash(h,n.popupWindowParent),v=wt(Hs,y.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await S(gd,y.HandleResponseCode,this.logger,this.performanceClient,i)(e,v,s.verifier,Z.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}catch(u){throw(c=n.popup)==null||c.close(),u instanceof J&&(u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u)),u}}async executeEarFlow(e,n){const r=e.correlationId,i=await S(this.getDiscoveredAuthority.bind(this),y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await S(sd,y.GenerateEarKey,this.logger,this.performanceClient,r)(),s={...e,earJwk:o},a=n.popup||this.openPopup("about:blank",n);(await fd(a.document,this.config,i,s,this.logger,this.performanceClient)).submit();const u=await S(this.monitorPopupForHash.bind(this),y.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,n.popupWindowParent),d=wt(Hs,y.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return S(md,y.HandleResponseEar,this.logger,this.performanceClient,r)(s,d,Z.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,r,i){var s,a,c,u;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(M.LOGOUT_START,D.Popup,e);const o=this.initializeServerTelemetryManager(Z.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const d=await S(this.createAuthCodeClient.bind(this),y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{d.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&d.authority.protocolMode===at.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId,this.correlationId),this.eventHandler.emitEvent(M.LOGOUT_SUCCESS,D.Popup,e),i){const v={apiId:Z.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},w=$.getAbsoluteUrl(i,Zt());await this.navigationClient.navigateInternal(w,v)}(c=n.popup)==null||c.close();return}}const h=d.getLogoutUri(e);this.eventHandler.emitEvent(M.LOGOUT_SUCCESS,D.Popup,e);const f=this.openPopup(h,n);if(this.eventHandler.emitEvent(M.POPUP_OPENED,D.Popup,{popupWindow:f},null),await this.monitorPopupForHash(f,n.popupWindowParent).catch(()=>{}),i){const v={apiId:Z.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},w=$.getAbsoluteUrl(i,Zt());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${w}`),await this.navigationClient.navigateInternal(w,v)}else this.logger.verbose("No main window navigation requested")}catch(d){throw(u=n.popup)==null||u.close(),d instanceof J&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),this.eventHandler.emitEvent(M.LOGOUT_FAILURE,D.Popup,null,d),this.eventHandler.emitEvent(M.LOGOUT_END,D.Popup),d}this.eventHandler.emitEvent(M.LOGOUT_END,D.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),x(Aa)}monitorPopupForHash(e,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(x(to));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===la.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw x(Xm);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),x(Jm)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var v,w,T,L;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(v=r.popupSize)==null?void 0:v.width,d=(w=r.popupSize)==null?void 0:w.height,h=(T=r.popupPosition)==null?void 0:T.top,f=(L=r.popupPosition)==null?void 0:L.left;return(!u||u<0||u>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=qe.POPUP_WIDTH),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),d=qe.POPUP_HEIGHT),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,c/2-qe.POPUP_HEIGHT/2+s)),(!f||f<0||f>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,a/2-qe.POPUP_WIDTH/2+o)),i.open(e,n,`width=${u}, height=${d}, top=${h}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${qe.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${qe.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.14.0 2025-07-01 */function PT(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class bT extends ni{constructor(e,n,r,i,o,s,a,c,u,d){super(e,n,r,i,o,s,a,u,d),this.nativeStorage=c}async acquireToken(e){const n=await S(this.initializeAuthorizationRequest.bind(this),y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,D.Redirect);n.platformBroker=io(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(M.RESTORE_FROM_BFCACHE,D.Redirect))},i=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${i}`),this.browserStorage.setTemporaryCache(ve.ORIGIN_URI,i,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===at.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(o){throw o instanceof J&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),o}}async executeCodeFlow(e,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(Z.acquireTokenRedirect),o=await S(Ia,y.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(s,o.verifier);try{const a=await S(this.createAuthCodeClient.bind(this),y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),c=await S(pd,y.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,a.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}catch(a){throw a instanceof J&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}async executeEarFlow(e){const n=e.correlationId,r=await S(this.getDiscoveredAuthority.bind(this),y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await S(sd,y.GenerateEarKey,this.logger,this.performanceClient,n)(),o={...e,earJwk:i};return this.browserStorage.cacheAuthorizeRequest(o),(await fd(document,this.config,r,o,this.logger,this.performanceClient)).submit(),new Promise((a,c)=>{setTimeout(()=>{c(x(td,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,r,i){const o=this.initializeServerTelemetryManager(Z.handleRedirectPromise);try{const[s,a]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),PT()!=="back_forward"?i.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(ve.ORIGIN_URI,!0)||A.EMPTY_STRING,u=$.removeHashFromUrl(c),d=$.removeHashFromUrl(window.location.href);if(u===d&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&LE(c),await this.handleResponse(s,n,r,o);if(this.config.auth.navigateToLoginRequestUrl){if(!ld()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(ve.URL_HASH,a,!0);const h={apiId:Z.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let f=!0;if(!c||c==="null"){const v=jE();this.browserStorage.setTemporaryCache(ve.ORIGIN_URI,v,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),f=await this.navigationClient.navigateInternal(v,h)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),f=await this.navigationClient.navigateInternal(c,h);if(!f)return await this.handleResponse(s,n,r,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,n,r,o);return null}catch(s){throw s instanceof J&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===la.QUERY?n=window.location.search:n=window.location.hash);let r=_s(n);if(r){try{pT(r,this.browserCrypto,D.Redirect)}catch(o){return o instanceof J&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return xy(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(ve.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.URL_HASH)),i&&(r=_s(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,n,r,i){if(!e.state)throw x(Ju);if(e.ear_jwe){const a=await S(this.getDiscoveredAuthority.bind(this),y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return S(md,y.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Z.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const s=await S(this.createAuthCodeClient.bind(this),y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority});return S(gd,y.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,Z.acquireTokenRedirect,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Z.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=n||this.config.auth.onRedirectNavigate;if(typeof i=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),x(Aa)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Z.logout);try{this.eventHandler.emitEvent(M.LOGOUT_START,D.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const s={apiId:Z.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await S(this.createAuthCodeClient.bind(this),y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===at.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=n.account)==null?void 0:o.homeAccountId,this.correlationId),this.eventHandler.emitEvent(M.LOGOUT_SUCCESS,D.Redirect,n);return}}const c=a.getLogoutUri(n);if(this.eventHandler.emitEvent(M.LOGOUT_SUCCESS,D.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,gn.SIGNOUT),await this.navigationClient.navigateExternal(c,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,gn.SIGNOUT),await this.navigationClient.navigateExternal(c,s);return}}catch(s){throw s instanceof J&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(M.LOGOUT_FAILURE,D.Redirect,null,s),this.eventHandler.emitEvent(M.LOGOUT_END,D.Redirect),s}this.eventHandler.emitEvent(M.LOGOUT_END,D.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return $.getAbsoluteUrl(n,Zt())}}/*! @azure/msal-browser v4.14.0 2025-07-01 */async function OT(t,e,n,r,i){if(e.addQueueMeasurement(y.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),x(Aa);return i?S(DT,y.SilentHandlerLoadFrame,n,e,r)(t,i,e,r):wt(LT,y.SilentHandlerLoadFrameSync,n,e,r)(t)}async function MT(t,e,n,r,i){const o=vd();if(!o.contentDocument)throw"No document associated with iframe!";return(await fd(o.contentDocument,t,e,n,r,i)).submit(),o}async function lp(t,e,n,r,i,o,s){return r.addQueueMeasurement(y.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<gl&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${gl}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(d),c(x(Zm))},e),d=window.setInterval(()=>{let h="";const f=t.contentWindow;try{h=f?f.location.href:""}catch{}if(!h||h==="about:blank")return;let v="";f&&(s===la.QUERY?v=f.location.search:v=f.location.hash),window.clearTimeout(u),window.clearInterval(d),a(v)},n)}).finally(()=>{wt(UT,y.RemoveHiddenIframe,i,r,o)(t)})}function DT(t,e,n,r){return n.addQueueMeasurement(y.SilentHandlerLoadFrame,r),new Promise((i,o)=>{const s=vd();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=t,i(s)},e)})}function LT(t){const e=vd();return e.src=t,e}function vd(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function UT(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.14.0 2025-07-01 */class jT extends ni{constructor(e,n,r,i,o,s,a,c,u,d,h){super(e,n,r,i,o,s,c,d,h),this.apiId=a,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(y.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==Re.NONE&&n.prompt!==Re.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${Re.NONE}`),n.prompt=Re.NONE):n.prompt=Re.NONE;const r=await S(this.initializeAuthorizationRequest.bind(this),y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,D.Silent);return r.platformBroker=io(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),Py(r.authority),this.config.auth.protocolMode===at.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await S(this.createAuthCodeClient.bind(this),y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await S(this.silentTokenHelper.bind(this),y.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(i){if(i instanceof J&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!n||!(i instanceof J)||i.errorCode!==qe.INVALID_GRANT_ERROR)throw i;return this.performanceClient.addFields({retryError:i.errorCode},this.correlationId),await S(this.silentTokenHelper.bind(this),y.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await S(this.getDiscoveredAuthority.bind(this),y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await S(sd,y.GenerateEarKey,this.logger,this.performanceClient,n)(),o={...e,earJwk:i},s=await S(MT,y.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,o,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,c=await S(lp,y.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),u=wt(Hs,y.DeserializeResponse,this.logger,this.performanceClient,n)(c,a,this.logger);return S(md,y.HandleResponseEar,this.logger,this.performanceClient,n)(o,u,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(x(Ea))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(y.SilentIframeClientTokenHelper,r);const i=await S(Ia,y.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...n,codeChallenge:i.challenge},s=await S(pd,y.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,o,this.logger,this.performanceClient),a=await S(OT,y.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(s,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,u=await S(lp,y.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),d=wt(Hs,y.DeserializeResponse,this.logger,this.performanceClient,r)(u,c,this.logger);return S(gd,y.HandleResponseCode,this.logger,this.performanceClient,r)(n,d,i.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class HT extends ni{async acquireToken(e){this.performanceClient.addQueueMeasurement(y.SilentRefreshClientAcquireToken,e.correlationId);const n=await S(hd,y.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(Z.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return S(o.acquireTokenByRefreshToken.bind(o),y.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(x(Ea))}async createRefreshTokenClient(e){const n=await S(this.getClientConfiguration.bind(this),y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new ZA(n,this.performanceClient)}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class FT{constructor(e,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=i}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw x(Ta);const i=e.correlationId||Ot(),o=n.id_token?Zr(n.id_token,Nt):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new De(De.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||Ot()):void 0,c=await this.loadAccount(e,r.clientInfo||n.client_info||"",i,o,a),u=await this.loadIdToken(n,c.homeAccountId,c.environment,c.realm,i),d=await this.loadAccessToken(e,n,c.homeAccountId,c.environment,c.realm,r,i),h=await this.loadRefreshToken(n,c.homeAccountId,c.environment,i);return this.generateAuthenticationResult(e,{account:c,idToken:u,accessToken:d,refreshToken:h},o,a)}async loadAccount(e,n,r,i,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=Ke.createFromAccountInfo(e.account);return await this.storage.setAccount(u,r),u}else if(!o||!n&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),x(cy);const s=Ke.generateHomeAccountId(n,o.authorityType,this.logger,this.cryptoObj,i),a=i==null?void 0:i.tid,c=Vu(this.storage,o,s,Nt,r,i,n,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(c,r),c}async loadIdToken(e,n,r,i,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=ua(n,r,e.id_token,this.config.auth.clientId,i);return await this.storage.setIdTokenCredential(s,o),s}async loadAccessToken(e,n,r,i,o,s,a){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=n.scope?Te.fromString(n.scope):new Te(e.scopes),u=s.expiresOn||n.expires_in+Ze(),d=s.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+Ze(),h=da(r,i,n.access_token,this.config.auth.clientId,o,c.printScopes(),u,d,Nt);return await this.storage.setAccessTokenCredential(h,a),h}async loadRefreshToken(e,n,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Zg(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,i),o}generateAuthenticationResult(e,n,r,i){var d,h,f;let o="",s=[],a=null,c;n!=null&&n.accessToken&&(o=n.accessToken.secret,s=Te.fromString(n.accessToken.target).asArray(),a=Ur(n.accessToken.expiresOn),c=Ur(n.accessToken.extendedExpiresOn));const u=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:s,account:u.getAccountInfo(),idToken:((d=n.idToken)==null?void 0:d.secret)||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((h=n.refreshToken)==null?void 0:h.familyId)||"",tokenType:((f=n==null?void 0:n.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class BT extends Hm{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.14.0 2025-07-01 */class zT extends ni{constructor(e,n,r,i,o,s,a,c,u,d){super(e,n,r,i,o,s,c,u,d),this.apiId=a}async acquireToken(e){if(!e.code)throw x(ly);const n=await S(this.initializeAuthorizationRequest.bind(this),y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,D.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},o=await S(this.getClientConfiguration.bind(this),y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),s=new BT(o);this.logger.verbose("Auth code client created");const a=new Dy(s,this.browserStorage,i,this.logger,this.performanceClient);return await S(a.handleCodeResponseFromServer.bind(a),y.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof J&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(x(Ea))}}/*! @azure/msal-browser v4.14.0 2025-07-01 */function KT(t,e,n){var s;const r=((s=window.msal)==null?void 0:s.clientIds)||[],i=r.length,o=r.filter(a=>a===t).length;o>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:o})}/*! @azure/msal-browser v4.14.0 2025-07-01 */function Ut(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Uo(t,e){try{ud(t)}catch(n){throw e.end({success:!1},n),n}}class ka{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new sn(this.logger,this.performanceClient):Is,this.eventHandler=new uT(this.logger),this.browserStorage=this.isBrowserEnvironment?new Cl(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,KA(this.config.auth)):tT(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Ie.MemoryStorage,temporaryCacheLocation:Ie.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Cl(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new FT(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new ka(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(M.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(y.InitializeClientApplication,r);if(this.eventHandler.emitEvent(M.INITIALIZE_START),!n)try{this.logMultipleInstances(o)}catch{}if(await S(this.browserStorage.initialize.bind(this.browserStorage),y.InitializeCache,this.logger,this.performanceClient,r)(r),i)try{this.platformAuthProvider=await xT(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),wt(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),y.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(M.INITIALIZE_END),o.end({allowPlatformBroker:i,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Ny(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===gn.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),i=this.browserStorage.getCachedNativeRequest(),o=i&&this.platformAuthProvider&&!e;let s;this.eventHandler.emitEvent(M.HANDLE_REDIRECT_START,D.Redirect);let a;try{if(o&&this.platformAuthProvider){s=this.performanceClient.startMeasurement(y.AcquireTokenRedirect,(i==null?void 0:i.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const u=new Xo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Z.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,i.accountId,this.nativeInternalStorage,i.correlationId);a=S(u.handleRedirectPromise.bind(u),y.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{const[u,d]=this.browserStorage.getCachedRequest(),h=u.correlationId;s=this.performanceClient.startMeasurement(y.AcquireTokenRedirect,h),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const f=this.createRedirectClient(h);a=S(f.handleRedirectPromise.bind(f),y.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,u,d,s)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return a.then(u=>(u?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(M.LOGIN_SUCCESS,D.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_SUCCESS,D.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Ut(u.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(M.HANDLE_REDIRECT_END,D.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const d=u;throw r.length>0?this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_FAILURE,D.Redirect,null,d):this.eventHandler.emitEvent(M.LOGIN_FAILURE,D.Redirect,null,d),this.eventHandler.emitEvent(M.HANDLE_REDIRECT_END,D.Redirect),s.end({success:!1},d),u})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(y.AcquireTokenPreRedirect,n);r.add({accountType:Ut(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{const a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}const o=this.getAllAccounts().length>0;try{rp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,gn.SIGNIN),o?this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_START,D.Redirect,e):this.eventHandler.emitEvent(M.LOGIN_START,D.Redirect,e);let s;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?s=new Xo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Z.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof zt&&vr(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof bt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):s=this.createRedirectClient(n).acquireToken(e),await s}catch(s){throw this.browserStorage.resetRequestCache(),r.end({success:!1},s),o?this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_FAILURE,D.Redirect,null,s):this.eventHandler.emitEvent(M.LOGIN_FAILURE,D.Redirect,null,s),s}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(y.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:Ut(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Uo(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,gn.SIGNIN)}catch(a){return Promise.reject(a)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_START,D.Popup,e):this.eventHandler.emitEvent(M.LOGIN_START,D.Popup,e);let o;const s=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?o=this.acquireTokenNative({...e,correlationId:n},Z.acquireTokenPopup).then(a=>(r.end({success:!0,isNativeBroker:!0,accountType:Ut(a.account)}),a)).catch(a=>{if(a instanceof zt&&vr(a))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,s);if(a instanceof bt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,s);throw a}):o=this.createPopupClient(n).acquireToken(e,s),o.then(a=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(M.LOGIN_SUCCESS,D.Popup,a):this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_SUCCESS,D.Popup,a),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Ut(a.account)}),a)).catch(a=>(i.length>0?this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_FAILURE,D.Popup,null,a):this.eventHandler.emitEvent(M.LOGIN_FAILURE,D.Popup,null,a),r.end({success:!1},a),Promise.reject(a))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,s;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(y.SsoSilent,n),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:Ut(e.account)}),Uo(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(M.SSO_SILENT_START,D.Silent,r);let i;return this.canUsePlatformBroker(r)?i=this.acquireTokenNative(r,Z.ssoSilent).catch(a=>{if(a instanceof zt&&vr(a))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(a=>{var c;return this.eventHandler.emitEvent(M.SSO_SILENT_SUCCESS,D.Silent,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Ut(a.account)}),a}).catch(a=>{var c;throw this.eventHandler.emitEvent(M.SSO_SILENT_FAILURE,D.Silent,null,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(y.AcquireTokenByCode,n);Uo(this.initialized,r),this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_BY_CODE_START,D.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw x(dy);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),o=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(s=>(this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_BY_CODE_SUCCESS,D.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Ut(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_BY_CODE_FAILURE,D.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:n},Z.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof zt&&vr(o)&&(this.platformAuthProvider=void 0),o});return r.end({accountType:Ut(i.account),success:!0}),i}else throw x(hy);else throw x(uy)}catch(i){throw this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_BY_CODE_FAILURE,D.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(y.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(y.AcquireTokenFromCache,e.correlationId),n){case He.Default:case He.AccessToken:case He.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return S(r.acquireToken.bind(r),y.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw I(xn)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(y.AcquireTokenByRefreshToken,e.correlationId),n){case He.Default:case He.AccessTokenAndRefreshToken:case He.RefreshToken:case He.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return S(r.acquireToken.bind(r),y.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw I(xn)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(y.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return S(n.acquireToken.bind(n),y.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return rp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,gn.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return ud(this.initialized),this.browserStorage.setInteractionInProgress(!0,gn.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return nT(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return rT(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return iT(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return oT(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return sT(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();aT(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return cT(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=Ke.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,i){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw x(ed);return new Xo(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,i)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!io(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Re.NONE:case Re.CONSENT:case Re.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new NT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new bT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new jT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Z.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new Uy(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new HT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new zT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Z.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Ry(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ie.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ie.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Ot():A.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Zh})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Zh})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(y.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Uo(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw x(ry);return r.add({accountType:Ut(i)}),this.acquireTokenSilentDeduped(e,i,n).then(o=>(r.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length}),{...o,state:e.state,correlationId:n})).catch(o=>{throw o instanceof J&&o.setCorrelationId(n),r.end({success:!1},o),o})}async acquireTokenSilentDeduped(e,n,r){const i=va(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:r},n.homeAccountId),o=JSON.stringify(i),s=this.activeSilentTokenRequests.get(o);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const a=S(this.acquireTokenSilentAsync.bind(this),y.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(o,a),a.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),s}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(y.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_START,D.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await S(dT,y.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||He.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async a=>{if($T(a,o))if(this.activeIframeRequest)if(o!==He.Skip){const[u,d]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${d}`,i.correlationId);const h=this.performanceClient.startMeasurement(y.AwaitConcurrentIframe,i.correlationId);h.add({awaitIframeCorrelationId:d});const f=await u;if(h.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${d} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${d} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),S(this.acquireTokenBySilentIframe.bind(this),y.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let u;return this.activeIframeRequest=[new Promise(d=>{u=d}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),S(this.acquireTokenBySilentIframe.bind(this),y.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(d=>(u(!0),d)).catch(d=>{throw u(!1),d}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_SUCCESS,D.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_FAILURE,D.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return io(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Z.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw r instanceof zt&&vr(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,I(xn)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===He.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),S(this.acquireTokenFromCache.bind(this),y.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===He.AccessToken)throw r;return this.eventHandler.emitEvent(M.ACQUIRE_TOKEN_NETWORK_START,D.Silent,e),S(this.acquireTokenByRefreshToken.bind(this),y.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await S(Ia,y.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),KT(n,e,this.logger)}}function $T(t,e){const n=!(t instanceof bt&&t.subError!==wa),r=t.errorCode===qe.INVALID_GRANT_ERROR||t.errorCode===xn,i=n&&r||t.errorCode===Os||t.errorCode===$u,o=vE.includes(e);return i&&o}/*! @azure/msal-browser v4.14.0 2025-07-01 */async function GT(t,e){const n=new sr(t);return await n.initialize(),ka.createController(n,e)}/*! @azure/msal-browser v4.14.0 2025-07-01 */class Cd{static async createPublicClientApplication(e){const n=await GT(e);return new Cd(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new ka(new sr(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}const VT={auth:{clientId:"your-client-id-here",authority:"https://login.microsoftonline.com/your-tenant-id",redirectUri:window.location.origin,postLogoutRedirectUri:window.location.origin},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},up={scopes:["https://graph.microsoft.com/Application.ReadWrite.All","https://graph.microsoft.com/Directory.ReadWrite.All","https://graph.microsoft.com/User.Read.All","https://graph.microsoft.com/AppRoleAssignment.ReadWrite.All","https://graph.microsoft.com/DelegatedPermissionGrant.ReadWrite.All"]};class QT{constructor(){this.msalInstance=new Cd(VT)}async initialize(){await this.msalInstance.initialize(),await this.msalInstance.handleRedirectPromise()}async login(){try{await this.msalInstance.loginRedirect(up)}catch(e){throw console.error("Login failed:",e),e}}async logout(){try{await this.msalInstance.logoutRedirect()}catch(e){throw console.error("Logout failed:",e),e}}async getAccessToken(){const e=this.msalInstance.getAllAccounts();if(e.length===0)throw new Error("No accounts found");const n={...up,account:e[0]};try{return(await this.msalInstance.acquireTokenSilent(n)).accessToken}catch(r){return console.error("Silent token acquisition failed:",r),await this.msalInstance.acquireTokenRedirect(n),null}}getAccount(){const e=this.msalInstance.getAllAccounts();return e.length>0?e[0]:null}isLoggedIn(){return this.msalInstance.getAllAccounts().length>0}}const ne=new QT,qT=({isLoggedIn:t,userInfo:e,onLoginSuccess:n})=>{const r=async()=>{try{await ne.login(),n()}catch(o){console.error("Login failed:",o)}},i=async()=>{try{await ne.logout(),window.location.reload()}catch(o){console.error("Logout failed:",o)}};return t?l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx(Vw,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-medium text-white",children:(e==null?void 0:e.name)||"User"}),l.jsx("p",{className:"text-gray-300 text-xs",children:e==null?void 0:e.username})]})]}),l.jsx("button",{onClick:i,className:"p-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",title:"Logout",children:l.jsx(zw,{className:"w-4 h-4"})})]}):l.jsxs("button",{onClick:r,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Bw,{className:"w-4 h-4"}),l.jsx("span",{children:"Login to Azure AD"})]})},WT=({activeTab:t,onTabChange:e,isLoggedIn:n,userInfo:r,onLoginSuccess:i})=>{const o=[{id:"dashboard",label:"Dashboard",icon:Fw},{id:"applications",label:"Applications",icon:Mn},{id:"service-principals",label:"Service Principals",icon:ca},{id:"permissions",label:"Permissions",icon:gu},{id:"users",label:"Users",icon:Et},{id:"audit",label:"Audit Logs",icon:xg},{id:"settings",label:"Settings",icon:mu}];return l.jsxs("div",{className:"w-64 bg-gray-900 text-white h-screen flex flex-col",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(Mn,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold",children:"Entra ID Manager"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Permissions & Apps"})]})]})}),n&&l.jsx("nav",{className:"flex-1 p-4",children:l.jsx("div",{className:"space-y-2",children:o.map(s=>{const a=s.icon;return l.jsxs("button",{onClick:()=>e(s.id),className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg text-left transition-colors ${t===s.id?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[l.jsx(a,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:s.label})]},s.id)})})}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsx(qT,{isLoggedIn:n,userInfo:r,onLoginSuccess:i})})]})},YT=({title:t,onRefresh:e})=>l.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage your Entra ID applications and permissions"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search applications, users...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-80"})]}),l.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Uw,{className:"w-5 h-5"})}),e&&l.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Gw,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(mu,{className:"w-5 h-5"})})]})]})}),JT=({title:t,value:e,icon:n,color:r,change:i,changeType:o})=>{const s=()=>{switch(o){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}};return l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),l.jsx("p",{className:"text-3xl font-semibold text-gray-900 mt-2",children:e}),i&&l.jsx("p",{className:`text-sm mt-1 ${s()}`,children:i})]}),l.jsx("div",{className:`p-3 rounded-lg ${r}`,children:l.jsx(n,{className:"w-6 h-6 text-white"})})]})})},XT=()=>{const t=[{title:"Total Applications",value:24,icon:Mn,color:"bg-blue-600",change:"+2 this week",changeType:"positive"},{title:"Service Principals",value:18,icon:ca,color:"bg-green-600",change:"+1 this week",changeType:"positive"},{title:"Active Users",value:156,icon:Et,color:"bg-purple-600",change:"+8 this month",changeType:"positive"},{title:"Permissions Granted",value:342,icon:gu,color:"bg-orange-600",change:"+15 this week",changeType:"positive"},{title:"Security Alerts",value:3,icon:Rg,color:"bg-red-600",change:"-2 from last week",changeType:"positive"},{title:"Compliant Apps",value:21,icon:jw,color:"bg-teal-600",change:"87.5% compliance",changeType:"neutral"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map((e,n)=>l.jsx(JT,{...e},n))})},dp=()=>{const t=[{id:1,action:"Permission granted",details:"User.Read.All granted to Sales Dashboard",time:"2 minutes ago",type:"success"},{id:2,action:"Application disabled",details:"Legacy CRM application disabled",time:"1 hour ago",type:"warning"},{id:3,action:"New application created",details:"Marketing Analytics App created",time:"3 hours ago",type:"info"},{id:4,action:"Service principal updated",details:"HR Portal service principal updated",time:"5 hours ago",type:"info"}],e=[{id:1,title:"Excessive Permissions",description:"Sales Dashboard has more permissions than necessary",severity:"medium",time:"1 hour ago"},{id:2,title:"Unused Application",description:"Legacy CRM has not been used in 30 days",severity:"low",time:"2 days ago"},{id:3,title:"Admin Consent Required",description:"Marketing App requires admin consent for new permissions",severity:"high",time:"3 days ago"}],n=i=>{switch(i){case"success":return"✅";case"warning":return"⚠️";case"info":return"ℹ️";default:return"📝"}},r=i=>{switch(i){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(XT,{}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"}),l.jsx(xg,{className:"w-5 h-5 text-gray-400"})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-4",children:t.map(i=>l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"text-lg",children:n(i.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.action}),l.jsx("p",{className:"text-sm text-gray-500",children:i.details}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx(tl,{className:"w-3 h-3 text-gray-400 mr-1"}),l.jsx("span",{className:"text-xs text-gray-500",children:i.time})]})]})]},i.id))}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View all activity"})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Alerts"}),l.jsx(Rg,{className:"w-5 h-5 text-gray-400"})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-4",children:e.map(i=>l.jsx("div",{className:`p-4 rounded-lg border ${r(i.severity)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-sm font-medium",children:i.title}),l.jsx("p",{className:"text-sm mt-1 opacity-90",children:i.description}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsx(tl,{className:"w-3 h-3 opacity-60 mr-1"}),l.jsx("span",{className:"text-xs opacity-75",children:i.time})]})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${i.severity==="high"?"bg-red-200 text-red-800":i.severity==="medium"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:i.severity})]})},i.id))}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View all alerts"})})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:"🔧"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Create Application"})]}),l.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:"🔑"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Manage Permissions"})]}),l.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:"👥"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Assign Users"})]}),l.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:"📊"}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"View Reports"})]})]})})]})]})};function X(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function c(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}var nt;(function(t){t.GET="GET",t.PATCH="PATCH",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"})(nt||(nt={}));const ZT="v1.0",eS="https://graph.microsoft.com/",tS=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class ar extends Error{static setGraphClientError(e){let n;return e instanceof Error?n=e:(n=new ar,n.customError=e),n}constructor(e){super(e),Object.setPrototypeOf(this,ar.prototype)}}const nS=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],rS=t=>{const e=o=>o.replace(/\/+$/,""),n=o=>o.replace(/^\/+/,""),r=(o,s)=>[e(o),n(s)].join("/");return Array.prototype.slice.call(t).reduce(r)},sc=t=>{const e=t&&t.constructor&&t.constructor.name;if(e==="Buffer"||e==="Blob"||e==="File"||e==="FormData"||typeof t=="string")return t;if(e==="ArrayBuffer")t=Buffer.from(t);else if(e==="Int8Array"||e==="Int16Array"||e==="Int32Array"||e==="Uint8Array"||e==="Uint16Array"||e==="Uint32Array"||e==="Uint8ClampedArray"||e==="Float32Array"||e==="Float64Array"||e==="DataView")t=Buffer.from(t.buffer);else try{t=JSON.stringify(t)}catch{throw new Error("Unable to stringify the content")}return t},Fy=t=>zy(t),By=(t,e)=>(e.forEach(n=>iS(n)),zy(t,e)),zy=(t,e=tS)=>{if(t=t.toLowerCase(),t.indexOf("https://")!==-1){t=t.replace("https://","");const n=t.indexOf(":"),r=t.indexOf("/");let i="";if(r!==-1)return n!==-1&&n<r?(i=t.substring(0,n),e.has(i)):(i=t.substring(0,r),e.has(i))}return!1},iS=t=>{if(t.indexOf("/")!==-1)throw new ar("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class cr{constructor(e=[]){this.middlewareOptions=new Map;for(const n of e){const r=n.constructor;this.middlewareOptions.set(r,n)}}getMiddlewareOptions(e){return this.middlewareOptions.get(e)}setMiddlewareOptions(e,n){this.middlewareOptions.set(e,n)}}const oS=()=>{let t="";for(let e=0;e<32;e++)(e===8||e===12||e===16||e===20)&&(t+="-"),t+=Math.floor(Math.random()*16).toString(16);return t},Ky=(t,e,n)=>{let r=null;if(typeof Request<"u"&&t instanceof Request)r=t.headers.get(n);else if(typeof e<"u"&&e.headers!==void 0)if(typeof Headers<"u"&&e.headers instanceof Headers)r=e.headers.get(n);else if(e.headers instanceof Array){const i=e.headers;for(let o=0,s=i.length;o<s;o++)if(i[o][0]===n){r=i[o][1];break}}else e.headers[n]!==void 0&&(r=e.headers[n]);return r},$y=(t,e,n,r)=>{if(typeof Request<"u"&&t instanceof Request)t.headers.set(n,r);else if(typeof e<"u")if(e.headers===void 0)e.headers=new Headers({[n]:r});else if(typeof Headers<"u"&&e.headers instanceof Headers)e.headers.set(n,r);else if(e.headers instanceof Array){let i=0;const o=e.headers.length;for(;i<o;i++){const s=e.headers[i];if(s[0]===n){s[1]=r;break}}i===o&&e.headers.push([n,r])}else Object.assign(e.headers,{[n]:r})},Gy=(t,e,n,r)=>{typeof Request<"u"&&t instanceof Request?t.headers.append(n,r):typeof e<"u"&&(e.headers===void 0?e.headers=new Headers({[n]:r}):typeof Headers<"u"&&e.headers instanceof Headers?e.headers.append(n,r):e.headers instanceof Array?e.headers.push([n,r]):e.headers===void 0?e.headers={[n]:r}:e.headers[n]===void 0?e.headers[n]=r:e.headers[n]+=`, ${r}`)},sS=(t,e)=>X(void 0,void 0,void 0,function*(){const n=e.headers.get("Content-Type")?yield e.blob():yield Promise.resolve(void 0),{method:r,headers:i,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:u,redirect:d,integrity:h,keepalive:f,signal:v}=e;return new Request(t,{method:r,headers:i,body:n,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:u,redirect:d,integrity:h,keepalive:f,signal:v})});class aS{constructor(e,n){this.authenticationProvider=e,this.authenticationProviderOptions=n}}var Wr;(function(t){t[t.NONE=0]="NONE",t[t.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",t[t.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",t[t.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"})(Wr||(Wr={}));class Nn{constructor(){this.featureUsage=Wr.NONE}static updateFeatureUsageFlag(e,n){let r;e.middlewareControl instanceof cr?r=e.middlewareControl.getMiddlewareOptions(Nn):e.middlewareControl=new cr,typeof r>"u"&&(r=new Nn,e.middlewareControl.setMiddlewareOptions(Nn,r)),r.setFeatureUsage(n)}setFeatureUsage(e){this.featureUsage=this.featureUsage|e}getFeatureUsage(){return this.featureUsage.toString(16)}}class oo{constructor(e){this.authenticationProvider=e}execute(e){return X(this,void 0,void 0,function*(){const n=typeof e.request=="string"?e.request:e.request.url;if(Fy(n)||e.customHosts&&By(n,e.customHosts)){let r;e.middlewareControl instanceof cr&&(r=e.middlewareControl.getMiddlewareOptions(aS));let i,o;r&&(i=r.authenticationProvider,o=r.authenticationProviderOptions),i||(i=this.authenticationProvider);const a=`Bearer ${yield i.getAccessToken(o)}`;Gy(e.request,e.options,oo.AUTHORIZATION_HEADER,a),Nn.updateFeatureUsageFlag(e,Wr.AUTHENTICATION_HANDLER_ENABLED)}else e.options.headers&&delete e.options.headers[oo.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}oo.AUTHORIZATION_HEADER="Authorization";class cS{execute(e){return X(this,void 0,void 0,function*(){e.response=yield fetch(e.request,e.options)})}}class le{constructor(e=le.DEFAULT_DELAY,n=le.DEFAULT_MAX_RETRIES,r=le.defaultShouldRetry){if(e>le.MAX_DELAY&&n>le.MAX_MAX_RETRIES){const i=new Error(`Delay and MaxRetries should not be more than ${le.MAX_DELAY} and ${le.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}else if(e>le.MAX_DELAY){const i=new Error(`Delay should not be more than ${le.MAX_DELAY}`);throw i.name="MaxLimitExceeded",i}else if(n>le.MAX_MAX_RETRIES){const i=new Error(`MaxRetries should not be more than ${le.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}else if(e<0&&n<0){const i=new Error("Delay and MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}else if(e<0){const i=new Error("Delay should not be negative");throw i.name="MinExpectationNotMet",i}else if(n<0){const i=new Error("MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}this.delay=Math.min(e,le.MAX_DELAY),this.maxRetries=Math.min(n,le.MAX_MAX_RETRIES),this.shouldRetry=r}getMaxDelay(){return le.MAX_DELAY}}le.DEFAULT_DELAY=3;le.DEFAULT_MAX_RETRIES=3;le.MAX_DELAY=180;le.MAX_MAX_RETRIES=10;le.defaultShouldRetry=()=>!0;class Pn{constructor(e=new le){this.options=e}isRetry(e){return Pn.RETRY_STATUS_CODES.indexOf(e.status)!==-1}isBuffered(e,n){const r=typeof e=="string"?n.method:e.method;return!((r===nt.PUT||r===nt.PATCH||r===nt.POST)&&Ky(e,n,"Content-Type")==="application/octet-stream")}getDelay(e,n,r){const i=()=>Number(Math.random().toFixed(3)),o=e.headers!==void 0?e.headers.get(Pn.RETRY_AFTER_HEADER):null;let s;return o!==null?Number.isNaN(Number(o))?s=Math.round((new Date(o).getTime()-Date.now())/1e3):s=Number(o):s=n>=2?this.getExponentialBackOffTime(n)+r+i():r+i(),Math.min(s,this.options.getMaxDelay()+i())}getExponentialBackOffTime(e){return Math.round(1/2*(Math.pow(2,e)-1))}sleep(e){return X(this,void 0,void 0,function*(){const n=e*1e3;return new Promise(r=>setTimeout(r,n))})}getOptions(e){let n;return e.middlewareControl instanceof cr&&(n=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof n>"u"&&(n=Object.assign(new le,this.options)),n}executeWithRetry(e,n,r){return X(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(e),n<r.maxRetries&&this.isRetry(e.response)&&this.isBuffered(e.request,e.options)&&r.shouldRetry(r.delay,n,e.request,e.options,e.response)){++n,$y(e.request,e.options,Pn.RETRY_ATTEMPT_HEADER,n.toString());const i=this.getDelay(e.response,n,r.delay);return yield this.sleep(i),yield this.executeWithRetry(e,n,r)}else return})}execute(e){return X(this,void 0,void 0,function*(){const r=this.getOptions(e);return Nn.updateFeatureUsageFlag(e,Wr.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(e,0,r)})}setNext(e){this.nextMiddleware=e}}Pn.RETRY_STATUS_CODES=[429,503,504];Pn.RETRY_ATTEMPT_HEADER="Retry-Attempt";Pn.RETRY_AFTER_HEADER="Retry-After";class mt{constructor(e=mt.DEFAULT_MAX_REDIRECTS,n=mt.defaultShouldRedirect){if(e>mt.MAX_MAX_REDIRECTS){const r=new Error(`MaxRedirects should not be more than ${mt.MAX_MAX_REDIRECTS}`);throw r.name="MaxLimitExceeded",r}if(e<0){const r=new Error("MaxRedirects should not be negative");throw r.name="MinExpectationNotMet",r}this.maxRedirects=e,this.shouldRedirect=n}}mt.DEFAULT_MAX_REDIRECTS=5;mt.MAX_MAX_REDIRECTS=20;mt.defaultShouldRedirect=()=>!0;class it{constructor(e=new mt){this.options=e}isRedirect(e){return it.REDIRECT_STATUS_CODES.indexOf(e.status)!==-1}hasLocationHeader(e){return e.headers.has(it.LOCATION_HEADER)}getLocationHeader(e){return e.headers.get(it.LOCATION_HEADER)}isRelativeURL(e){return e.indexOf("://")===-1}shouldDropAuthorizationHeader(e,n){const r=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,i=r.exec(e);let o,s;i!==null&&(o=i[0]);const a=r.exec(n);return a!==null&&(s=a[0]),typeof o<"u"&&typeof s<"u"&&o!==s}updateRequestUrl(e,n){return X(this,void 0,void 0,function*(){n.request=typeof n.request=="string"?e:yield sS(e,n.request)})}getOptions(e){let n;return e.middlewareControl instanceof cr&&(n=e.middlewareControl.getMiddlewareOptions(mt)),typeof n>"u"&&(n=Object.assign(new mt,this.options)),n}executeWithRedirect(e,n,r){return X(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(e);const i=e.response;if(n<r.maxRedirects&&this.isRedirect(i)&&this.hasLocationHeader(i)&&r.shouldRedirect(i)){if(++n,i.status===it.STATUS_CODE_SEE_OTHER)e.options.method=nt.GET,delete e.options.body;else{const o=this.getLocationHeader(i);!this.isRelativeURL(o)&&this.shouldDropAuthorizationHeader(i.url,o)&&delete e.options.headers[it.AUTHORIZATION_HEADER],yield this.updateRequestUrl(o,e)}yield this.executeWithRedirect(e,n,r)}else return})}execute(e){return X(this,void 0,void 0,function*(){const r=this.getOptions(e);return e.options.redirect=it.MANUAL_REDIRECT,Nn.updateFeatureUsageFlag(e,Wr.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(e,0,r)})}setNext(e){this.nextMiddleware=e}}it.REDIRECT_STATUS_CODES=[301,302,303,307,308];it.STATUS_CODE_SEE_OTHER=303;it.LOCATION_HEADER="Location";it.AUTHORIZATION_HEADER="Authorization";it.MANUAL_REDIRECT="manual";const lS="3.0.7";class rt{execute(e){return X(this,void 0,void 0,function*(){const n=typeof e.request=="string"?e.request:e.request.url;if(Fy(n)||e.customHosts&&By(n,e.customHosts)){let r=Ky(e.request,e.options,rt.CLIENT_REQUEST_ID_HEADER);r||(r=oS(),$y(e.request,e.options,rt.CLIENT_REQUEST_ID_HEADER,r));let i=`${rt.PRODUCT_NAME}/${lS}`,o;if(e.middlewareControl instanceof cr&&(o=e.middlewareControl.getMiddlewareOptions(Nn)),o){const s=o.getFeatureUsage();i+=` (${rt.FEATURE_USAGE_STRING}=${s})`}Gy(e.request,e.options,rt.SDK_VERSION_HEADER,i)}else delete e.options.headers[rt.CLIENT_REQUEST_ID_HEADER],delete e.options.headers[rt.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}rt.CLIENT_REQUEST_ID_HEADER="client-request-id";rt.SDK_VERSION_HEADER="SdkVersion";rt.PRODUCT_NAME="graph-js";rt.FEATURE_USAGE_STRING="featureUsage";var hp;(function(t){t[t.MANUAL=0]="MANUAL",t[t.RANDOM=1]="RANDOM"})(hp||(hp={}));var Ht;(function(t){t.ARRAYBUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.RAW="raw",t.STREAM="stream",t.TEXT="text"})(Ht||(Ht={}));var wl;(function(t){t.TEXT_HTML="text/html",t.TEXT_XML="text/xml",t.APPLICATION_XML="application/xml",t.APPLICATION_XHTML="application/xhtml+xml"})(wl||(wl={}));var zs;(function(t){t.TEXT_PLAIN="text/plain",t.APPLICATION_JSON="application/json"})(zs||(zs={}));var Ks;(function(t){t.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",t.IMAGE="^image\\/.+"})(Ks||(Ks={}));class Mi{static parseDocumentResponse(e,n){return typeof DOMParser<"u"?new Promise((r,i)=>{e.text().then(o=>{try{const a=new DOMParser().parseFromString(o,n);r(a)}catch(s){i(s)}})}):Promise.resolve(e.body)}static convertResponse(e,n){return X(this,void 0,void 0,function*(){if(e.status===204)return Promise.resolve();let r;const i=e.headers.get("Content-type");switch(n){case Ht.ARRAYBUFFER:r=yield e.arrayBuffer();break;case Ht.BLOB:r=yield e.blob();break;case Ht.DOCUMENT:r=yield Mi.parseDocumentResponse(e,wl.TEXT_XML);break;case Ht.JSON:r=yield e.json();break;case Ht.STREAM:r=yield Promise.resolve(e.body);break;case Ht.TEXT:r=yield e.text();break;default:if(i!==null){const o=i.split(";")[0];new RegExp(Ks.DOCUMENT).test(o)?r=yield Mi.parseDocumentResponse(e,o):new RegExp(Ks.IMAGE).test(o)?r=e.blob():o===zs.TEXT_PLAIN?r=yield e.text():o===zs.APPLICATION_JSON?r=yield e.json():r=Promise.resolve(e.body)}else r=Promise.resolve(e.body);break}return r})}static getResponse(e,n,r){return X(this,void 0,void 0,function*(){if(n===Ht.RAW)return Promise.resolve(e);{const i=yield Mi.convertResponse(e,n);if(e.ok)if(typeof r=="function")r(null,i);else return i;else throw i}})}}class uS{constructor(e){this.provider=e}getAccessToken(){return X(this,void 0,void 0,function*(){return new Promise((e,n)=>{this.provider((r,i)=>X(this,void 0,void 0,function*(){if(i)e(i);else{if(!r){const s="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md";r=new ar(s)}const o=yield ar.setGraphClientError(r);n(o)}}))})})}}class Di extends Error{constructor(e=-1,n,r){super(n||r&&r.message),Object.setPrototypeOf(this,Di.prototype),this.statusCode=e,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=r?r.stack:this.stack}}class $s{static constructError(e,n,r){const i=new Di(n,"",e);return e.name!==void 0&&(i.code=e.name),i.body=e.toString(),i.date=new Date,i.headers=r==null?void 0:r.headers,i}static constructErrorFromResponse(e,n,r){const i=e.error,o=new Di(n,i.message);return o.code=i.code,i.innerError!==void 0&&(o.requestId=i.innerError["request-id"],o.date=new Date(i.innerError.date)),o.body=JSON.stringify(i),o.headers=r==null?void 0:r.headers,o}static getError(e=null,n=-1,r,i){return X(this,void 0,void 0,function*(){let o;if(e&&e.error?o=$s.constructErrorFromResponse(e,n,i):e instanceof Error?o=$s.constructError(e,n,i):(o=new Di(n),o.body=e),typeof r=="function")r(o,null);else return o})}}class dS{constructor(e,n,r){this.parsePath=i=>{if(i.indexOf("https://")!==-1){i=i.replace("https://","");const s=i.indexOf("/");s!==-1&&(this.urlComponents.host="https://"+i.substring(0,s),i=i.substring(s+1,i.length));const a=i.indexOf("/");a!==-1&&(this.urlComponents.version=i.substring(0,a),i=i.substring(a+1,i.length))}i.charAt(0)==="/"&&(i=i.substr(1));const o=i.indexOf("?");if(o===-1)this.urlComponents.path=i;else{this.urlComponents.path=i.substr(0,o);const s=i.substring(o+1,i.length).split("&");for(const a of s)this.parseQueryParameter(a)}},this.httpClient=e,this.config=n,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}addCsvQueryParameter(e,n,r){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";let i=[];r.length>1&&typeof n=="string"?i=Array.prototype.slice.call(r):typeof n=="string"?i.push(n):i=i.concat(n),this.urlComponents.oDataQueryParams[e]+=i.join(",")}buildFullUrl(){const e=rS([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(e),e}createQueryString(){const e=this.urlComponents,n=[];if(Object.keys(e.oDataQueryParams).length!==0)for(const r in e.oDataQueryParams)Object.prototype.hasOwnProperty.call(e.oDataQueryParams,r)&&n.push(r+"="+e.oDataQueryParams[r]);if(Object.keys(e.otherURLQueryParams).length!==0)for(const r in e.otherURLQueryParams)Object.prototype.hasOwnProperty.call(e.otherURLQueryParams,r)&&n.push(r+"="+e.otherURLQueryParams[r]);if(e.otherURLQueryOptions.length!==0)for(const r of e.otherURLQueryOptions)n.push(r);return n.length>0?"?"+n.join("&"):""}parseQueryParameter(e){if(typeof e=="string")if(e.charAt(0)==="?"&&(e=e.substring(1)),e.indexOf("&")!==-1){const n=e.split("&");for(const r of n)this.parseQueryParamenterString(r)}else this.parseQueryParamenterString(e);else if(e.constructor===Object)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setURLComponentsQueryParamater(n,e[n]);return this}parseQueryParamenterString(e){if(this.isValidQueryKeyValuePair(e)){const n=e.indexOf("="),r=e.substring(0,n),i=e.substring(n+1);this.setURLComponentsQueryParamater(r,i)}else this.urlComponents.otherURLQueryOptions.push(e)}setURLComponentsQueryParamater(e,n){if(nS.indexOf(e)!==-1){const r=this.urlComponents.oDataQueryParams[e],i=r&&(e==="$expand"||e==="$select"||e==="$orderby");this.urlComponents.oDataQueryParams[e]=i?r+","+n:n}else this.urlComponents.otherURLQueryParams[e]=n}isValidQueryKeyValuePair(e){const n=e.indexOf("=");return!(n===-1||e.indexOf("(")!==-1&&e.indexOf("(")<n)}updateRequestOptions(e){const n=Object.assign({},e.headers);if(this.config.fetchOptions!==void 0){const r=Object.assign({},this.config.fetchOptions);Object.assign(e,r),typeof this.config.fetchOptions.headers!==void 0&&(e.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),e.headers!==void 0&&Object.assign(n,e.headers),Object.assign(n,this._headers),e.headers=n}send(e,n,r){var i;return X(this,void 0,void 0,function*(){let o;const s=new cr(this._middlewareOptions);this.updateRequestOptions(n);const a=(i=this.config)===null||i===void 0?void 0:i.customHosts;try{return o=(yield this.httpClient.sendRequest({request:e,options:n,middlewareControl:s,customHosts:a})).response,yield Mi.getResponse(o,this._responseType,r)}catch(c){if(c instanceof ar)throw c;let u;throw o&&(u=o.status),yield $s.getError(c,u,r,o)}})}setHeaderContentType(){if(!this._headers){this.header("Content-Type","application/json");return}const e=Object.keys(this._headers);for(const n of e)if(n.toLowerCase()==="content-type")return;this.header("Content-Type","application/json")}header(e,n){return this._headers[e]=n,this}headers(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._headers[n]=e[n]);return this}option(e,n){return this._options[e]=n,this}options(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._options[n]=e[n]);return this}middlewareOptions(e){return this._middlewareOptions=e,this}version(e){return this.urlComponents.version=e,this}responseType(e){return this._responseType=e,this}select(e){return this.addCsvQueryParameter("$select",e,arguments),this}expand(e){return this.addCsvQueryParameter("$expand",e,arguments),this}orderby(e){return this.addCsvQueryParameter("$orderby",e,arguments),this}filter(e){return this.urlComponents.oDataQueryParams.$filter=e,this}search(e){return this.urlComponents.oDataQueryParams.$search=e,this}top(e){return this.urlComponents.oDataQueryParams.$top=e,this}skip(e){return this.urlComponents.oDataQueryParams.$skip=e,this}skipToken(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this}count(e=!0){return this.urlComponents.oDataQueryParams.$count=e.toString(),this}query(e){return this.parseQueryParameter(e)}get(e){return X(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:nt.GET};return yield this.send(n,r,e)})}post(e,n){return X(this,void 0,void 0,function*(){const r=this.buildFullUrl(),i={method:nt.POST,body:sc(e)};return(e&&e.constructor&&e.constructor.name)==="FormData"?i.headers={}:(this.setHeaderContentType(),i.headers=this._headers),yield this.send(r,i,n)})}create(e,n){return X(this,void 0,void 0,function*(){return yield this.post(e,n)})}put(e,n){return X(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const i={method:nt.PUT,body:sc(e)};return yield this.send(r,i,n)})}patch(e,n){return X(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const i={method:nt.PATCH,body:sc(e)};return yield this.send(r,i,n)})}update(e,n){return X(this,void 0,void 0,function*(){return yield this.patch(e,n)})}delete(e){return X(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:nt.DELETE};return yield this.send(n,r,e)})}del(e){return X(this,void 0,void 0,function*(){return yield this.delete(e)})}getStream(e){return X(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:nt.GET};return this.responseType(Ht.STREAM),yield this.send(n,r,e)})}putStream(e,n){return X(this,void 0,void 0,function*(){const r=this.buildFullUrl(),i={method:nt.PUT,headers:{"Content-Type":"application/octet-stream"},body:e};return yield this.send(r,i,n)})}}class Vy{constructor(...e){if(!e||!e.length){const n=new Error;throw n.name="InvalidMiddlewareChain",n.message="Please provide a default middleware chain or custom middleware chain",n}this.setMiddleware(...e)}setMiddleware(...e){e.length>1?this.parseMiddleWareArray(e):this.middleware=e[0]}parseMiddleWareArray(e){e.forEach((n,r)=>{r<e.length-1&&n.setNext(e[r+1])}),this.middleware=e[0]}sendRequest(e){return X(this,void 0,void 0,function*(){if(typeof e.request=="string"&&e.options===void 0){const n=new Error;throw n.name="InvalidRequestOptions",n.message="Unable to execute the middleware, Please provide valid options for a request",n}return yield this.middleware.execute(e),e})}}const hS=()=>typeof process=="object"&&typeof require=="function";class wd{static createWithAuthenticationProvider(e){const n=new oo(e),r=new Pn(new le),i=new rt,o=new cS;if(n.setNext(r),hS()){const s=new it(new mt);r.setNext(s),s.setNext(i)}else r.setNext(i);return i.setNext(o),wd.createWithMiddleware(n)}static createWithMiddleware(...e){return new Vy(...e)}}const pS=()=>{if(typeof Promise>"u"&&typeof fetch>"u"){const t=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw t.name="PolyFillNotAvailable",t}else if(typeof Promise>"u"){const t=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}else if(typeof fetch>"u"){const t=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}return!0};class Gs{static init(e){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=r==="authProvider"?new uS(e[r]):e[r]);return Gs.initWithMiddleware(n)}static initWithMiddleware(e){return new Gs(e)}constructor(e){this.config={baseUrl:eS,debugLogging:!1,defaultVersion:ZT},pS();for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.config[r]=e[r]);let n;if(e.authProvider!==void 0&&e.middleware!==void 0){const r=new Error;throw r.name="AmbiguityInInitialization",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",r}else if(e.authProvider!==void 0)n=wd.createWithAuthenticationProvider(e.authProvider);else if(e.middleware!==void 0)n=new Vy(...[].concat(e.middleware));else{const r=new Error;throw r.name="InvalidMiddlewareChain",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",r}this.httpClient=n}api(e){return new dS(this.httpClient,this.config,e)}}class fS{constructor(){this.graphClient=Gs.init({authProvider:async e=>{try{const n=await ne.getAccessToken();e(null,n)}catch(n){e(n,null)}}})}async getApplications(){try{return(await this.graphClient.api("/applications").select("id,appId,displayName,description,createdDateTime,signInAudience,tags,requiredResourceAccess").top(999).get()).value.map(n=>({id:n.id,appId:n.appId,displayName:n.displayName,description:n.description||"",createdDateTime:n.createdDateTime,signInAudience:n.signInAudience,tags:n.tags||[],isEnabled:!0,requiredResourceAccess:n.requiredResourceAccess||[],owners:[]}))}catch(e){throw console.error("Error fetching applications:",e),e}}async getServicePrincipals(){try{return(await this.graphClient.api("/servicePrincipals").select("id,appId,displayName,description,createdDateTime,accountEnabled,servicePrincipalType,tags,appRoles,oauth2PermissionScopes").top(999).get()).value.map(n=>({id:n.id,appId:n.appId,displayName:n.displayName,description:n.description||"",createdDateTime:n.createdDateTime,accountEnabled:n.accountEnabled,servicePrincipalType:n.servicePrincipalType,tags:n.tags||[],appRoles:n.appRoles||[],oauth2PermissionScopes:n.oauth2PermissionScopes||[],owners:[]}))}catch(e){throw console.error("Error fetching service principals:",e),e}}async getApplicationAssignedPermissions(e){var n,r;try{let i;try{i=await this.graphClient.api(`/applications/${e}`).select("requiredResourceAccess").get()}catch(s){if(s.code==="Request_ResourceNotFound"||s.status===404)return console.warn(`Application ${e} not found or inaccessible`),[];throw s}const o=[];if(!i.requiredResourceAccess||i.requiredResourceAccess.length===0)return o;for(const s of i.requiredResourceAccess)try{const a=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${s.resourceAppId}'`).select("id,displayName,appRoles,oauth2PermissionScopes").get();if(a.value.length>0){const c=a.value[0];for(const u of s.resourceAccess){let d=null;if(u.type==="Role"){const h=(n=c.appRoles)==null?void 0:n.find(f=>f.id===u.id);h&&(d={id:h.id,displayName:h.displayName,description:h.description,type:"Application",api:c.displayName,apiId:s.resourceAppId,value:h.value,isEnabled:h.isEnabled})}else if(u.type==="Scope"){const h=(r=c.oauth2PermissionScopes)==null?void 0:r.find(f=>f.id===u.id);h&&(d={id:h.id,displayName:h.adminConsentDisplayName||h.value,description:h.adminConsentDescription||h.userConsentDescription,type:"Delegated",api:c.displayName,apiId:s.resourceAppId,value:h.value,isEnabled:h.isEnabled,consentType:h.type==="Admin"?"Admin":"User"})}d&&o.push(d)}}else console.warn(`Service principal not found for resource ${s.resourceAppId}`)}catch(a){const c=a;c.code==="Request_ResourceNotFound"||c.status===404?console.warn(`Resource ${s.resourceAppId} not found or inaccessible`):console.warn(`Could not fetch details for resource ${s.resourceAppId}:`,a)}return o}catch(i){return console.error("Error fetching application assigned permissions:",i),[]}}async getServicePrincipalAssignedPermissions(e){var n,r;try{const i=await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments`).get(),o=await this.graphClient.api("/oauth2PermissionGrants").filter(`clientId eq '${e}'`).get(),s=[];for(const a of i.value)try{const c=await this.graphClient.api(`/servicePrincipals/${a.resourceId}`).select("displayName,appRoles,appId").get(),u=(n=c.appRoles)==null?void 0:n.find(d=>d.id===a.appRoleId);u&&s.push({id:u.id,displayName:u.displayName,description:u.description,type:"Application",api:c.displayName,apiId:c.appId,value:u.value,isEnabled:u.isEnabled})}catch(c){console.warn(`Could not fetch details for app role assignment ${a.id}:`,c)}for(const a of o.value)try{const c=await this.graphClient.api(`/servicePrincipals/${a.resourceId}`).select("displayName,oauth2PermissionScopes,appId").get(),u=a.scope?a.scope.split(" "):[];for(const d of u){const h=(r=c.oauth2PermissionScopes)==null?void 0:r.find(f=>f.value===d);h&&s.push({id:h.id,displayName:h.adminConsentDisplayName||h.value,description:h.adminConsentDescription||h.userConsentDescription,type:"Delegated",api:c.displayName,apiId:c.appId,value:h.value,isEnabled:h.isEnabled,consentType:a.consentType==="AllPrincipals"?"Admin":"User"})}}catch(c){console.warn(`Could not fetch details for OAuth2 permission grant ${a.id}:`,c)}return s}catch(i){throw console.error("Error fetching service principal assigned permissions:",i),i}}async getAssignedUsers(e,n){try{let r=e;if(!n){const c=await this.graphClient.api(`/applications/${e}`).select("appId").get(),u=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${c.appId}'`).select("id").get();if(u.value.length>0)r=u.value[0].id;else return console.warn("No service principal found for application"),[]}const o=(await this.graphClient.api(`/servicePrincipals/${r}/appRoleAssignedTo`).get()).value,s=[],a=new Set;for(const c of o)if(c.principalType==="User"&&!a.has(c.principalId)){a.add(c.principalId);try{const u=await this.graphClient.api(`/users/${c.principalId}`).select("id,displayName,userPrincipalName,mail,jobTitle,department").get();u&&s.push({id:u.id,displayName:u.displayName,userPrincipalName:u.userPrincipalName,mail:u.mail,jobTitle:u.jobTitle,department:u.department})}catch(u){console.warn(`Could not fetch user details for ${c.principalId}:`,u)}}return s}catch(r){throw console.error("Error fetching assigned users:",r),r}}async getApiResources(){try{return(await this.graphClient.api("/servicePrincipals").select("id,displayName,description,appId,appRoles,oauth2PermissionScopes").top(999).get()).value.filter(n=>n.appRoles&&n.appRoles.length>0||n.oauth2PermissionScopes&&n.oauth2PermissionScopes.length>0).map(n=>({id:n.id,displayName:n.displayName,description:n.description||"",appId:n.appId,appRoles:n.appRoles||[],oauth2PermissionScopes:n.oauth2PermissionScopes||[]}))}catch(e){console.error("Error fetching API resources:",e);const n=["00000003-0000-0000-c000-000000000000","00000003-0000-0ff1-ce00-000000000000","00000002-0000-0000-c000-000000000000"],r=[];for(const i of n)try{const o=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${i}'`).select("id,displayName,description,appId,appRoles,oauth2PermissionScopes").get();if(o.value.length>0){const s=o.value[0];r.push({id:s.id,displayName:s.displayName,description:s.description||"",appId:s.appId,appRoles:s.appRoles||[],oauth2PermissionScopes:s.oauth2PermissionScopes||[]})}}catch(o){console.warn(`Could not fetch API resource ${i}:`,o)}return r}}async updateApplicationStatus(e,n){console.log(`Application status update not directly supported. App ID: ${e}, Enabled: ${n}`)}async updateServicePrincipalStatus(e,n){try{await this.graphClient.api(`/servicePrincipals/${e}`).patch({accountEnabled:n})}catch(r){throw console.error("Error updating service principal status:",r),r}}async addPermission(e,n){try{const i=(await this.graphClient.api(`/applications/${e}`).select("requiredResourceAccess").get()).requiredResourceAccess||[];let o=i.find(c=>c.resourceAppId===n.apiId);o||(o={resourceAppId:n.apiId,resourceAccess:[]},i.push(o));const s=n.type==="Application"?"Role":"Scope";o.resourceAccess.find(c=>c.id===n.id&&c.type===s)||(o.resourceAccess.push({id:n.id,type:s}),await this.graphClient.api(`/applications/${e}`).patch({requiredResourceAccess:i}))}catch(r){throw console.error("Error adding permission:",r),r}}async addServicePrincipalPermission(e,n){try{const r=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${n.apiId}'`).select("id").get();if(r.value.length===0)throw new Error(`Service principal not found for application ID: ${n.apiId}`);const i=r.value[0].id;n.type==="Application"?await this.graphClient.api("/appRoleAssignments").post({principalId:e,resourceId:i,appRoleId:n.id}):await this.graphClient.api("/oauth2PermissionGrants").post({clientId:e,consentType:"AllPrincipals",resourceId:i,scope:n.value})}catch(r){throw console.error("Error adding service principal permission:",r),r}}async removePermission(e,n){try{const i=(await this.graphClient.api(`/applications/${e}`).select("requiredResourceAccess").get()).requiredResourceAccess||[];i.forEach(s=>{s.resourceAccess=s.resourceAccess.filter(a=>a.id!==n)});const o=i.filter(s=>s.resourceAccess.length>0);await this.graphClient.api(`/applications/${e}`).patch({requiredResourceAccess:o})}catch(r){throw console.error("Error removing permission:",r),r}}async removeServicePrincipalPermission(e,n){try{const r=await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments`).get();for(const o of r.value)o.appRoleId===n&&await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments/${o.id}`).delete();const i=await this.graphClient.api("/oauth2PermissionGrants").filter(`clientId eq '${e}'`).get();for(const o of i.value){const s=o.scope?o.scope.split(" "):[],a=s.filter(c=>c!==n);a.length!==s.length&&(a.length===0?await this.graphClient.api(`/oauth2PermissionGrants/${o.id}`).delete():await this.graphClient.api(`/oauth2PermissionGrants/${o.id}`).patch({scope:a.join(" ")}))}}catch(r){throw console.error("Error removing service principal permission:",r),r}}async grantDelegatedPermission(e,n,r){try{await this.graphClient.api("/oauth2PermissionGrants").post({clientId:e,consentType:"Principal",principalId:n,resourceId:r,scope:r})}catch(i){throw console.error("Error granting delegated permission:",i),i}}async revokeDelegatedPermission(e,n,r){try{const i=await this.graphClient.api("/oauth2PermissionGrants").filter(`clientId eq '${e}' and principalId eq '${n}'`).get();for(const o of i.value)await this.graphClient.api(`/oauth2PermissionGrants/${o.id}`).delete()}catch(i){throw console.error("Error revoking delegated permission:",i),i}}async assignUserToApplication(e,n,r){try{let i=e,o="";if(r)o=(await this.graphClient.api(`/servicePrincipals/${i}`).select("appId").get()).appId;else{const c=await this.graphClient.api(`/applications/${e}`).select("id,appId").get();o=c.appId;const u=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${c.appId}'`).select("id").get();if(u.value.length===0)throw new Error("No service principal found for this application");i=u.value[0].id}const s=await this.graphClient.api(`/servicePrincipals/${i}`).select("appRoles").get();let a="00000000-0000-0000-0000-000000000000";s.appRoles&&s.appRoles.length>0&&(a=(s.appRoles.find(u=>u.value==="User"||u.displayName==="User"||u.isDefault)||s.appRoles[0]).id),await this.graphClient.api(`/users/${n}/appRoleAssignments`).post({principalId:n,resourceId:i,appRoleId:a})}catch(i){throw console.error("Error assigning user to application:",i),i}}async removeUserFromApplication(e,n,r){try{let i=e;if(!r){const s=await this.graphClient.api(`/applications/${e}`).select("appId").get(),a=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${s.appId}'`).select("id").get();if(a.value.length>0)i=a.value[0].id;else{console.warn("No service principal found for application");return}}const o=await this.graphClient.api(`/users/${n}/appRoleAssignments`).filter(`resourceId eq ${i}`).get();if(!o.value||o.value.length===0){console.log("No role assignments found for this user and app.");return}for(const s of o.value)await this.graphClient.api(`/users/${n}/appRoleAssignments/${s.id}`).delete(),console.log(`Removed assignment ${s.id} from user ${n}`)}catch(i){throw console.error("Error removing user from application:",i),i}}async getAssignedGroups(e,n){try{let r=e;if(!n){const c=await this.graphClient.api(`/applications/${e}`).select("appId").get(),u=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${c.appId}'`).select("id").get();if(u.value.length>0)r=u.value[0].id;else return console.warn("No service principal found for application"),[]}const o=(await this.graphClient.api(`/servicePrincipals/${r}/appRoleAssignedTo`).get()).value,s=[],a=new Set;for(const c of o)if(c.principalType==="Group"&&!a.has(c.principalId)){a.add(c.principalId);try{const u=await this.graphClient.api(`/groups/${c.principalId}`).select("id,displayName,description,mail,groupTypes,securityEnabled").get();u&&s.push({id:u.id,displayName:u.displayName,description:u.description,mail:u.mail,groupTypes:u.groupTypes||[],securityEnabled:u.securityEnabled})}catch(u){console.warn(`Could not fetch group details for ${c.principalId}:`,u)}}return s}catch(r){throw console.error("Error fetching assigned groups:",r),r}}async assignGroupToApplication(e,n,r){try{let i=e;if(!r){const a=await this.graphClient.api(`/applications/${e}`).select("id,appId").get(),c=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${a.appId}'`).select("id").get();if(c.value.length===0)throw new Error("No service principal found for this application");i=c.value[0].id}const o=await this.graphClient.api(`/servicePrincipals/${i}`).select("appRoles").get();let s="00000000-0000-0000-0000-000000000000";o.appRoles&&o.appRoles.length>0&&(s=(o.appRoles.find(c=>c.value==="User"||c.displayName==="User"||c.isDefault)||o.appRoles[0]).id),await this.graphClient.api(`/groups/${n}/appRoleAssignments`).post({principalId:n,resourceId:i,appRoleId:s})}catch(i){throw console.error("Error assigning group to application:",i),i}}async removeGroupFromApplication(e,n,r){try{let i=e;if(!r){const s=await this.graphClient.api(`/applications/${e}`).select("appId").get(),a=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${s.appId}'`).select("id").get();if(a.value.length>0)i=a.value[0].id;else{console.warn("No service principal found for application");return}}const o=await this.graphClient.api(`/groups/${n}/appRoleAssignments`).filter(`resourceId eq ${i}`).get();if(!o.value||o.value.length===0){console.log("No role assignments found for this group and app.");return}for(const s of o.value)await this.graphClient.api(`/groups/${n}/appRoleAssignments/${s.id}`).delete(),console.log(`Removed assignment ${s.id} from group ${n}`)}catch(i){throw console.error("Error removing group from application:",i),i}}async searchGroups(e){try{return(await this.graphClient.api("/groups").filter(`startswith(displayName,'${e}') or startswith(mail,'${e}')`).select("id,displayName,description,mail,groupTypes,securityEnabled").top(10).get()).value.map(r=>({id:r.id,displayName:r.displayName,description:r.description,mail:r.mail,groupTypes:r.groupTypes||[],securityEnabled:r.securityEnabled}))}catch(n){throw console.error("Error searching groups:",n),n}}async searchUsers(e){try{return(await this.graphClient.api("/users").filter(`startswith(displayName,'${e}') or startswith(userPrincipalName,'${e}')`).select("id,displayName,userPrincipalName,mail,jobTitle,department").top(10).get()).value.map(r=>({id:r.id,displayName:r.displayName,userPrincipalName:r.userPrincipalName,mail:r.mail,jobTitle:r.jobTitle,department:r.department}))}catch(n){throw console.error("Error searching users:",n),n}}async getUsersWithPermission(e,n){var r;try{let i;if(e.length===36&&e.includes("-"))try{const c=await this.graphClient.api(`/applications/${e}`).select("appId").get(),u=await this.graphClient.api("/servicePrincipals").filter(`appId eq '${c.appId}'`).select("id").get();if(u.value.length>0)i=u.value[0].id;else return console.warn("No service principal found for application"),[]}catch{i=e}else i=e;const o=await this.graphClient.api("/oauth2PermissionGrants").filter(`clientId eq '${i}'`).get(),s=[],a=new Set;for(const c of o.value)if(c.consentType==="Principal"&&c.principalId){const u=c.scope?c.scope.split(" "):[];try{if(((r=(await this.graphClient.api(`/servicePrincipals/${c.resourceId}`).select("oauth2PermissionScopes").get()).oauth2PermissionScopes)==null?void 0:r.find(f=>f.id===n&&u.includes(f.value)))&&!a.has(c.principalId)){a.add(c.principalId);try{const f=await this.graphClient.api(`/users/${c.principalId}`).select("id,displayName,userPrincipalName,mail,jobTitle,department").get();s.push({id:f.id,displayName:f.displayName,userPrincipalName:f.userPrincipalName,mail:f.mail,jobTitle:f.jobTitle,department:f.department})}catch(f){console.warn(`Could not fetch user details for ${c.principalId}:`,f)}}}catch(d){console.warn(`Could not fetch resource details for ${c.resourceId}:`,d)}}return s}catch(i){throw console.error("Error fetching users with permission:",i),i}}async revokeAllPermissionsFromServicePrincipal(e){try{const n=await this.graphClient.api(`/servicePrincipals/${e}/oauth2PermissionGrants`).get();if(n.value&&n.value.length>0)for(const i of n.value)await this.graphClient.api(`/oauth2PermissionGrants/${i.id}`).delete();const r=await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments`).get();if(r.value&&r.value.length>0)for(const i of r.value)await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments/${i.id}`).delete()}catch(n){throw console.error("Error revocando todos los permisos del Service Principal:",n),n}}async revokeAllAdminConsents(e){try{if(e.isServicePrincipal){const n=await this.getServicePrincipalAssignedPermissions(e.servicePrincipalId||e.id);for(const r of n.filter(i=>i.type==="Delegated"&&i.consentType==="Admin"))await this.removeServicePrincipalPermission(e.servicePrincipalId||e.id,r.id)}else{const n=await this.getApplicationAssignedPermissions(e.id);for(const r of n.filter(i=>i.type==="Delegated"&&i.consentType==="Admin"))await this.removePermission(e.id,r.id)}}catch(n){throw console.error("Error revocando admin consent:",n),n}}async revokeAdminConsentForPermission(e,n){try{const i=(await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments`).get()).value.find(o=>o.appRoleId===n);if(!i)throw new Error("No se encontró el AppRoleAssignment para este permiso.");await this.graphClient.api(`/servicePrincipals/${e}/appRoleAssignments/${i.id}`).delete(),console.log(`AppRoleAssignment ${i.id} eliminado del Service Principal ${e}`)}catch(r){throw console.error("Error eliminando AppRoleAssignment:",r),r}}}const fe=new fS,ac=[{id:"app-1",appId:"12345678-1234-1234-1234-123456789012",displayName:"Sales Dashboard",description:"Customer relationship management application",createdDateTime:"2024-01-15T10:30:00Z",signInAudience:"AzureADMyOrg",tags:["WindowsAzureActiveDirectoryIntegratedApp"],isEnabled:!0,requiredResourceAccess:[],owners:[]},{id:"app-2",appId:"87654321-4321-4321-4321-210987654321",displayName:"HR Portal",description:"Human resources management system",createdDateTime:"2024-02-20T14:15:00Z",signInAudience:"AzureADMyOrg",tags:["WindowsAzureActiveDirectoryIntegratedApp"],isEnabled:!0,requiredResourceAccess:[],owners:[]}],cc=[{id:"sp-1",appId:"12345678-1234-1234-1234-123456789012",displayName:"Sales Dashboard",description:"Service principal for Sales Dashboard",createdDateTime:"2024-01-15T10:30:00Z",accountEnabled:!0,servicePrincipalType:"Application",tags:[],appRoles:[],oauth2PermissionScopes:[],owners:[]}],pp=[{id:"graph-api",displayName:"Microsoft Graph",description:"Microsoft Graph API",appId:"00000003-0000-0000-c000-000000000000",appRoles:[{id:"role-1",allowedMemberTypes:["Application"],description:"Read all users",displayName:"User.Read.All",isEnabled:!0,value:"User.Read.All"},{id:"role-2",allowedMemberTypes:["Application"],description:"Read and write all users",displayName:"User.ReadWrite.All",isEnabled:!0,value:"User.ReadWrite.All"}],oauth2PermissionScopes:[{id:"scope-1",adminConsentDescription:"Read user profile",adminConsentDisplayName:"Read user profile",isEnabled:!0,type:"User",userConsentDescription:"Read your profile",userConsentDisplayName:"Read your profile",value:"User.Read"}]}],ye={async getApplications(){if(ne.isLoggedIn())try{return await fe.getApplications()}catch(t){return console.warn("Using mock data due to API error:",t),ac}return ac},async getServicePrincipals(){if(ne.isLoggedIn())try{return await fe.getServicePrincipals()}catch(t){return console.warn("Using mock data due to API error:",t),cc}return cc},async getApplicationAssignedPermissions(t){if(ne.isLoggedIn())try{return await fe.getApplicationAssignedPermissions(t)}catch(e){return console.warn("Using mock data due to API error:",e),[{id:"951183d1-1a61-466f-a6d1-1fde911bfd95",displayName:"User.Read.All",description:"Read all users",type:"Application",api:"Microsoft Graph",apiId:"00000003-0000-0000-c000-000000000000",value:"User.Read.All",isEnabled:!0}]}return[]},async getServicePrincipalAssignedPermissions(t){if(ne.isLoggedIn())try{return await fe.getServicePrincipalAssignedPermissions(t)}catch(e){return console.warn("Using mock data due to API error:",e),[{id:"951183d1-1a61-466f-a6d1-1fde911bfd95",displayName:"User.Read.All",description:"Read all users",type:"Application",api:"Microsoft Graph",apiId:"00000003-0000-0000-c000-000000000000",value:"User.Read.All",isEnabled:!0}]}return[]},async getAssignedUsers(t,e){if(ne.isLoggedIn())try{return await fe.getAssignedUsers(t,e)}catch(n){return console.warn("Using mock data due to API error:",n),[{id:"user-1",displayName:"John Doe",userPrincipalName:"john.doe@company.com",mail:"john.doe@company.com",jobTitle:"Sales Manager",department:"Sales"}]}return[]},async getApiResources(){if(ne.isLoggedIn())try{return await fe.getApiResources()}catch(t){return console.warn("Using mock data due to API error:",t),pp}return pp},async updateApplicationStatus(t,e){if(ne.isLoggedIn())try{await fe.updateApplicationStatus(t,e);return}catch(r){console.warn("Using mock behavior due to API error:",r)}await new Promise(r=>setTimeout(r,300));const n=ac.find(r=>r.id===t);n&&(n.isEnabled=e)},async updateServicePrincipalStatus(t,e){if(ne.isLoggedIn())try{await fe.updateServicePrincipalStatus(t,e);return}catch(r){console.warn("Using mock behavior due to API error:",r)}await new Promise(r=>setTimeout(r,300));const n=cc.find(r=>r.id===t);n&&(n.accountEnabled=e)},async addPermission(t,e){if(ne.isLoggedIn())try{await fe.addPermission(t,e);return}catch(n){console.warn("Using mock behavior due to API error:",n)}await new Promise(n=>setTimeout(n,300)),console.log("Adding permission:",e,"to app:",t)},async addServicePrincipalPermission(t,e){if(ne.isLoggedIn())try{await fe.addServicePrincipalPermission(t,e);return}catch(n){console.warn("Using mock behavior due to API error:",n)}await new Promise(n=>setTimeout(n,300)),console.log("Adding permission:",e,"to service principal:",t)},async revokeAdminConsentForPermission(t,e){if(ne.isLoggedIn())try{await fe.revokeAdminConsentForPermission(t,e);return}catch(n){console.warn("Using mock behavior due to API error:",n)}await new Promise(n=>setTimeout(n,300)),console.log("Removing permission:",e,"from app:",t)},async removeServicePrincipalPermission(t,e){if(ne.isLoggedIn())try{await fe.removeServicePrincipalPermission(t,e);return}catch(n){console.warn("Using mock behavior due to API error:",n)}await new Promise(n=>setTimeout(n,300)),console.log("Removing permission:",e,"from service principal:",t)},async grantDelegatedPermission(t,e,n){if(ne.isLoggedIn())try{await fe.grantDelegatedPermission(t,e,n);return}catch(r){console.warn("Using mock behavior due to API error:",r)}await new Promise(r=>setTimeout(r,300)),console.log("Granting delegated permission:",n,"to user:",e,"for app:",t)},async revokeDelegatedPermission(t,e,n){if(ne.isLoggedIn())try{await fe.revokeDelegatedPermission(t,e,n);return}catch(r){console.warn("Using mock behavior due to API error:",r)}await new Promise(r=>setTimeout(r,300)),console.log("Revoking delegated permission:",n,"from user:",e,"for app:",t)},async assignUserToApplication(t,e,n){if(ne.isLoggedIn())try{await fe.assignUserToApplication(t,e,n);return}catch(r){console.warn("Using mock behavior due to API error:",r)}await new Promise(r=>setTimeout(r,300)),console.log("Assigning user:",e,"to",n?"service principal":"application",":",t)},async removeUserFromApplication(t,e,n){if(ne.isLoggedIn())try{await fe.removeUserFromApplication(t,e,n);return}catch(r){console.warn("Using mock behavior due to API error:",r)}await new Promise(r=>setTimeout(r,300)),console.log("Removing user:",e,"from",n?"service principal":"application",":",t)},async searchUsers(t){if(ne.isLoggedIn())try{return await fe.searchUsers(t)}catch(e){console.warn("Using mock data due to API error:",e)}return await new Promise(e=>setTimeout(e,300)),[{id:"user-1",displayName:"John Doe",userPrincipalName:"john.doe@company.com",mail:"john.doe@company.com",jobTitle:"Sales Manager",department:"Sales"},{id:"user-2",displayName:"Jane Smith",userPrincipalName:"jane.smith@company.com",mail:"jane.smith@company.com",jobTitle:"HR Specialist",department:"Human Resources"}].filter(e=>e.displayName.toLowerCase().includes(t.toLowerCase())||e.userPrincipalName.toLowerCase().includes(t.toLowerCase()))},async getUsersWithPermission(t,e){if(ne.isLoggedIn())try{return await fe.getUsersWithPermission(t,e)}catch(n){console.warn("Using mock data due to API error:",n)}return await new Promise(n=>setTimeout(n,300)),[{id:"user-1",displayName:"John Doe",userPrincipalName:"john.doe@company.com",mail:"john.doe@company.com",jobTitle:"Sales Manager",department:"Sales"},{id:"user-3",displayName:"Mike Johnson",userPrincipalName:"mike.johnson@company.com",mail:"mike.johnson@company.com",jobTitle:"IT Administrator",department:"IT"}]}},gS=({onSelectApplication:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState([]),[o,s]=j.useState(!0),[a,c]=j.useState("all"),[u,d]=j.useState("all"),[h,f]=j.useState("");j.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const[p,g]=await Promise.all([ye.getApplications(),ye.getServicePrincipals()]);n(p),i(g)}catch(p){console.error("Error loading data:",p)}finally{s(!1)}},w=async(p,g)=>{try{await ye.updateApplicationStatus(p,!g),await v()}catch(E){console.error("Error updating application status:",E)}},T=async(p,g)=>{try{await ye.updateServicePrincipalStatus(p,!g),await v()}catch(E){console.error("Error updating service principal status:",E)}},m=(()=>{const p=[];return(u==="all"||u==="applications")&&e.forEach(g=>{p.push({type:"application",data:g})}),(u==="all"||u==="servicePrincipals")&&r.forEach(g=>{const E={id:g.id,appId:g.appId,displayName:g.displayName,description:g.description,createdDateTime:g.createdDateTime,signInAudience:"N/A",tags:g.tags,isEnabled:g.accountEnabled,requiredResourceAccess:[],owners:g.owners};p.push({type:"servicePrincipal",data:E})}),p})().filter(p=>a==="enabled"?p.data.isEnabled:a==="disabled"?!p.data.isEnabled:!0).filter(p=>{if(!h)return!0;const g=h.toLowerCase();return p.data.displayName.toLowerCase().includes(g)||(p.data.description||"").toLowerCase().includes(g)||p.data.appId.toLowerCase().includes(g)});return o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(Ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search applications...",value:h,onChange:p=>f(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("select",{value:u,onChange:p=>d(p.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All (App Registrations + Enterprise Apps)"}),l.jsx("option",{value:"applications",children:"App Registrations Only"}),l.jsx("option",{value:"servicePrincipals",children:"Enterprise Applications Only"})]}),l.jsxs("select",{value:a,onChange:p=>c(p.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"enabled",children:"Enabled"}),l.jsx("option",{value:"disabled",children:"Disabled"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",m.length," of ",e.length+r.length," items"]}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"New Application"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application / Service Principal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"App ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((p,g)=>{const E=p.type==="servicePrincipal",_=p.data;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${E?"bg-green-100":"bg-blue-100"}`,children:E?l.jsx(ca,{className:`w-5 h-5 ${E?"text-green-600":"text-blue-600"}`}):l.jsx(Mn,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.displayName}),l.jsx("div",{className:"text-sm text-gray-500",children:_.description||"No description"})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:E?"Enterprise App":"App Registration"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isEnabled?"Enabled":"Disabled"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-mono",children:_.appId}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(tl,{className:"w-4 h-4 mr-1"}),new Date(_.createdDateTime).toLocaleDateString()]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[!E&&l.jsx("button",{onClick:()=>t(_),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"View Details",children:l.jsx(bh,{className:"w-4 h-4"})}),E&&l.jsx("button",{onClick:()=>{const R={..._,isServicePrincipal:!0,servicePrincipalId:_.id};t(R)},className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Manage Enterprise App",children:l.jsx(bh,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>E?T(_.id,_.isEnabled):w(_.id,_.isEnabled),className:`p-1 rounded transition-colors ${_.isEnabled?"text-red-600 hover:text-red-900 hover:bg-red-50":"text-green-600 hover:text-green-900 hover:bg-green-50"}`,title:_.isEnabled?"Disable":"Enable",children:l.jsx(Ng,{className:"w-4 h-4"})}),l.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-50 transition-colors",title:"Edit",children:l.jsx(Pg,{className:"w-4 h-4"})}),l.jsx("div",{className:"relative inline-block",children:l.jsx("button",{className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-50 transition-colors",children:l.jsx(Kw,{className:"w-4 h-4"})})})]})]},`${p.type}-${_.id}`)})})]})}),m.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Mn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:h?"No matching applications found":"No applications found"}),l.jsx("p",{className:"text-gray-500",children:h?"Try adjusting your search terms or clearing the search filter.":a!=="all"?`No ${a} applications found. Try changing the filter.`:"No applications or service principals found."})]})]})]})},mS=({application:t,onBack:e})=>{var Ed;const[n,r]=j.useState("overview"),[i,o]=j.useState([]),[s,a]=j.useState([]),[c,u]=j.useState([]),[d,h]=j.useState(!1),[f,v]=j.useState(!1),[w,T]=j.useState(null),[L,m]=j.useState(""),[p,g]=j.useState(""),[E,_]=j.useState([]),[R,b]=j.useState([]),[O,Y]=j.useState(!1),[H,be]=j.useState(!1),[cn,Mt]=j.useState([]),[ri,hr]=j.useState([]),[pr,Fn]=j.useState(""),[N,U]=j.useState(!1),[F,oe]=j.useState(!1),[me,Bn]=j.useState(!1),[Ve,fr]=j.useState("admin"),[Dt,ln]=j.useState([]),[Qy,Ad]=j.useState(!1);j.useEffect(()=>{ii(),qy(),_a(),xa()},[]);const ii=async()=>{try{U(!0);let C=[];t.isServicePrincipal?C=await ye.getServicePrincipalAssignedPermissions(t.servicePrincipalId||t.id):C=await ye.getApplicationAssignedPermissions(t.id),o(C)}catch(C){console.error("Error loading application permissions:",C)}finally{U(!1)}},qy=async()=>{try{const C=await ye.getApiResources();u(C);const B=[];C.forEach(we=>{we.appRoles.forEach(V=>{B.push({id:V.id,displayName:V.displayName,description:V.description,type:"Application",api:we.displayName,apiId:we.appId,value:V.value,isEnabled:V.isEnabled})}),we.oauth2PermissionScopes.forEach(V=>{B.push({id:V.id,displayName:V.adminConsentDisplayName||V.value,description:V.adminConsentDescription||V.userConsentDescription,type:"Delegated",api:we.displayName,apiId:we.appId,value:V.value,isEnabled:V.isEnabled,consentType:V.type==="Admin"?"Admin":"User"})})}),a(B)}catch(C){console.error("Error loading available permissions:",C)}},_a=async()=>{try{oe(!0);const C=await ye.getAssignedUsers(t.isServicePrincipal&&t.servicePrincipalId||t.id,!!t.isServicePrincipal);_(C)}catch(C){console.error("Error loading assigned users:",C)}finally{oe(!1)}},xa=async()=>{try{Bn(!0);const C=await ye.getAssignedGroups(t.isServicePrincipal&&t.servicePrincipalId||t.id,!!t.isServicePrincipal);b(C)}catch(C){console.error("Error loading assigned groups:",C)}finally{Bn(!1)}},Wy=async C=>{if(C.length<2){Mt([]);return}try{const B=await ye.searchUsers(C);Mt(B)}catch(B){console.error("Error searching users:",B)}},Yy=async C=>{if(C.length<2){hr([]);return}try{const B=await ye.searchGroups(C);hr(B)}catch(B){console.error("Error searching groups:",B)}},Jy=async C=>{try{t.isServicePrincipal?await ye.addServicePrincipalPermission(t.servicePrincipalId||t.id,C):await ye.addPermission(t.id,C),h(!1),g(""),await ii()}catch(B){console.error("Error adding permission:",B)}},Xy=async C=>{try{await ye.assignUserToApplication(t.isServicePrincipal&&t.servicePrincipalId||t.id,C,!!t.isServicePrincipal),Y(!1),m(""),Mt([]),await _a()}catch(B){console.error("Error adding user:",B)}},Zy=async C=>{try{await ye.removeUserFromApplication(t.isServicePrincipal&&t.servicePrincipalId||t.id,C,!!t.isServicePrincipal),await _a()}catch(B){console.error("Error removing user:",B)}},ev=async C=>{try{await ye.assignGroupToApplication(t.isServicePrincipal&&t.servicePrincipalId||t.id,C,!!t.isServicePrincipal),be(!1),Fn(""),hr([]),await xa()}catch(B){console.error("Error adding group:",B)}},tv=async C=>{try{await ye.removeGroupFromApplication(t.isServicePrincipal&&t.servicePrincipalId||t.id,C,!!t.isServicePrincipal),await xa()}catch(B){console.error("Error removing group:",B)}},nv=async()=>{if(window.confirm("¿Estás seguro de que quieres revocar todos los permisos de esta aplicación?"))try{await fe.revokeAllPermissions(t.id),alert("Todos los permisos han sido revocados.")}catch{alert("Error al revocar los permisos.")}},rv=async()=>{if(window.confirm("¿Estás seguro de que quieres revocar el admin consent de todos los permisos?"))try{await fe.revokeAllAdminConsents(t.id),alert("Admin consent revocado para todos los permisos."),await ii()}catch{alert("Error al revocar el admin consent.")}},iv=async()=>{if(window.confirm("¿Estás seguro de que quieres revocar todos los permisos delegados de esta aplicación?"))try{await Promise.all(i.filter(C=>C.type==="Delegated").map(C=>t.isServicePrincipal?ye.removeServicePrincipalPermission(t.servicePrincipalId||t.id,C.id):ye.removePermission(t.id,C.id))),alert("Todos los permisos delegados han sido revocados."),await ii()}catch{alert("Error al revocar los permisos delegados.")}},ov=async C=>{Ad(!0);try{const B=await ye.getUsersWithPermission(t.id,C);ln(B)}catch(B){ln([]),console.error("Error loading users with permission:",B)}finally{Ad(!1)}},sv=()=>{const C=i.map(V=>V.id),B=s.filter(V=>!C.includes(V.id));if(!p)return B;const we=p.toLowerCase();return B.filter(V=>V.displayName.toLowerCase().includes(we)||(V.description||"").toLowerCase().includes(we)||(V.api||"").toLowerCase().includes(we)||(V.value||"").toLowerCase().includes(we))},av=[{id:"overview",label:"Overview",icon:Mn},{id:"permissions",label:"Permissions",icon:gu},{id:"users",label:"Users",icon:Et},{id:"settings",label:"Settings",icon:mu}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Lw,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${t.isServicePrincipal?"bg-green-100":"bg-blue-100"}`,children:t.isServicePrincipal?l.jsx(ca,{className:"w-6 h-6 text-green-600"}):l.jsx(Mn,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t.displayName}),l.jsx("p",{className:"text-sm text-gray-500",children:t.description}),l.jsx("div",{className:"flex items-center space-x-2 mt-1",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${t.isServicePrincipal?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:t.isServicePrincipal?"Enterprise Application":"App Registration"})}),l.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["App ID: ",t.appId]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors ${t.isEnabled?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[l.jsx(Ng,{className:"w-4 h-4 mr-2 inline"}),t.isEnabled?"Disable":"Enable"]}),l.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Pg,{className:"w-4 h-4 mr-2 inline"}),"Edit"]})]})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"flex space-x-8",children:av.map(C=>{const B=C.icon;return l.jsxs("button",{onClick:()=>r(C.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${n===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(B,{className:"w-4 h-4"}),l.jsx("span",{children:C.label})]},C.id)})})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n==="overview"&&l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Application Details"}),l.jsxs("dl",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Application ID"}),l.jsx("dd",{className:"text-sm text-gray-900 font-mono",children:t.appId})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Object ID"}),l.jsx("dd",{className:"text-sm text-gray-900 font-mono",children:t.id})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Sign-in Audience"}),l.jsx("dd",{className:"text-sm text-gray-900",children:t.signInAudience})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),l.jsx("dd",{className:"text-sm text-gray-900",children:new Date(t.createdDateTime).toLocaleString()})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Application Status"}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.isEnabled?"Enabled":"Disabled"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Assigned Permissions"}),l.jsxs("span",{className:"text-sm text-gray-900",children:[i.length," granted"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Required Resource Access"}),l.jsxs("span",{className:"text-sm text-gray-900",children:[((Ed=t.requiredResourceAccess)==null?void 0:Ed.length)||0," resources"]})]})]})]})]})}),n==="permissions"&&l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Assigned API Permissions"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Permisos actualmente asignados a esta aplicación (",i.length," total)"]})]}),l.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx($w,{className:"w-4 h-4 mr-2 inline"}),"Add Permission"]})]}),l.jsxs("div",{className:"flex space-x-4 mb-4",children:[l.jsx("button",{className:`px-4 py-2 rounded ${Ve==="admin"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>fr("admin"),children:"Admin Consent"}),l.jsx("button",{className:`px-4 py-2 rounded ${Ve==="user"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>fr("user"),children:"User Consent"})]}),N?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-4",children:[i.filter(C=>Ve==="admin"?C.type==="Application"||C.consentType==="Admin":C.consentType==="User").map(C=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.displayName}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.type==="Application"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:C.type}),l.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:C.api})]}),l.jsx("p",{className:"text-sm text-gray-600",children:C.description}),l.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:[l.jsx("strong",{children:"Value:"})," ",C.value]}),C.consentType&&l.jsxs("span",{className:"text-xs text-gray-500",children:[l.jsx("strong",{children:"Consent:"})," ",C.consentType]}),C.apiId&&l.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["API ID: ",C.apiId]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[Ve==="admin"&&C.type==="Application"&&l.jsx("button",{onClick:async()=>{await fe.revokeAdminConsentForPermission(t.servicePrincipalId||t.id,C.id),await ii()},className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50 transition-colors",title:"Eliminar completamente este permiso y su admin consent",children:l.jsx(zn,{className:"w-4 h-4"})}),Ve==="user"&&C.type==="Delegated"&&l.jsx("button",{onClick:async()=>{T(C),await ov(C.id),v(!0)},className:"text-blue-600 hover:text-blue-800 text-sm px-3 py-1 rounded hover:bg-blue-50 transition-colors",children:"Ver usuarios asignados"})]})]})},C.id)),i.filter(C=>Ve==="admin"?C.consentType==="Admin":C.consentType==="User").length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay permisos asignados para esta categoría."})]})]}),n==="users"&&l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Assigned Users"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Usuarios asignados a esta ",t.isServicePrincipal?"enterprise application":"aplicación"," (",E.length," total)"]})]}),l.jsxs("button",{onClick:()=>Y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Oh,{className:"w-4 h-4 mr-2 inline"}),"Add User"]})]}),F?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):E.length===0?l.jsxs("div",{className:"text-center py-8 border border-gray-200 rounded-lg",children:[l.jsx(Et,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"No users assigned"}),l.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Esta aplicación no tiene usuarios asignados aún."}),l.jsxs("button",{onClick:()=>Y(!0),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:[l.jsx(Oh,{className:"w-3 h-3 mr-1 inline"}),"Add First User"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(C=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Et,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.displayName}),l.jsx("p",{className:"text-xs text-gray-500",children:C.userPrincipalName}),C.jobTitle&&l.jsx("p",{className:"text-xs text-gray-400",children:C.jobTitle})]})]}),l.jsx("button",{onClick:()=>Zy(C.id),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove user",children:l.jsx(zn,{className:"w-4 h-4"})})]})},C.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Assigned Groups"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Grupos asignados a esta ",t.isServicePrincipal?"enterprise application":"aplicación"," (",R.length," total)"]})]}),l.jsxs("button",{onClick:()=>be(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Et,{className:"w-4 h-4 mr-2 inline"}),"Add Group"]})]}),me?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):R.length===0?l.jsxs("div",{className:"text-center py-8 border border-gray-200 rounded-lg",children:[l.jsx(Et,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"No groups assigned"}),l.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Esta aplicación no tiene grupos asignados aún."}),l.jsxs("button",{onClick:()=>be(!0),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:[l.jsx(Et,{className:"w-3 h-3 mr-1 inline"}),"Add First Group"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(C=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Et,{className:"w-4 h-4 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.displayName}),C.description&&l.jsx("p",{className:"text-xs text-gray-500",children:C.description}),C.mail&&l.jsx("p",{className:"text-xs text-gray-400",children:C.mail}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C.securityEnabled&&l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Security"}),C.groupTypes.includes("Unified")&&l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Microsoft 365"})]})]})]}),l.jsx("button",{onClick:()=>tv(C.id),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove group",children:l.jsx(zn,{className:"w-4 h-4"})})]})},C.id))})]})]})}),n==="settings"&&l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:[t.isServicePrincipal?"Enterprise Application":"Application"," Settings"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium text-gray-900",children:[t.isServicePrincipal?"Enterprise Application":"Application"," Status"]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Enable or disable this ",t.isServicePrincipal?"enterprise application":"application"]})]}),l.jsx("button",{className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${t.isEnabled?"bg-blue-600":"bg-gray-200"}`,children:l.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition duration-200 ease-in-out ${t.isEnabled?"translate-x-5":"translate-x-0"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Permissions"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage permissions assigned to this application"})]}),l.jsx("button",{onClick:nv,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Revocar todos los permisos"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Admin Consent"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Revoca el admin consent de todos los permisos delegados"})]}),l.jsx("button",{onClick:rv,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Revocar admin consent"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Permisos Delegados"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Revoca todos los permisos delegados asignados a esta aplicación"})]}),l.jsx("button",{onClick:iv,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Revocar permisos delegados"})]})]})]})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add API Permission"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Busca y selecciona permisos para agregar a la aplicación"})]}),l.jsx("button",{onClick:()=>{h(!1),g("")},className:"text-gray-400 hover:text-gray-600",children:l.jsx(zn,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Buscar permisos por nombre, descripción o API...",value:p,onChange:C=>g(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:(()=>{const C=sv();if(C.length===0)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Hw,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p?"No permissions found":"All permissions assigned"}),l.jsx("p",{className:"text-gray-500",children:p?"Try adjusting your search terms":"Esta aplicación ya tiene todos los permisos disponibles asignados"})]});const B=C.reduce((we,V)=>(we[V.api]||(we[V.api]=[]),we[V.api].push(V),we),{});return l.jsx("div",{className:"space-y-6",children:Object.entries(B).map(([we,V])=>l.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:we}),l.jsxs("p",{className:"text-sm text-gray-500",children:[V.length," available permissions"]})]}),l.jsx("div",{className:"p-4 space-y-3",children:V.map(Vt=>l.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:Vt.displayName}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Vt.type==="Application"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:Vt.type}),Vt.consentType&&l.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:[Vt.consentType," consent"]})]}),l.jsx("p",{className:"text-xs text-gray-600 mb-1",children:Vt.description}),l.jsxs("p",{className:"text-xs text-gray-500",children:[l.jsx("strong",{children:"Value:"})," ",Vt.value]})]}),l.jsx("button",{onClick:()=>Jy(Vt),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Add"})]},Vt.id))})]},we))})})()})]})}),O&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add User"}),l.jsx("button",{onClick:()=>{Y(!1),m(""),Mt([])},className:"text-gray-400 hover:text-gray-600",children:l.jsx(zn,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Buscar y asignar usuarios a esta ",t.isServicePrincipal?"enterprise application":"aplicación"]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:L,onChange:C=>{m(C.target.value),Wy(C.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[cn.length===0&&L.length>=2&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No users found"}),cn.map(C=>l.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Et,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.displayName}),l.jsx("p",{className:"text-xs text-gray-500",children:C.userPrincipalName}),C.jobTitle&&l.jsx("p",{className:"text-xs text-gray-400",children:C.jobTitle})]})]}),l.jsx("button",{onClick:()=>Xy(C.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",disabled:E.some(B=>B.id===C.id),children:E.some(B=>B.id===C.id)?"Assigned":"Add"})]},C.id))]})]})]})}),H&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Group"}),l.jsx("button",{onClick:()=>{be(!1),Fn(""),hr([])},className:"text-gray-400 hover:text-gray-600",children:l.jsx(zn,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Buscar y asignar grupos a esta ",t.isServicePrincipal?"enterprise application":"aplicación"]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search groups...",value:pr,onChange:C=>{Fn(C.target.value),Yy(C.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[ri.length===0&&pr.length>=2&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No groups found"}),ri.map(C=>l.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Et,{className:"w-4 h-4 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.displayName}),C.description&&l.jsx("p",{className:"text-xs text-gray-500",children:C.description}),C.mail&&l.jsx("p",{className:"text-xs text-gray-400",children:C.mail})]})]}),l.jsx("button",{onClick:()=>ev(C.id),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",disabled:R.some(B=>B.id===C.id),children:R.some(B=>B.id===C.id)?"Assigned":"Add"})]},C.id))]})]})]})}),f&&w&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:['Usuarios con el permiso "',w.displayName,'"']}),l.jsx("button",{onClick:()=>{v(!1),ln([])},className:"text-gray-400 hover:text-gray-600",children:l.jsx(zn,{className:"w-5 h-5"})})]})}),l.jsx("div",{className:"p-6",children:Qy?l.jsx("div",{className:"text-center py-4",children:"Cargando usuarios..."}):Dt.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500",children:"No hay usuarios con este permiso."}):l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Dt.map(C=>l.jsx("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.displayName}),l.jsx("p",{className:"text-xs text-gray-500",children:C.userPrincipalName}),C.jobTitle&&l.jsx("p",{className:"text-xs text-gray-400",children:C.jobTitle})]})},C.id))})})]})})]})};function yS(){const[t,e]=j.useState("dashboard"),[n,r]=j.useState(null),[i,o]=j.useState(!1),[s,a]=j.useState(null),[c,u]=j.useState(!1);j.useEffect(()=>{d()},[]);const d=async()=>{try{await ne.initialize();const w=ne.isLoggedIn();if(o(w),w){const T=ne.getAccount();a(T)}}catch(w){console.error("Auth initialization failed:",w)}finally{u(!0)}},h=()=>{const w=ne.getAccount();o(!0),a(w)},f=()=>{switch(t){case"dashboard":return"Dashboard";case"applications":return"Applications";case"service-principals":return"Service Principals";case"permissions":return"Permissions";case"users":return"Users";case"audit":return"Audit Logs";case"settings":return"Settings";default:return"Dashboard"}},v=()=>{if(!i)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Mn,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome to Entra ID Manager"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Please login with your Azure AD account to manage applications and permissions."}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Required Permissions:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Application.ReadWrite.All"}),l.jsx("li",{children:"• Directory.ReadWrite.All"}),l.jsx("li",{children:"• User.Read.All"}),l.jsx("li",{children:"• AppRoleAssignment.ReadWrite.All"})]})]})]})});if(n)return l.jsx(mS,{application:n,onBack:()=>r(null)});switch(t){case"dashboard":return l.jsx(dp,{});case"applications":return l.jsx(gS,{onSelectApplication:r});case"service-principals":return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Service Principals"}),l.jsx("p",{className:"text-gray-500",children:"Service principals management coming soon..."})]});case"permissions":return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Permissions Management"}),l.jsx("p",{className:"text-gray-500",children:"Global permissions management coming soon..."})]});case"users":return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Users"}),l.jsx("p",{className:"text-gray-500",children:"User management coming soon..."})]});case"audit":return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Audit Logs"}),l.jsx("p",{className:"text-gray-500",children:"Audit logging coming soon..."})]});case"settings":return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Settings"}),l.jsx("p",{className:"text-gray-500",children:"Application settings coming soon..."})]});default:return l.jsx(dp,{})}};return c?l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsx(WT,{activeTab:t,onTabChange:w=>{e(w),r(null)},isLoggedIn:i,userInfo:s,onLoginSuccess:h}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(YT,{title:n?n.displayName:f(),onRefresh:()=>window.location.reload()}),l.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6",children:v()})]})]}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}_g(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(yS,{})}));
